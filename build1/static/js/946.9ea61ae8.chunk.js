"use strict";(self.webpackChunkDataLynkr=self.webpackChunkDataLynkr||[]).push([[946],{1321(e,s,o){o.d(s,{Ir:()=>d,Og:()=>c,Su:()=>u,w9:()=>p});var n=o(89379),i=o(34534),r=o(16243),t=o(54996);const l=new Map,a=()=>new Promise((e,s)=>{if(window.google&&window.google.accounts)return void e();const o=document.createElement("script");o.src="https://accounts.google.com/gsi/client",o.async=!0,o.defer=!0,o.onload=()=>{setTimeout(()=>{window.google&&window.google.accounts?e():s(new Error("Google Identity Services failed to load"))},100)},o.onerror=()=>s(new Error("Failed to load Google Identity Services")),document.body.appendChild(o)}),d=async function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("\ud83d\udd11 getValidGoogleTokenFromConfigs called:",{tallylocId:e,coGuid:s,userEmail:o}),!e||!s)return console.log("\u274c Missing tallylocId or coGuid"),null;if((0,t.isExternalUser)()&&(o=o||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null),!o))return console.log("\u26a0\ufe0f External user but no email provided"),null;try{const i=await c(e,s,o);if(!i)return console.log("\u26a0\ufe0f No stored token found"),null;if(await(async e=>{if(!e)return!1;try{const s=await fetch("https://www.googleapis.com/oauth2/v1/tokeninfo?access_token="+e);if(s.ok){const e=await s.json();if(e.expires_in&&e.expires_in>0)return!0}return!1}catch(s){return console.warn("Token validation failed:",s),!1}})(i))return console.log("\u2705 Stored token is still valid"),i;console.log("\u26a0\ufe0f Stored token expired, attempting refresh...");try{const n=await async function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((i,l)=>{(0,r.isGoogleDriveFullyConfigured)().configured?!(0,t.isExternalUser)()||(n=n||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null),n)?a().then(()=>{window.google.accounts.oauth2.initTokenClient({client_id:r.GOOGLE_DRIVE_CONFIG.CLIENT_ID,scope:r.GOOGLE_DRIVE_CONFIG.SCOPES,callback:async r=>{if(r.error)l(new Error(r.error_description||r.error));else if(r.access_token){if(e&&s)try{let i=o;if(!i)try{const e=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:"Bearer ".concat(r.access_token)}});if(e.ok){const s=await e.json();i=s.name||s.displayName||s.email||""}}catch(t){console.warn("Failed to fetch display name:",t)}await u(e,s,r.access_token,i,n)}catch(t){console.warn("\u26a0\ufe0f Failed to update backend with refreshed token:",t)}i(r.access_token)}else l(new Error("No access token received"))}}).requestAccessToken({prompt:""})}).catch(l):l(new Error("External users must provide their email address")):l(new Error("Google API credentials not configured"))})}(e,s,null,o);return console.log("\u2705 Token refreshed successfully"),n}catch(n){return console.error("\u274c Failed to refresh token:",n),null}}catch(i){return console.error("\u274c Error in getValidGoogleTokenFromConfigs:",i),null}},c=async function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("\ud83d\udd11 getGoogleTokenFromConfigs called:",{tallylocId:e,coGuid:s,userEmail:o}),!e||!s)return console.log("\u274c Missing tallylocId or coGuid",{tallylocId:e,coGuid:s}),null;const n=(0,t.isExternalUser)();if(n&&(o=o||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null),!o))return console.log("\u26a0\ufe0f External user but no email provided"),null;const r=n&&o?"".concat(e,"_").concat(s,"_").concat(o.toLowerCase()):"".concat(e,"_").concat(s),a=l.get(r);if(a&&Date.now()-a.timestamp<3e5)return console.log("\u2705 Using cached token"),a.token;try{let t="/api/cmpconfig/list?tallyloc_id=".concat(e,"&co_guid=").concat(s);n&&o&&(t+="&user_email=".concat(encodeURIComponent(o))),console.log("\ud83d\udce1 Fetching configs from API:",t);const a=await(0,i.Vg)(t);if(!a)return console.log("\u274c No data returned from API"),null;let d=[];if(Array.isArray(a))d=a;else if(a.data&&Array.isArray(a.data))d=a.data;else{if(!(a.success&&a.data&&Array.isArray(a.data)))return console.warn("\u26a0\ufe0f Unexpected response format:",{isArray:Array.isArray(a),hasData:!!a.data,keys:a?Object.keys(a):[]}),null;d=a.data}console.log("\ud83d\udccb Found configs:",d.length);let c=null;if(n&&o){const e=o.toLowerCase();c=d.find(s=>s.config_key==="google_token_user_".concat(e)||"google_token"===s.config_key&&s.user_email===e)}if(!c&&(c=d.find(e=>"google_token"===e.config_key),n&&c))return console.log("\u26a0\ufe0f External user attempted to use company-wide token - denying access"),null;if(!c)return console.log("\u26a0\ufe0f No google_token config found in configs."),console.log("\ud83d\udccb Available config keys:",d.map(e=>e.config_key).filter(Boolean).slice(0,20)),null;console.log("\ud83d\udd0d Token config object:",{config_key:c.config_key,permission_value_type:typeof c.permission_value,permission_value_length:"string"===typeof c.permission_value?c.permission_value.length:"N/A",permission_value_preview:"string"===typeof c.permission_value?"".concat(c.permission_value.substring(0,50),"..."):c.permission_value,config_value_type:typeof c.config_value,config_value_length:"string"===typeof c.config_value?c.config_value.length:"N/A",config_value_preview:"string"===typeof c.config_value?"".concat(c.config_value.substring(0,50),"..."):c.config_value,full_config:c});const p=c.permission_value||c.config_value;if(c.permission_value&&c.config_value?console.log("\ud83d\udccb Token found in both permission_value and config_value, using permission_value"):c.config_value&&console.log("\ud83d\udccb Token found in config_value (permission_value was empty)"),p&&"string"===typeof p&&p.trim().length>0){const e=p.trim();return console.log("\u2705 Google token found in configs:",{length:e.length,first_50_chars:e.substring(0,50),last_50_chars:e.substring(Math.max(0,e.length-50)),full_token:e,starts_with:e.substring(0,20),ends_with:e.substring(Math.max(0,e.length-20))}),l.set(r,{token:e,timestamp:Date.now()}),e}return console.warn("\u26a0\ufe0f google_token config found but permission_value is invalid:",{hasPermissionValue:!!c.permission_value,permissionValueType:typeof c.permission_value,permissionValueLength:"string"===typeof c.permission_value?c.permission_value.length:"N/A",permissionValue:c.permission_value,full_config:c}),null}catch(d){return console.error("\u274c Error fetching Google token from configs:",d),null}},p=(new Map,new Map,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w800";if(!e)return console.log("\u274c getGoogleDriveCDNUrl: No imagePath provided"),null;console.log("\ud83d\udd0d getGoogleDriveCDNUrl: Processing:",null===e||void 0===e?void 0:e.substring(0,100));let o=null;if(/^[a-zA-Z0-9_-]{15,}$/.test(e.trim()))o=e.trim(),console.log("\u2705 getGoogleDriveCDNUrl: Detected as file ID:",o.substring(0,50));else if(e.includes("drive.google.com")){const s=[/\/file\/d\/([a-zA-Z0-9_-]+)/,/\/d\/([a-zA-Z0-9_-]+)/,/\/uc\?id=([a-zA-Z0-9_-]+)/,/\/open\?id=([a-zA-Z0-9_-]+)/,/[?&]id=([a-zA-Z0-9_-]+)/];for(const n of s){const s=e.match(n);if(s&&s[1]){o=s[1],console.log("\u2705 getGoogleDriveCDNUrl: Extracted file ID from URL:",o.substring(0,50));break}}}else if(/^https?:\/\//.test(e))return console.log("\u274c getGoogleDriveCDNUrl: Direct URL (not Google Drive)"),null;if(!o)return console.log("\u274c getGoogleDriveCDNUrl: Could not extract file ID"),null;if(!/^[a-zA-Z0-9_-]{15,}$/.test(o))return console.log("\u274c getGoogleDriveCDNUrl: Invalid file ID format:",o.substring(0,50)),null;const n="https://lh3.googleusercontent.com/d/".concat(o,"=").concat(s);console.log("\u2705 getGoogleDriveCDNUrl: Generated CDN URL:",n);const i="https://drive.google.com/thumbnail?id=".concat(o,"&sz=").concat(s);return console.log("\ud83d\udd0d getGoogleDriveCDNUrl: Alternative format:",i),n}),u=async function(e,s,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(console.log("\ud83d\udcbe saveGoogleTokenToConfigs called:",{tallylocId:e,coGuid:s,userEmail:a}),!e||!s||!o)throw new Error("Missing required parameters");const d=(0,t.isExternalUser)();if(d&&(a=a||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null),!a))throw new Error("External users must provide their email address");try{let t="/api/cmpconfig/list?tallyloc_id=".concat(e,"&co_guid=").concat(s);d&&a&&(t+="&user_email=".concat(encodeURIComponent(a)));const c=await(0,i.Vg)(t);let p=[];Array.isArray(c)?p=c:(null!==c&&void 0!==c&&c.data&&Array.isArray(c.data)||null!==c&&void 0!==c&&c.success&&null!==c&&void 0!==c&&c.data&&Array.isArray(c.data))&&(p=c.data);const u=d&&a?"google_token_user_".concat(a.toLowerCase()):"google_token",m=d&&a?"google_display_name_user_".concat(a.toLowerCase()):"google_display_name";let g=p.map(e=>e.config_key===u?(0,n.A)((0,n.A)({},e),{},{permission_value:o,config_value:o,is_enabled:!0}):r&&e.config_key===m?(0,n.A)((0,n.A)({},e),{},{permission_value:r,config_value:r}):e);g.find(e=>e.config_key===u)||g.push({config_key:u,permission_value:o,config_value:o,is_enabled:!0,user_email:d&&a?a.toLowerCase():void 0}),r&&!g.find(e=>e.config_key===m)&&g.push({config_key:m,permission_value:r,config_value:r,user_email:d&&a?a.toLowerCase():void 0});const f={tallyloc_id:e,co_guid:s,co_name:(p[0]||{}).co_name||"",configurations:g.map(e=>({config_id:e.config_id||e.id,is_enabled:!0===e.is_enabled||1===e.is_enabled,permission_value:e.permission_value||e.config_value||""})),user_email:d&&a?a.toLowerCase():void 0};await(0,i.apiPost)("/api/cmpconfig/update",f);const h=d&&a?"".concat(e,"_").concat(s,"_").concat(a.toLowerCase()):"".concat(e,"_").concat(s);l.delete(h),console.log("\u2705 Google token saved successfully")}catch(c){throw console.error("\u274c Error saving Google token:",c),c}}},6096(){},7694(e,s,o){o.d(s,{A:()=>a});var n=o(89379),i=o(9950),r=o(64842),t=o(16243),l=o(44414);const a=function(){const[e,s]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[d,c]=(0,i.useState)([]),[p,u]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[f,h]=(0,i.useState)(""),[y,x]=(0,i.useState)(""),[_,b]=(0,i.useState)(null),[v,w]=(0,i.useState)([]),[k,S]=(0,i.useState)(!1),[j,C]=(0,i.useState)([]),[z,A]=(0,i.useState)([]),[M,I]=(0,i.useState)({});(0,i.useEffect)(()=>{R(),P()},[]),(0,i.useEffect)(()=>{o.length>0&&A(o)},[o]);const R=async()=>{u(!0),h("");try{const[e,o]=await Promise.all([r._j.getAllModules(),r._j.getOwnerSelectedModules()]);s(e.modules||[]),a(o.modules||[]),c(o.modules||[])}catch(f){h((0,r.KI)(f))}finally{u(!1)}},P=async()=>{S(!0);try{const e=await r.Fo.getAllPermissions();w(e.permissions||[])}catch(f){console.error("Error loading permissions:",f)}finally{S(!1)}},E=z.length>0&&JSON.stringify(z.sort((e,s)=>e.id-s.id))!==JSON.stringify(o.sort((e,s)=>e.id-s.id)),T=Object.keys(M).length>0,L=E||T,N=e.filter(e=>e.display_name.toLowerCase().includes(y.toLowerCase())||e.name.toLowerCase().includes(y.toLowerCase())||e.description&&e.description.toLowerCase().includes(y.toLowerCase())),D=()=>{_&&I(e=>(0,n.A)((0,n.A)({},e),{},{[_]:[...j]})),b(null),C([])},W=e=>j.some(s=>s.id===e),F=e=>{const s=j.some(s=>s.id===e),o=B(v,e);if(o)if(s){const s=V(o),n=[e,...s];C(e=>e.filter(e=>!n.includes(e.id)))}else C(e=>[...e,o])},O=e=>{if(!e.is_child||!e.parent_permission_id)return!0;if(!W(e.parent_permission_id))return!1;const s=B(v,e.parent_permission_id);return!(s&&s.is_child&&s.parent_permission_id)||O(s)},B=(e,s)=>{for(const o of e)if(o.permissions){const e=G(o.permissions,s);if(e)return e}return null},G=(e,s)=>{for(const o of e){if(o.id===s)return o;if(o.children&&o.children.length>0){const e=G(o.children,s);if(e)return e}}return null},V=e=>{let s=[];if(e.children&&e.children.length>0)for(const o of e.children)s.push(o.id),s=s.concat(V(o));return s},U=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>{const o=W(e.id),i=!O(e);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0",transition:"all 0.2s",background:"transparent",border:"none",fontSize:14,minHeight:"40px",boxSizing:"border-box",opacity:i?.5:1,width:"100%",userSelect:"none"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[(0,l.jsx)("div",{onClick:s=>{s.preventDefault(),s.stopPropagation(),i||F(e.id)},style:{width:20,height:20,border:"2px solid #d1d5db",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:i?"#f3f4f6":o?"#F27020":"transparent",borderColor:i?"#e5e7eb":o?"#F27020":"#d1d5db",transition:"all 0.2s",flexShrink:0,cursor:i?"not-allowed":"pointer"},children:o&&(0,l.jsx)("span",{className:"material-icons",style:{fontSize:12,color:"#fff",fontWeight:"bold"},children:"check"})}),(0,l.jsxs)("div",{style:{flex:1,marginLeft:24*s+(0===s?12:0),marginRight:"24px"},children:[(0,l.jsx)("div",{style:{color:o?"#1e40af":"#374151",fontWeight:o?600:400,fontSize:15,lineHeight:1.5,marginBottom:e.description?4:0,fontStyle:e.is_child?"italic":"normal"},children:e.display_name}),e.description&&(0,l.jsx)("div",{style:{color:"#6b7280",fontSize:13,lineHeight:1.4,fontWeight:400},children:e.description})]})]}),o&&("string"===e.permission_type||"number"===e.permission_type)&&(0,l.jsx)("div",{style:{marginLeft:"12px",minWidth:"120px"},children:(0,l.jsx)("input",{type:"number"===e.permission_type?"number":"text",value:(()=>{const s=j.find(s=>s.id===e.id);return(null===s||void 0===s?void 0:s.permission_value)||""})(),onChange:s=>{C(o=>o.map(o=>o.id===e.id?(0,n.A)((0,n.A)({},o),{},{permission_value:s.target.value}):o))},placeholder:"number"===e.permission_type?"Enter number":"Enter value",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:4,fontSize:13,outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})}),o&&"select"===e.permission_type&&(0,l.jsx)("div",{style:{marginLeft:"12px",minWidth:"120px"},children:(0,l.jsxs)("select",{value:(()=>{const s=j.find(s=>s.id===e.id);return(null===s||void 0===s?void 0:s.permission_value)||""})(),onChange:s=>{C(o=>o.map(o=>o.id===e.id?(0,n.A)((0,n.A)({},o),{},{permission_value:s.target.value}):o))},style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:4,fontSize:13,outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db",children:[(0,l.jsx)("option",{value:"",children:"Select option"}),e.permission_options&&e.permission_options.map((e,s)=>(0,l.jsx)("option",{value:e,children:e},s))]})})]}),e.children&&e.children.length>0&&(0,l.jsx)("div",{style:{marginTop:"2px"},children:U(e.children,s+1)})]},e.id)})};return(0,l.jsxs)("div",{style:{width:"100%",maxWidth:"1400px",margin:"0"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:32,marginTop:50},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{style:{color:"#1e40af",fontWeight:700,fontSize:28,margin:0,display:"flex",alignItems:"center",gap:12},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:32,color:"#1e40af"},children:"apps"}),"Modules Management"]}),(0,l.jsx)("div",{style:{color:"#64748b",fontSize:16,marginTop:4},children:"Select which modules are available for your organization"})]}),(0,l.jsxs)("div",{style:{background:"#f0f9ff",color:"#0369a1",padding:"8px 16px",borderRadius:20,fontSize:14,fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"bar_chart"}),o.length," of ",e.length," selected"]})]}),(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(31,38,135,0.08)",padding:24,marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center",gap:16},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1},children:[(0,l.jsx)("span",{className:"material-icons",style:{color:"#64748b",fontSize:20},children:"search"}),(0,l.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),placeholder:"Search modules...",style:{padding:"12px 16px",borderRadius:8,border:"1.5px solid #e2e8f0",fontSize:16,width:"100%",maxWidth:400,outline:"none",background:"#f8fafc",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,l.jsx)("button",{onClick:R,disabled:p,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",border:"none",borderRadius:8,width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 8px 0 rgba(59,130,246,0.20)"},title:"Refresh modules",onMouseEnter:e=>{e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 4px 12px 0 rgba(59,130,246,0.30)"},onMouseLeave:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 2px 8px 0 rgba(59,130,246,0.20)"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:24,color:"#fff",animation:p?"spin 1s linear infinite":"none"},children:"refresh"})}),(0,l.jsxs)("button",{onClick:async()=>{g(!0),h("");try{const e=z.map(e=>e.id),n=[];z.forEach(e=>{const s=M[e.id];if(void 0!==s)s.forEach(e=>{n.push({id:e.id,permission_value:e.permission_value||null})});else{const s=o.find(s=>s.id===e.id);s&&s.permissions&&s.permissions.forEach(e=>{1===e.granted&&n.push({id:e.id,permission_value:e.permission_value||null})})}}),await r._j.updateOwnerModuleSelection(e,n);const[i,l]=await Promise.all([r._j.getAllModules(),r._j.getOwnerSelectedModules()]);s(i.modules||[]),a(l.modules||[]),c(l.modules||[]),A(l.modules||[]),I({}),(0,r.rG)("Module selection updated successfully");try{const e=JSON.parse(sessionStorage.getItem("allConnections")||"[]"),s=sessionStorage.getItem("selectedCompanyGuid"),o=sessionStorage.getItem("selectedCompanyTallylocId"),n=e.find(e=>e.guid===s&&(!o||String(e.tallyloc_id)===String(o)));if(n&&n.tallyloc_id&&n.guid){window.dispatchEvent(new CustomEvent("globalRefresh"));const e=Date.now(),s=(0,t.getApiUrl)("/api/access-control/user-access?tallylocId=".concat(n.tallyloc_id,"&co_guid=").concat(n.guid,"&_t=").concat(e));fetch(s,{method:"GET",headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then(e=>{if(e.ok)return e.json();throw new Error("Failed to refresh user permissions")}).then(e=>{sessionStorage.setItem("userAccessPermissions",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("userAccessUpdated",{detail:e})),console.log("\u2705 User permissions refreshed after module save")}).catch(e=>{console.warn("\u26a0\ufe0f Could not refresh user permissions:",e),window.dispatchEvent(new CustomEvent("userAccessUpdated"))})}else console.warn("\u26a0\ufe0f No company selected, skipping permission refresh")}catch(f){console.warn("\u26a0\ufe0f Error refreshing permissions:",f),window.dispatchEvent(new CustomEvent("userAccessUpdated"))}}catch(f){h((0,r.KI)(f))}finally{g(!1)}},disabled:m||p||!L,style:{background:"linear-gradient(135deg, #F27020 0%, #e55a00 100%)",border:"none",borderRadius:8,padding:"12px 20px",color:"#fff",fontSize:14,fontWeight:600,cursor:m?"not-allowed":"pointer",opacity:m?.7:1,boxShadow:"0 2px 8px 0 rgba(242, 112, 32, 0.2)",transition:"all 0.2s",display:"flex",alignItems:"center",gap:8},onMouseEnter:e=>{m||(e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 4px 12px 0 rgba(242, 112, 32, 0.30)")},onMouseLeave:e=>{m||(e.target.style.transform="scale(1)",e.target.style.boxShadow="0 2px 8px 0 rgba(242, 112, 32, 0.20)")},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"save"}),m?"Saving...":"Save Selection"]})]})]}),f&&(0,l.jsxs)("div",{style:{marginBottom:24,padding:"12px 16px",background:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:8,fontSize:14,display:"flex",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"error"}),f]}),(0,l.jsx)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(31,38,135,0.08)",overflow:"hidden"},children:p?(0,l.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#64748b"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#F27020",animation:"spin 1s linear infinite"},children:"refresh"}),(0,l.jsx)("p",{style:{margin:"16px 0 0 0",fontSize:16},children:"Loading modules..."})]}):0===N.length?(0,l.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#64748b"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#cbd5e1"},children:"apps"}),(0,l.jsx)("p",{style:{margin:"16px 0 0 0",fontSize:16},children:y?"No modules found matching your search":"No modules available"})]}):(0,l.jsx)("div",{style:{maxHeight:"500px",overflowY:"auto",padding:"16px"},children:N.map((s,n)=>{const i=(r=s.id,z.length>0?z.some(e=>e.id===r):o.some(e=>e.id===r));var r;const t=v.find(e=>e.module_id===s.id),a=t&&t.permissions&&t.permissions.length>0,d=i&&a;return(0,l.jsxs)("div",{style:{background:i?"#f0f9ff":"#fff",border:i?"1px solid #0ea5e9":"1px solid #e2e8f0",borderRadius:"12px",padding:"16px 20px",marginBottom:"12px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"16px"},onClick:()=>(s=>{A(o=>{if(o.some(e=>e.id===s))return o.filter(e=>e.id!==s);{const n=e.find(e=>e.id===s);return n?[...o,{id:n.id,name:n.name,display_name:n.display_name,is_enabled:!0}]:o}})})(s.id),onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px 0 rgba(59,130,246,0.10)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},children:[(0,l.jsx)("div",{style:{width:20,height:20,border:"2px solid #d1d5db",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:i?"#F27020":"transparent",borderColor:i?"#F27020":"#d1d5db",transition:"all 0.2s",cursor:"pointer",flexShrink:0},children:i&&(0,l.jsx)("span",{className:"material-icons",style:{fontSize:14,color:"#fff",fontWeight:"bold"},children:"check"})}),(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("div",{style:{fontSize:15,fontWeight:600,color:"#1e40af",marginBottom:4},children:s.display_name}),s.description&&(0,l.jsx)("div",{style:{fontSize:13,color:"#64748b",lineHeight:1.4},children:s.description}),M[s.id]&&M[s.id].length>0&&(0,l.jsx)("div",{style:{fontSize:12,color:"#F27020",fontWeight:500,marginTop:4},children:"Pending permission changes"})]}),d&&(0,l.jsx)("button",{onClick:e=>((e,s)=>{s.stopPropagation(),b(e);const n=M[e];if(n&&n.length>0)C([...n]);else{const s=o.find(s=>s.id===e),n=s&&s.permissions?s.permissions.filter(e=>1===e.granted):[];C([...n])}})(s.id,e),style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",color:"#64748b",flexShrink:0},onMouseEnter:e=>{e.target.style.background="#f1f5f9",e.target.style.color="#F27020"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#64748b"},title:"Configure permissions",children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"settings"})})]},s.id)})})}),!p&&N.length>0&&(0,l.jsx)("div",{style:{marginTop:24,padding:"16px 24px",background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:14,color:"#64748b"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"info"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:o.length})," modules selected out of ",(0,l.jsx)("strong",{children:e.length})," available modules.",o.length>0&&" These modules will be available for role assignment and user access."]})]})}),_&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001,padding:20},children:(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 20px 40px 0 rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",margin:"0 20px"},children:[(0,l.jsxs)("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsx)("h3",{style:{margin:0,fontSize:18,fontWeight:600,color:"#1e40af"},children:"Configure Permissions"}),(0,l.jsx)("button",{onClick:D,style:{background:"none",border:"none",fontSize:24,color:"#64748b",cursor:"pointer",padding:4},children:"\xd7"})]}),(0,l.jsx)("div",{style:{padding:"24px",overflowY:"auto",flex:1,minHeight:0,boxSizing:"border-box"},children:(()=>{const s=e.find(e=>e.id===_),o=v.find(e=>e.module_id===_);return s&&o&&o.permissions?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{marginBottom:16},children:[(0,l.jsx)("div",{style:{fontSize:16,fontWeight:600,color:"#1e40af",marginBottom:4},children:s.display_name}),s.description&&(0,l.jsx)("div",{style:{fontSize:13,color:"#64748b",lineHeight:1.4},children:s.description})]}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",padding:"8px 0"},children:U(o.permissions)}),j.length>0&&(0,l.jsxs)("div",{style:{marginTop:"16px",padding:"12px 16px",background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",fontSize:"14px",color:"#0369a1",display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"info"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:j.length})," permissions selected"]})]})]}):(0,l.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#64748b",fontSize:14},children:"No permissions available for this module."})})()}),(0,l.jsx)("div",{style:{padding:"20px 24px",borderTop:"1px solid #e2e8f0",display:"flex",gap:12,justifyContent:"flex-end"},children:(0,l.jsx)("button",{onClick:D,style:{padding:"12px 24px",border:"1.5px solid #e2e8f0",borderRadius:8,background:"#fff",color:"#64748b",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.borderColor="#cbd5e1",e.target.style.color="#374151"},onMouseLeave:e=>{e.target.style.borderColor="#e2e8f0",e.target.style.color="#64748b"},children:"Close"})})]})}),(0,l.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},46938(e,s,o){o.d(s,{A:()=>l});var n=o(89379),i=o(9950),r=o(64842),t=o(44414);const l=function(){const[e,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!1),[a,d]=(0,i.useState)(""),[c,p]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),[g,f]=(0,i.useState)(null),[h,y]=(0,i.useState)({display_name:"",description:"",selectedModules:[],selectedPermissions:[]}),[x,_]=(0,i.useState)([]),[b,v]=(0,i.useState)([]),[w,k]=(0,i.useState)(null);(0,i.useEffect)(()=>{S(),j(),C()},[]);const S=async()=>{l(!0),d("");try{const e=await r.eV.getAllRoles();s(e.roles||[])}catch(a){d((0,r.KI)(a))}finally{l(!1)}},j=async()=>{try{const e=await r._j.getOwnerSelectedModules();_(e.modules||[])}catch(a){console.warn("Failed to load modules:",a)}},C=async()=>{try{const e=await r.Fo.getAllPermissions();v(e.permissions||[])}catch(a){console.warn("Failed to load permissions:",a);v([{module_id:1,module_name:"place_order",module_display_name:"Place Order",module_description:"Standard place order functionality",permissions:[{id:1,permission_key:"view",display_name:"View Place Order",description:"Can view place order page and data",is_parent:!1,is_child:!1,children:[]},{id:2,permission_key:"create",display_name:"Create Orders",description:"Can create new orders",is_parent:!1,is_child:!1,children:[]}]}])}},z=()=>{f(null),y({display_name:"",description:"",selectedModules:[],selectedPermissions:[]}),k(null)},A=()=>{m(!1),f(null),y({display_name:"",description:"",selectedModules:[],selectedPermissions:[]}),k(null)},M=e=>{let s=null;for(const n of b)if(n.permissions&&E(n.permissions,e)){s=n;break}if(!(s&&h.selectedModules.some(e=>e.id===s.module_id)))return;const o=h.selectedPermissions.some(s=>s.id===e),i=P(b,e);if(i)if(o){const s=T(i),o=[e,...s];y(e=>(0,n.A)((0,n.A)({},e),{},{selectedPermissions:e.selectedPermissions.filter(e=>!o.includes(e.id))}))}else y(e=>(0,n.A)((0,n.A)({},e),{},{selectedPermissions:[...e.selectedPermissions,i]}))},I=()=>{k(null)},R=e=>{if(!e.is_child||!e.parent_permission_id)return!0;if(!h.selectedPermissions.some(s=>s.id===e.parent_permission_id))return!1;const s=P(b,e.parent_permission_id);return!(s&&s.is_child&&s.parent_permission_id)||R(s)},P=(e,s)=>{for(const o of e)if(o.permissions){const e=E(o.permissions,s);if(e)return e}return null},E=(e,s)=>{for(const o of e){if(o.id===s)return o;if(o.children&&o.children.length>0){const e=E(o.children,s);if(e)return e}}return null},T=e=>{const s=[];return e.children&&e.children.length>0&&e.children.forEach(e=>{s.push(e.id),s.push(...T(e))}),s},L=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>{const o=(i=e.id,h.selectedPermissions.some(e=>e.id===i));var i;const r=h.selectedModules.some(e=>e.id===w),l=R(e),a=!r||!l;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0",transition:"all 0.2s",background:"transparent",border:"none",fontSize:14,minHeight:"40px",boxSizing:"border-box",opacity:a?.5:1,width:"100%",userSelect:"none"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[(0,t.jsx)("div",{onClick:s=>{s.preventDefault(),s.stopPropagation(),a||M(e.id)},style:{width:20,height:20,border:"2px solid #d1d5db",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:a?"#f3f4f6":o?"#F27020":"transparent",borderColor:a?"#e5e7eb":o?"#F27020":"#d1d5db",transition:"all 0.2s",flexShrink:0,cursor:a?"not-allowed":"pointer"},children:o&&(0,t.jsx)("span",{className:"material-icons",style:{fontSize:12,color:"#fff",fontWeight:"bold"},children:"check"})}),(0,t.jsxs)("div",{style:{flex:1,marginLeft:24*s+(0===s?12:0),marginRight:"24px"},children:[(0,t.jsxs)("div",{style:{color:a?"#9ca3af":o?"#1e40af":"#374151",fontWeight:o?600:400,fontSize:15,lineHeight:1.5,marginBottom:e.description?4:0,fontStyle:e.is_child?"italic":"normal"},children:[e.display_name,e.is_child&&!l&&(0,t.jsx)("span",{style:{fontSize:11,color:"#f59e0b",marginLeft:8,fontStyle:"italic",fontWeight:400},children:"(Parent required)"})]}),e.description&&(0,t.jsx)("div",{style:{color:a?"#d1d5db":"#6b7280",fontSize:13,lineHeight:1.4,fontWeight:400},children:e.description})]})]}),o&&("string"===e.permission_type||"number"===e.permission_type)&&(0,t.jsx)("div",{style:{marginLeft:"12px",minWidth:"120px"},children:(0,t.jsx)("input",{type:"number"===e.permission_type?"number":"text",value:(()=>{const s=h.selectedPermissions.find(s=>s.id===e.id);return(null===s||void 0===s?void 0:s.permission_value)||""})(),onChange:s=>{y(o=>(0,n.A)((0,n.A)({},o),{},{selectedPermissions:o.selectedPermissions.map(o=>o.id===e.id?(0,n.A)((0,n.A)({},o),{},{permission_value:s.target.value}):o)}))},placeholder:"number"===e.permission_type?"Enter number":"Enter value",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:4,fontSize:13,outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db"})}),o&&"select"===e.permission_type&&(0,t.jsx)("div",{style:{marginLeft:"12px",minWidth:"120px"},children:(0,t.jsxs)("select",{value:(()=>{const s=h.selectedPermissions.find(s=>s.id===e.id);return(null===s||void 0===s?void 0:s.permission_value)||""})(),onChange:s=>{y(o=>(0,n.A)((0,n.A)({},o),{},{selectedPermissions:o.selectedPermissions.map(o=>o.id===e.id?(0,n.A)((0,n.A)({},o),{},{permission_value:s.target.value}):o)}))},style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:4,fontSize:13,outline:"none",background:"#fff",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#d1d5db",children:[(0,t.jsx)("option",{value:"",children:"Select option"}),e.permission_options&&e.permission_options.map((e,s)=>(0,t.jsx)("option",{value:e,children:e},s))]})})]}),e.children&&e.children.length>0&&(0,t.jsx)("div",{style:{marginTop:"2px"},children:L(e.children,s+1)})]},e.id)})},N=e.filter(e=>e.display_name.toLowerCase().includes(c.toLowerCase())||e.name.toLowerCase().includes(c.toLowerCase())||e.description&&e.description.toLowerCase().includes(c.toLowerCase()));return(0,t.jsxs)("div",{style:{width:"100%",maxWidth:"1400px",margin:"0"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:32,marginTop:50},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{style:{color:"#1e40af",fontWeight:700,fontSize:28,margin:0,display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:32,color:"#1e40af"},children:"group"}),"Roles Management"]}),(0,t.jsx)("div",{style:{color:"#64748b",fontSize:16,marginTop:4},children:"Create and manage user roles with specific permissions"})]}),(0,t.jsxs)("div",{style:{background:"#f0f9ff",color:"#0369a1",padding:"8px 16px",borderRadius:20,fontSize:14,fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"bar_chart"}),e.length," roles"]})]}),(0,t.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(31,38,135,0.08)",padding:24,marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center",gap:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1},children:[(0,t.jsx)("span",{className:"material-icons",style:{color:"#64748b",fontSize:20},children:"search"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>p(e.target.value),placeholder:"Search roles...",style:{padding:"12px 16px",borderRadius:8,border:"1.5px solid #e2e8f0",fontSize:16,width:"100%",maxWidth:400,outline:"none",background:"#f8fafc",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,t.jsx)("button",{onClick:S,disabled:o,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",border:"none",borderRadius:8,width:44,height:48,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 8px 0 rgba(59,130,246,0.20)"},title:"Refresh roles",onMouseEnter:e=>{o||(e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 4px 12px 0 rgba(59,130,246,0.30)")},onMouseLeave:e=>{o||(e.target.style.transform="scale(1)",e.target.style.boxShadow="0 2px 8px 0 rgba(59,130,246,0.20)")},children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:24,color:"#fff",animation:o?"spin 1s linear infinite":"none"},children:"refresh"})}),(0,t.jsxs)("button",{onClick:()=>{m(!0),f(null)},style:{background:"linear-gradient(135deg, #F27020 0%, #e55a00 100%)",border:"none",borderRadius:8,padding:"12px 20px",color:"#fff",fontSize:14,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(242, 112, 32, 0.2)",transition:"all 0.2s",display:"flex",alignItems:"center",gap:8},onMouseEnter:e=>{e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 4px 12px 0 rgba(242, 112, 32, 0.30)"},onMouseLeave:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 2px 8px 0 rgba(242, 112, 32, 0.20)"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"add"}),"Create Role"]})]})]}),a&&(0,t.jsxs)("div",{style:{marginBottom:24,padding:"12px 16px",background:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:8,fontSize:14,display:"flex",alignItems:"center",gap:8,marginLeft:20,marginRight:20},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"error"}),a]}),(0,t.jsx)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px 0 rgba(31,38,135,0.08)",overflow:"hidden",marginBottom:24},children:o?(0,t.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#64748b"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#F27020",animation:"spin 1s linear infinite"},children:"refresh"}),(0,t.jsx)("p",{style:{margin:"16px 0 0 0",fontSize:16},children:"Loading roles..."})]}):0===N.length?(0,t.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#64748b"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#cbd5e1"},children:"group"}),(0,t.jsx)("p",{style:{margin:"16px 0 0 0",fontSize:16},children:c?"No roles found matching your search":"No roles available"})]}):(0,t.jsx)("div",{style:{maxHeight:"500px",overflowY:"auto"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[(0,t.jsx)("thead",{style:{position:"sticky",top:0,zIndex:10},children:(0,t.jsxs)("tr",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"},children:[(0,t.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:700,color:"#1e293b",fontSize:14,textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #e2e8f0",width:"70%"},children:"Role Details"}),(0,t.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:700,color:"#1e293b",fontSize:14,textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #e2e8f0",width:"30%"},children:"Actions"})]})}),(0,t.jsx)("tbody",{children:N.map((e,s)=>(0,t.jsxs)("tr",{style:{background:s%2===0?"#fff":"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[(0,t.jsxs)("td",{style:{padding:"12px 16px",verticalAlign:"top"},children:[(0,t.jsx)("div",{style:{fontWeight:600,color:"#1e293b",fontSize:14},children:e.display_name}),(0,t.jsx)("div",{style:{color:"#64748b",fontSize:12,marginTop:2},children:e.description||"No description provided"})]}),(0,t.jsx)("td",{style:{padding:"12px 16px",verticalAlign:"top"},children:(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:()=>(async e=>{try{f(e),m(!1);const s=await r.eV.getRoleDetails(e.id),o=s.modules.map(e=>({id:e.module_id,name:e.module_name,display_name:e.module_display_name,description:e.module_description})),n=[];s.modules.forEach(e=>{e.permissions&&e.permissions.forEach(e=>{n.push({id:e.permission_id,permission_key:e.permission_key,display_name:e.display_name,description:e.description,permission_type:e.permission_type,permission_value:e.permission_value})})}),y({display_name:s.role.display_name,description:s.role.description||"",selectedModules:o,selectedPermissions:n})}catch(a){console.error("Error loading role details:",a),d("Failed to load role details"),y({display_name:e.display_name,description:e.description||"",selectedModules:[],selectedPermissions:[]})}})(e),style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:4,padding:"6px 12px",fontSize:12,fontWeight:600,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#1e40af"},onMouseLeave:e=>{e.target.style.backgroundColor="#3b82f6"},onMouseDown:e=>{e.target.style.backgroundColor="#1e40af"},onMouseUp:e=>{e.target.style.backgroundColor="#3b82f6"},children:"Edit"}),(0,t.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this role?"))try{const s=await r.eV.deleteRole(e);if(s&&s.error){let e=s.error;return s.details&&(e+=". ".concat(s.details)),void d(e)}(0,r.rG)("Role deleted successfully"),S()}catch(a){let s="An error occurred while deleting the role";if(a.response&&a.response.data){const o=a.response.data;o.error?(s=o.error,o.details&&(s+=". ".concat(o.details))):o.message&&(s=o.message)}else a.message&&(s=a.message);d(s)}})(e.id),style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:4,padding:"6px 12px",fontSize:12,fontWeight:600,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#b91c1c"},onMouseLeave:e=>{e.target.style.backgroundColor="#dc2626"},onMouseDown:e=>{e.target.style.backgroundColor="#b91c1c"},onMouseUp:e=>{e.target.style.backgroundColor="#dc2626"},children:"Delete"})]})})]},"role-".concat(e.id)))})]})})}),!o&&N.length>0&&(0,t.jsx)("div",{style:{marginTop:24,padding:"16px 24px",background:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0",marginLeft:20,marginRight:20},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:14,color:"#64748b"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"info"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:e.length}),' roles available. Click "Create Role" to add new roles or use the action buttons to edit/delete existing roles.']})]})}),(u||g)&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},children:(0,t.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 20px 40px 0 rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",margin:"0 20px"},children:[(0,t.jsxs)("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("h3",{style:{margin:0,fontSize:20,fontWeight:600,color:"#1e40af"},children:g?"Edit Role":"Create New Role"}),(0,t.jsx)("button",{onClick:g?z:A,style:{background:"none",border:"none",fontSize:24,color:"#64748b",cursor:"pointer",padding:4},children:"\xd7"})]}),(0,t.jsxs)("div",{style:{padding:"24px",overflowY:"auto",flex:1,minHeight:0,boxSizing:"border-box"},children:[(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Display Name *"}),(0,t.jsx)("input",{type:"text",value:h.display_name,onChange:e=>y((0,n.A)((0,n.A)({},h),{},{display_name:e.target.value})),placeholder:"e.g., Administrator, Manager, User",style:{width:"100%",padding:"12px 16px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:16,outline:"none",background:"#f8fafc",transition:"border-color 0.2s",boxSizing:"border-box",maxWidth:"100%"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Description"}),(0,t.jsx)("textarea",{value:h.description,onChange:e=>y((0,n.A)((0,n.A)({},h),{},{description:e.target.value})),placeholder:"Describe the role's purpose and permissions...",rows:3,style:{width:"100%",padding:"12px 16px",border:"1.5px solid #e2e8f0",borderRadius:8,fontSize:16,outline:"none",background:"#f8fafc",transition:"border-color 0.2s",boxSizing:"border-box",maxWidth:"100%",resize:"vertical",fontFamily:"inherit"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e2e8f0"})]}),(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:12,fontWeight:600,color:"#374151"},children:"Select Modules & Permissions"}),(0,t.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1.5px solid #e2e8f0",borderRadius:8,background:"#f8fafc",padding:"8px"},children:0===x.length?(0,t.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#64748b",fontSize:14},children:"No modules available. Please select modules in Modules Management first."}):x.map(e=>{const s=(o=e.id,h.selectedModules.some(e=>e.id===o));var o;const i=b.find(s=>s.module_id===e.id),r=i&&i.permissions&&i.permissions.length>0;return(0,t.jsx)("div",{style:{marginBottom:12},children:(0,t.jsxs)("div",{onClick:()=>(e=>{const s=h.selectedModules.some(s=>s.id===e),o=x.find(s=>s.id===e),i=b.find(s=>s.module_id===e),r=i?i.permissions:[];if(s){const s=r.map(e=>e.id);y(o=>(0,n.A)((0,n.A)({},o),{},{selectedModules:o.selectedModules.filter(s=>s.id!==e),selectedPermissions:o.selectedPermissions.filter(e=>!s.includes(e.id))}))}else o&&y(e=>{const s=r.filter(s=>!e.selectedPermissions.some(e=>e.id===s.id));return(0,n.A)((0,n.A)({},e),{},{selectedModules:[...e.selectedModules,o],selectedPermissions:[...e.selectedPermissions,...s]})})})(e.id),style:{display:"flex",alignItems:"center",padding:"12px 16px",cursor:"pointer",borderRadius:8,transition:"all 0.2s",background:s?"#f0f9ff":"#ffffff",border:s?"2px solid #e0f2fe":"2px solid #e2e8f0",boxShadow:s?"0 2px 8px rgba(59, 130, 246, 0.1)":"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.target.style.background=s?"#e0f2fe":"#f8fafc",e.target.style.borderColor=s?"#bae6fd":"#cbd5e1"},onMouseLeave:e=>{e.target.style.background=s?"#f0f9ff":"#ffffff",e.target.style.borderColor=s?"#e0f2fe":"#e2e8f0"},children:[(0,t.jsx)("div",{style:{width:20,height:20,border:"2px solid #d1d5db",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:s?"#F27020":"transparent",borderColor:s?"#F27020":"#d1d5db",transition:"all 0.2s",marginRight:16},children:s&&(0,t.jsx)("span",{className:"material-icons",style:{fontSize:14,color:"#fff",fontWeight:"bold"},children:"check"})}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontSize:16,fontWeight:600,color:"#1e40af",marginBottom:4},children:e.display_name}),e.description&&(0,t.jsx)("div",{style:{fontSize:13,color:"#64748b",lineHeight:1.4},children:e.description})]}),r&&(0,t.jsx)("button",{onClick:s=>((e,s)=>{s.stopPropagation(),k(e)})(e.id,s),style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",color:"#64748b"},onMouseEnter:e=>{e.target.style.background="#f1f5f9",e.target.style.color="#F27020"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color="#64748b"},title:"Configure permissions",children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"settings"})})]})},e.id)})}),(h.selectedModules.length>0||h.selectedPermissions.length>0)&&(0,t.jsxs)("div",{style:{marginTop:8,fontSize:12,color:"#64748b",display:"flex",alignItems:"center",gap:4},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:16},children:"info"}),h.selectedModules.length," module",1!==h.selectedModules.length?"s":""," selected",h.selectedPermissions.length>0&&(0,t.jsxs)("span",{style:{marginLeft:8},children:["\u2022 ",h.selectedPermissions.length," permission",1!==h.selectedPermissions.length?"s":""," selected"]})]})]})]}),(0,t.jsxs)("div",{style:{padding:"20px 24px",borderTop:"1px solid #e2e8f0",display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:g?z:A,style:{padding:"12px 24px",border:"1.5px solid #e2e8f0",borderRadius:8,background:"#fff",color:"#64748b",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.borderColor="#cbd5e1",e.target.style.color="#374151"},onMouseLeave:e=>{e.target.style.borderColor="#e2e8f0",e.target.style.color="#64748b"},children:"Cancel"}),(0,t.jsx)("button",{onClick:g?async()=>{try{const e={};h.selectedModules.forEach(s=>{e[s.id]={module_id:s.id,permissions:[]}}),h.selectedPermissions.forEach(s=>{let o=null;for(const e of b)if(e.permissions&&E(e.permissions,s.id)){o=e;break}o&&e[o.module_id]&&e[o.module_id].permissions.push({id:s.id,permission_value:s.permission_value||null})});const s={roleId:g.id,name:h.display_name.toLowerCase().replace(/\s+/g,"_"),display_name:h.display_name,description:h.description,modules:Object.values(e)};console.log("Update Role Payload:",s),console.log("Selected Permissions:",h.selectedPermissions),await r.eV.updateRole(g.id,s),(0,r.rG)("Role updated successfully"),f(null),m(!1),y({display_name:"",description:"",selectedModules:[],selectedPermissions:[]}),S()}catch(a){d((0,r.KI)(a))}}:async()=>{try{const e={};h.selectedModules.forEach(s=>{e[s.id]={module_id:s.id,permissions:[]}}),h.selectedPermissions.forEach(s=>{let o=null;for(const e of b)if(e.permissions&&E(e.permissions,s.id)){o=e;break}o&&e[o.module_id]&&e[o.module_id].permissions.push({id:s.id,permission_value:s.permission_value||null})});const s={name:h.display_name.toLowerCase().replace(/\s+/g,"_"),display_name:h.display_name,description:h.description,modules:Object.values(e)};console.log("Create Role Payload:",s),console.log("Selected Permissions:",h.selectedPermissions),await r.eV.createRole(s),(0,r.rG)("Role created successfully"),m(!1),f(null),y({display_name:"",description:"",selectedModules:[],selectedPermissions:[]}),S()}catch(a){d((0,r.KI)(a))}},disabled:!h.display_name,style:{padding:"12px 24px",border:"none",borderRadius:8,background:"linear-gradient(135deg, #F27020 0%, #e55a00 100%)",color:"#fff",fontSize:14,fontWeight:600,cursor:h.display_name?"pointer":"not-allowed",opacity:h.display_name?1:.7,transition:"all 0.2s"},onMouseEnter:e=>{h.display_name&&(e.target.style.transform="scale(1.05)")},onMouseLeave:e=>{h.display_name&&(e.target.style.transform="scale(1)")},children:g?"Update Role":"Create Role"})]})]})}),w&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001,padding:20},children:(0,t.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 20px 40px 0 rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"600px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column",margin:"0 20px"},children:[(0,t.jsxs)("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("h3",{style:{margin:0,fontSize:18,fontWeight:600,color:"#1e40af"},children:"Configure Permissions"}),(0,t.jsx)("button",{onClick:I,style:{background:"none",border:"none",fontSize:24,color:"#64748b",cursor:"pointer",padding:4},children:"\xd7"})]}),(0,t.jsx)("div",{style:{padding:"24px",overflowY:"auto",flex:1,minHeight:0,boxSizing:"border-box"},children:(()=>{const e=x.find(e=>e.id===w),s=b.find(e=>e.module_id===w);return e&&s&&s.permissions?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsx)("div",{style:{fontSize:16,fontWeight:600,color:"#1e40af",marginBottom:4},children:e.display_name}),e.description&&(0,t.jsx)("div",{style:{fontSize:13,color:"#64748b",lineHeight:1.4},children:e.description})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px",padding:"8px 0"},children:L(s.permissions)})]}):(0,t.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#64748b",fontSize:14},children:"No permissions available for this module."})})()}),(0,t.jsx)("div",{style:{padding:"20px 24px",borderTop:"1px solid #e2e8f0",display:"flex",gap:12,justifyContent:"flex-end"},children:(0,t.jsx)("button",{onClick:I,style:{padding:"12px 24px",border:"1.5px solid #e2e8f0",borderRadius:8,background:"#fff",color:"#64748b",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.borderColor="#cbd5e1",e.target.style.color="#374151"},onMouseLeave:e=>{e.target.style.borderColor="#e2e8f0",e.target.style.color="#64748b"},children:"Close"})})]})}),(0,t.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},48247(e,s,o){o.d(s,{a:()=>a,q:()=>l});var n=o(89379),i=o(9950),r=o(1049),t=o(44414);const l=e=>{let{isOpen:s,onClose:o,sidebarItems:l,activeSidebar:a,onSidebarClick:d,name:c,email:p,companyName:u,onProfileClick:m,onLogout:g,onNavigate:f}=e;const[h,y]=i.useState({});return s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9998,animation:"fadeIn 0.3s ease-out"},onClick:o}),(0,t.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"280px",height:"100vh",background:"linear-gradient(180deg, #1e3a8a 0%, #3b82f6 100%)",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"4px 0 20px rgba(0, 0, 0, 0.3)",animation:"slideInLeft 0.3s ease-out",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:o,style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e4,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="scale(1)"},children:(0,t.jsx)("span",{className:"material-icons",style:{color:"#fff",fontSize:"24px"},children:"close"})}),(0,t.jsxs)("div",{style:{padding:"24px 20px",display:"flex",alignItems:"center",gap:"12px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",flexShrink:0},children:[(0,t.jsx)("img",{src:r,alt:"Tally Logo",style:{height:40,width:"auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}}),(0,t.jsx)("span",{style:{color:"#fff",fontWeight:700,fontSize:20,letterSpacing:.5,textShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:"DataLynkr"})]}),u&&(0,t.jsx)("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",flexShrink:0,background:"rgba(255, 255, 255, 0.05)"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18,color:"rgba(255, 255, 255, 0.9)"},children:"business"}),(0,t.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.95)",fontSize:"14px",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u})]})}),(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"16px 0",display:"flex",flexDirection:"column",gap:"4px"},children:l.map(e=>{const s=a===e.key||e.subModules&&e.subModules.some(e=>e.key===a),i=h[e.key],r=e.hasSubModules&&e.subModules&&e.subModules.length>0;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>{var s;r?(s=e.key,y(e=>(0,n.A)((0,n.A)({},e),{},{[s]:!e[s]}))):(d(e.key),o())},style:{background:s?"linear-gradient(135deg, rgba(255, 152, 0, 0.25) 0%, rgba(255, 152, 0, 0.15) 100%)":"transparent",color:s?"#ff9800":"rgba(255, 255, 255, 0.95)",border:s?"1px solid rgba(255, 152, 0, 0.4)":"1px solid transparent",padding:"18px 20px",display:"flex",alignItems:"center",gap:"16px",borderRadius:"0",fontWeight:s?700:600,cursor:"pointer",fontSize:"15px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"left",width:"100%",borderLeft:s?"5px solid #ff9800":"5px solid transparent",boxShadow:s?"inset 4px 0 12px rgba(255, 152, 0, 0.2), 0 2px 8px rgba(0, 0, 0, 0.1)":"none",position:"relative",margin:"2px 0",overflow:"hidden"},onMouseEnter:e=>{s||(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.boxShadow="inset 0 0 20px rgba(255, 255, 255, 0.1), 0 2px 12px rgba(0, 0, 0, 0.15)",e.currentTarget.style.borderLeft="5px solid rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{s||(e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.boxShadow="none",e.currentTarget.style.borderLeft="5px solid transparent")},children:[s&&(0,t.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"5px",background:"linear-gradient(180deg, #ff9800 0%, #ff6f00 100%)",boxShadow:"0 0 12px rgba(255, 152, 0, 0.6)"}}),(0,t.jsx)("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:s?"linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(255, 152, 0, 0.2) 100%)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.3s",boxShadow:s?"0 4px 12px rgba(255, 152, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)":"0 2px 6px rgba(0, 0, 0, 0.2)"},children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:24,color:s?"#ff9800":"rgba(255, 255, 255, 0.95)",transition:"all 0.3s",filter:s?"drop-shadow(0 2px 4px rgba(255, 152, 0, 0.4))":"none"},children:e.icon})}),(0,t.jsx)("span",{style:{flex:1,textAlign:"left",letterSpacing:"0.3px",fontSize:"15px",fontWeight:s?700:600},children:e.label}),r&&(0,t.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:i?"rgba(255, 152, 0, 0.2)":"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:20,color:s?"#ff9800":"rgba(255, 255, 255, 0.8)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s",transform:i?"rotate(180deg)":"rotate(0deg)"},children:"expand_more"})}),s&&!r&&(0,t.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"linear-gradient(135deg, #ff9800 0%, #ff6f00 100%)",boxShadow:"0 0 12px rgba(255, 152, 0, 0.8), 0 0 24px rgba(255, 152, 0, 0.4)",animation:"pulse 2s ease-in-out infinite"}})]}),r&&i&&(0,t.jsx)("div",{style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0.15) 100%)",padding:"12px 0",marginTop:"8px",marginLeft:"20px",marginRight:"12px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0 2px 8px rgba(0, 0, 0, 0.2), 0 4px 12px rgba(0, 0, 0, 0.3)",overflow:"hidden"},children:e.subModules.map((s,n)=>{const i=a===s.key;return(0,t.jsxs)("button",{onClick:()=>{d(s.key),o()},style:{background:i?"linear-gradient(135deg, rgba(255, 152, 0, 0.25) 0%, rgba(255, 152, 0, 0.15) 100%)":"transparent",color:i?"#ff9800":"rgba(255, 255, 255, 0.9)",padding:"16px 20px 16px 20px",display:"flex",alignItems:"center",gap:"16px",borderRadius:"8px",fontWeight:i?700:500,cursor:"pointer",fontSize:"14px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"left",width:"calc(100% - 16px)",margin:"4px 8px",borderLeft:i?"4px solid #ff9800":"4px solid transparent",borderBottom:n<e.subModules.length-1?"1px solid rgba(255, 255, 255, 0.08)":"none",position:"relative",boxShadow:i?"0 2px 8px rgba(255, 152, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1)":"none"},onMouseEnter:e=>{i||(e.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)",e.currentTarget.style.color="rgba(255, 255, 255, 1)",e.currentTarget.style.transform="translateX(6px) scale(1.02)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",e.currentTarget.style.borderLeft="4px solid rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{i||(e.currentTarget.style.background="transparent",e.currentTarget.style.color="rgba(255, 255, 255, 0.9)",e.currentTarget.style.transform="translateX(0) scale(1)",e.currentTarget.style.boxShadow="none",e.currentTarget.style.borderLeft="4px solid transparent")},children:[(0,t.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:i?"linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(255, 152, 0, 0.2) 100%)":"rgba(255, 255, 255, 0.08)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.3s",boxShadow:i?"0 2px 8px rgba(255, 152, 0, 0.3)":"0 1px 4px rgba(0, 0, 0, 0.2)"},children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18,color:i?"#ff9800":"rgba(255, 255, 255, 0.8)",transition:"all 0.3s"},children:s.icon})}),(0,t.jsx)("span",{style:{flex:1,textAlign:"left",letterSpacing:"0.3px",fontSize:"14px"},children:s.label}),i&&(0,t.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"linear-gradient(135deg, #ff9800 0%, #ff6f00 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(255, 152, 0, 0.5)",flexShrink:0},children:(0,t.jsx)("span",{className:"material-icons",style:{fontSize:14,color:"#fff"},children:"check"})})]},s.key)})})]},e.key)})}),(0,t.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",flexDirection:"column",gap:"12px",flexShrink:0,background:"rgba(0, 0, 0, 0.1)"},children:[(0,t.jsxs)("button",{onClick:()=>{m(),o()},style:{background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"10px",padding:"12px 16px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",color:"#fff",fontSize:"14px",fontWeight:600,transition:"all 0.2s ease",width:"100%"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.25)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.15)",e.currentTarget.style.transform="translateY(0)"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:24},children:"account_circle"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1},children:[(0,t.jsx)("span",{style:{fontSize:"14px",fontWeight:600},children:c||"User"}),(0,t.jsx)("span",{style:{fontSize:"12px",opacity:.8},children:p||""})]})]}),(0,t.jsxs)("button",{onClick:()=>{g(),o()},style:{background:"rgba(220, 38, 38, 0.2)",border:"1px solid rgba(220, 38, 38, 0.4)",borderRadius:"10px",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",color:"#fff",fontSize:"14px",fontWeight:600,transition:"all 0.2s ease",width:"100%"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(220, 38, 38, 0.3)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(220, 38, 38, 0.2)",e.currentTarget.style.transform="translateY(0)"},children:[(0,t.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"logout"}),(0,t.jsx)("span",{children:"Logout"})]})]})]}),(0,t.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          @keyframes slideInLeft {\n            from { \n              transform: translateX(-100%);\n            }\n            to { \n              transform: translateX(0);\n            }\n          }\n          @keyframes pulse {\n            0%, 100% {\n              opacity: 1;\n              transform: scale(1);\n            }\n            50% {\n              opacity: 0.7;\n              transform: scale(1.1);\n            }\n          }\n          @keyframes slideDown {\n            from {\n              opacity: 0;\n              transform: translateY(-10px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        "})]}):null},a=()=>{const[e,s]=i.useState(window.innerWidth<=768);return i.useEffect(()=>{const e=()=>{s(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},64842(e,s,o){o.d(s,{Fo:()=>d,KI:()=>c,_j:()=>l,eV:()=>a,rG:()=>p});var n=o(34534);o(16243);const i="/api/access-control",r=[{id:1,name:"place_order",display_name:"Place Order",description:"Standard place order functionality",route_path:"/api/tally/place-order",parent_module_id:null,sort_order:1,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:2,name:"ecommerce_place_order",display_name:"Ecommerce Place Order",description:"Ecommerce order management system",route_path:"/api/tally/ecommerce-place-order",parent_module_id:null,sort_order:2,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:3,name:"ledger_report",display_name:"Ledger Report",description:"Generate and view ledger reports",route_path:"/api/tally/ledger-report",parent_module_id:null,sort_order:3,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:4,name:"ledger_voucher",display_name:"Ledger Voucher",description:"Manage ledger vouchers and entries",route_path:"/api/tally/ledger-voucher",parent_module_id:null,sort_order:4,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:5,name:"bill_wise_report",display_name:"Bill Wise Report",description:"Generate bill-wise analysis reports",route_path:"/api/tally/bill-wise-report",parent_module_id:null,sort_order:5,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:6,name:"stock_report",display_name:"Stock Report",description:"Inventory and stock management reports",route_path:"/api/tally/stock-report",parent_module_id:null,sort_order:6,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:7,name:"sales_report",display_name:"Sales Report",description:"Sales analysis and reporting",route_path:"/api/tally/sales-report",parent_module_id:null,sort_order:7,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:8,name:"purchase_report",display_name:"Purchase Report",description:"Purchase analysis and reporting",route_path:"/api/tally/purchase-report",parent_module_id:null,sort_order:8,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:9,name:"financial_report",display_name:"Financial Report",description:"Comprehensive financial reporting",route_path:"/api/tally/financial-report",parent_module_id:null,sort_order:9,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:10,name:"user_management",display_name:"User Management",description:"Manage users and permissions",route_path:"/api/tally/user-management",parent_module_id:null,sort_order:10,is_active:!0,created_at:"2024-01-01T00:00:00.000Z"}],t=[{id:1,name:"admin",display_name:"Administrator",description:"Full system access with all permissions",is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:2,name:"manager",display_name:"Manager",description:"Management level access with reporting permissions",is_active:!0,created_at:"2024-01-01T00:00:00.000Z"},{id:3,name:"user",display_name:"Standard User",description:"Basic user access with limited permissions",is_active:!0,created_at:"2024-01-01T00:00:00.000Z"}],l={getAllModules:async()=>{try{return await(0,n.Vg)("".concat(i,"/modules/all"))}catch(e){return console.warn("Access Control API not available, using mock data"),{modules:r}}},getOwnerSelectedModules:async()=>{try{return await(0,n.Vg)("".concat(i,"/modules/owner-selected"))}catch(e){return console.warn("Access Control API not available, using mock data"),{modules:r.slice(0,8).map(e=>({id:e.id,name:e.name,display_name:e.display_name,is_enabled:!0}))}}},updateOwnerModuleSelection:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return await(0,n.mu)("".concat(i,"/modules/update-selections"),{moduleIds:e,permissions:s})}catch(o){return console.warn("Access Control API not available, simulating success"),{message:"Module selection updated successfully (simulated)"}}}},a={getAllRoles:async()=>{try{return await(0,n.Vg)("".concat(i,"/roles/all"))}catch(e){return console.warn("Access Control API not available, using mock data"),{roles:t}}},getRoleDetails:async e=>{try{return await(0,n.Vg)("".concat(i,"/roles/").concat(e))}catch(s){console.warn("Access Control API not available, using mock data");const o=t.find(s=>s.id===parseInt(e));return{role:{id:(null===o||void 0===o?void 0:o.id)||1,name:(null===o||void 0===o?void 0:o.name)||"test_role",display_name:(null===o||void 0===o?void 0:o.display_name)||"Test Role",description:(null===o||void 0===o?void 0:o.description)||"Test role description",is_active:1,created_at:(new Date).toISOString()},modules:[{module_id:1,module_name:"place_order",module_display_name:"Place Order",module_description:"Standard place order functionality",route_path:"/api/tally/place-order",permissions:[{permission_id:1,permission_key:"view",display_name:"View Place Order",description:"Can view place order page and data",granted:1,permission_type:"boolean",permission_value:null},{permission_id:2,permission_key:"create",display_name:"Create Orders",description:"Can create new orders",granted:1,permission_type:"boolean",permission_value:null}]},{module_id:2,module_name:"ecommerce_place_order",module_display_name:"Ecommerce Place Order",module_description:"Ecommerce-specific place order with enhanced features",route_path:"/api/ecommerce/place-order",permissions:[{permission_id:3,permission_key:"view",display_name:"View Ecommerce Orders",description:"Can view ecommerce order page and data",granted:1,permission_type:"boolean",permission_value:null}]}],totalModules:2,totalPermissions:3}}},createRole:async e=>{try{return await(0,n.apiPost)("".concat(i,"/roles/create-or-update"),e)}catch(s){return console.warn("Access Control API not available, simulating success"),{message:"Role created successfully",roleId:Date.now(),action:"created",permissionsCount:e.modules.reduce((e,s)=>e+(s.permissions?s.permissions.length:0),0),modulesCount:e.modules.length}}},updateRole:async(e,s)=>{try{return await(0,n.apiPost)("".concat(i,"/roles/create-or-update"),s)}catch(o){return console.warn("Access Control API not available, simulating success"),{message:"Role updated successfully",roleId:e,action:"updated",permissionsCount:s.modules.reduce((e,s)=>e+(s.permissions?s.permissions.length:0),0),modulesCount:s.modules.length}}},deleteRole:async e=>{try{return await(0,n.Al)("".concat(i,"/roles/").concat(e))}catch(s){return console.warn("Access Control API not available, simulating success"),{message:"Role deleted successfully (simulated)"}}},getOwnerRoles:async()=>{try{return await(0,n.Vg)("".concat(i,"/roles/owner-selection"))}catch(e){return console.warn("Access Control API not available, using mock data"),{roles:t.filter(e=>e.is_enabled)}}},updateOwnerRoleSelection:async e=>{try{return await(0,n.mu)("".concat(i,"/roles/update-selections"),{roleIds:e})}catch(s){return console.warn("Access Control API not available, simulating success"),{message:"Role selection updated successfully (simulated)"}}}},d={getAllPermissions:async()=>{try{return await(0,n.Vg)("".concat(i,"/permissions/all?includeHierarchy=true"))}catch(e){return console.warn("Access Control API not available, using mock data"),{permissions:[{module_id:1,module_name:"place_order",module_display_name:"Place Order",module_description:"Standard place order functionality",module_sort_order:1,permissions:[{id:57,permission_key:"save_optional",display_name:"Save Order by default as Optional",description:null,sort_order:1,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]},{id:58,permission_key:"show_payterms",display_name:"Enable Payment Terms",description:null,sort_order:2,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]},{id:59,permission_key:"show_delvterms",display_name:"Enable Delivery Terms",description:null,sort_order:3,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]},{id:60,permission_key:"show_rateamt_Column",display_name:"Enable Rate and Amount Fields",description:null,sort_order:4,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!0,is_child:!1,children:[{id:61,permission_key:"edit_rate",display_name:"Allow Rate Modification",description:null,sort_order:5,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:60,parent_permission_key:"show_rateamt_Column",parent_permission_name:"Enable Rate and Amount Fields",is_parent:!1,is_child:!0,children:[]},{id:62,permission_key:"show_disc_Column",display_name:"Enable Discount Field",description:null,sort_order:6,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:60,parent_permission_key:"show_rateamt_Column",parent_permission_name:"Enable Rate and Amount Fields",is_parent:!0,is_child:!0,children:[{id:63,permission_key:"edit_discount",display_name:"Allow Discount Modification",description:null,sort_order:7,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:62,parent_permission_key:"show_disc_Column",parent_permission_name:"Enable Discount Field",is_parent:!1,is_child:!0,children:[]}]}]},{id:90,permission_key:"def_vchtype",display_name:"Default Voucher Type",description:null,sort_order:14,permission_value:"Sales Order",permission_type:"string",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!0,is_child:!1,children:[{id:91,permission_key:"allow_vchtype",display_name:"Allow User to Select Voucher Type",description:null,sort_order:15,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:90,parent_permission_key:"def_vchtype",parent_permission_name:"Default Voucher Type",is_parent:!1,is_child:!0,children:[]}]},{id:92,permission_key:"def_qty",display_name:"Set Default Qty Value",description:null,sort_order:16,permission_value:null,permission_type:"number",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]}]},{module_id:2,module_name:"ecommerce_place_order",module_display_name:"Ecommerce Place Order",module_description:"Ecommerce-specific place order with enhanced features",module_sort_order:2,permissions:[{id:70,permission_key:"save_optional",display_name:"Save Order by default as Optional",description:null,sort_order:1,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]},{id:85,permission_key:"show_image",display_name:"Show Stockitem Image",description:null,sort_order:14,permission_value:null,permission_type:"boolean",permission_options:null,parent_permission_id:null,parent_permission_key:null,parent_permission_name:null,is_parent:!1,is_child:!1,children:[]}]}]}}},getUserPermissions:async e=>{try{return await(0,n.Vg)("".concat(i,"/permissions/user-permissions/").concat(e))}catch(s){return console.warn("Access Control API not available, using mock data"),{permissions:[]}}},grantPermission:async e=>{try{return await(0,n.apiPost)("".concat(i,"/permissions/grant-permission"),e)}catch(s){return console.warn("Access Control API not available, simulating success"),{message:"Permission updated successfully (simulated)"}}},checkPermission:async e=>{try{return await(0,n.apiPost)("".concat(i,"/permissions/check"),e)}catch(s){return console.warn("Access Control API not available, using mock data"),{hasPermission:!0,source:"role",roleName:"Administrator"}}}},c=e=>e.response&&e.response.data?e.response.data.message||e.response.data.error||"An error occurred":e.message||"An unexpected error occurred",p=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";console.log("".concat(s.toUpperCase(),": ").concat(e));const o=document.createElement("div");o.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    padding: 12px 20px;\n    border-radius: 8px;\n    color: white;\n    font-weight: 500;\n    z-index: 10000;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transform: translateX(100%);\n    transition: transform 0.3s ease;\n    max-width: 300px;\n    word-wrap: break-word;\n  ",o.style.background="success"===s?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"error"===s?"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)":"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",o.textContent=e,document.body.appendChild(o),setTimeout(()=>{o.style.transform="translateX(0)"},100),setTimeout(()=>{o.style.transform="translateX(100%)",setTimeout(()=>{document.body.contains(o)&&document.body.removeChild(o)},300)},3e3)}},79983(e,s,o){o.d(s,{De:()=>n,EA:()=>u,Ld:()=>p,NE:()=>r,OA:()=>l,P6:()=>f,Sj:()=>g,TT:()=>a,_m:()=>d,aH:()=>m,jf:()=>i,nn:()=>t,xU:()=>c});o(9950),o(44414);const n=[{key:"main_menu",id:"main",label:"Main Menu",icon:"home",alwaysVisible:!0,permissions:{}},{key:"sales_dashboard",id:"sales_dashboard",label:"Sales Dashboard",icon:"analytics",permissions:{show_profit:"show_profit"}},{key:"receivables_dashboard",id:"receivables_dashboard",label:"Receivables Dashboard",icon:"account_balance",permissions:{}},{key:"receipt_find_party",id:"receipt_find_party",label:"Receipt Find Party",icon:"search",permissions:{}},{key:"place_order",id:"order",label:"Place Order",icon:"shopping_cart",permissions:{save_optional:"save_optional",show_payterms:"show_payterms",show_delvterms:"show_delvterms",show_rateamt_Column:"show_rateamt_Column",edit_rate:"edit_rate",show_disc_Column:"show_disc_Column",edit_discount:"edit_discount",show_clsstck_Column:"show_ClsStck_Column",show_clsstck_yesno:"show_ClsStck_yesno",show_godownbrkup:"show_godownbrkup",show_multicobrkup:"show_multicobrkup",show_itemdesc:"show_itemdesc",show_itemshasqty:"show_itemshasqty",def_qty:"def_qty",show_batches:"show_batches",show_pricelvl:"show_pricelvl",def_orderduedays:"def_orderduedays",show_ordduedate:"show_ordduedate",show_ordershare:"show_ordershare",show_creditdayslimit:"show_creditdayslimit",ctrl_creditdayslimit:"ctrl_creditdayslimit"}},{key:"ecommerce_place_order",id:"ecommerce",label:"B-Commerce Place Order",icon:"storefront",permissions:{save_optional:"save_optional",show_payterms:"show_payterms",show_delvterms:"show_delvterms",show_rateamt_Column:"show_rateamt_Column",edit_rate:"edit_rate",show_disc_Column:"show_disc_Column",edit_discount:"edit_discount",show_clsstck_Column:"show_ClsStck_Column",show_clsstck_yesno:"show_ClsStck_yesno",show_godownbrkup:"show_godownbrkup",show_multicobrkup:"show_multicobrkup",show_itemdesc:"show_itemdesc",show_itemshasqty:"show_itemshasqty",show_image:"show_image",def_qty:"def_qty",show_batches:"show_batches",show_pricelvl:"show_pricelvl",def_orderduedays:"def_orderduedays",show_ordduedate:"show_ordduedate",show_ordershare:"show_ordershare",show_creditdayslimit:"show_creditdayslimit",ctrl_creditdayslimit:"ctrl_creditdayslimit"}},{key:"vendor_expenses",id:"vendor_expenses",label:"Vendor/Expenses",icon:"people",permissions:{}},{key:"reports",id:"reports",label:"Reports",icon:"description",hasSubModules:!0,useRightSideDropdown:!0,subModules:[{key:"sales_order_report",id:"sales_order_report",label:"Sales Order Report",icon:"assessment",permissions:{},requiredModules:["place_order","ecommerce_place_order"]},{key:"payment_voucher_report",id:"payment_voucher_report",label:"Voucher/Expense Report",icon:"account_balance_wallet",permissions:{},requiredModules:["vendor_expenses"]}],permissions:{}},{key:"transaction",id:"transaction",label:"Transaction",icon:"swap_horiz",hasSubModules:!0,subModules:[{key:"sales_order",id:"sales_order",label:"Sales Order",icon:"receipt",permissions:{}}],permissions:{}},{key:"ledger_book",id:"ledger",label:"Ledger Book",icon:"menu_book",hasSubModules:!0,useDropdownFilter:!0,subModules:[{key:"ledger_voucher",id:"ledgerwise",label:"Ledger Vouchers",icon:"assessment",permissions:{view:"view_ledgerwise",export:"export_ledgerwise",print:"print_ledgerwise"}},{key:"bill_wise_report",id:"billwise",label:"Bill wise O/s",icon:"receipt",permissions:{view:"view_billwise",export:"export_billwise",print:"print_billwise"}}],permissions:{}},{key:"company_orders",id:"company_orders",label:"Company Orders",icon:"shopping_bag",permissions:{}},{key:"voucher_authorization",id:"voucher_authorization",label:"Voucher Authorization",icon:"approval",permissions:{def_daterange:"def_daterange",adv_vchauth:"adv_vchauth"}},{key:"master_management",id:"master_management",label:"Master Management",icon:"business_center",hasSubModules:!0,useRightSideDropdown:!0,subModules:[{key:"master_creation",id:"master_form",label:"Master Creation",icon:"person_add",permissions:{}},{key:"master_authorization",id:"master_authorization",label:"Master Authorization",icon:"verified_user",permissions:{}},{key:"master_creation",id:"master_list",label:"Master List",icon:"list",permissions:{}}],permissions:{}},{key:"cache_management",id:"cache_management",label:"Cache Management",icon:"storage",alwaysVisible:!1,permissions:{}},{key:"gmail_json",id:"gmail_json",label:"Gmail JSON",icon:"email",alwaysVisible:!0,permissions:{}}],i=(e,s)=>s.some(s=>s.module_name===e),r=(e,s)=>{const o=n.find(s=>s.key===e);return!(!o||!o.hasSubModules)&&o.subModules.some(e=>s.some(s=>s.module_name===e.key))},t=(e,s)=>s.some(s=>s.module_name===e),l=(e,s)=>e.requiredModules&&Array.isArray(e.requiredModules)?e.requiredModules.some(e=>i(e,s)):t(e.key,s),a=(e,s)=>{const o=n.find(s=>s.key===e);return!(!o||!o.hasSubModules)&&o.subModules.some(e=>l(e,s))},d=(e,s,o)=>{var n;const i=o.find(s=>s.module_name===e);return!!i&&(null===(n=i.permissions)||void 0===n?void 0:n.some(e=>e.permission_key===s&&e.granted))},c=(e,s,o)=>{var n;const i=o.find(s=>s.module_name===e);if(!i)return null;const r=null===(n=i.permissions)||void 0===n?void 0:n.find(e=>e.permission_key===s&&e.granted);return(null===r||void 0===r?void 0:r.permission_value)||null},p=()=>{var e;return(null===(e=JSON.parse(sessionStorage.getItem("userAccessPermissions")||"{}").data)||void 0===e?void 0:e.modules)||[]},u=(e,s)=>{const o=n.find(s=>s.key===e);return o&&o.useDropdownFilter&&o.hasSubModules?o.subModules.filter(e=>t(e.key,s)):[]},m=e=>{const s=n.find(s=>s.key===e);return!0===(null===s||void 0===s?void 0:s.useDropdownFilter)},g=e=>{const s=n.find(s=>s.key===e);return!0===(null===s||void 0===s?void 0:s.alwaysVisible)},f=e=>{const s=n.find(s=>s.key===e);return!0===(null===s||void 0===s?void 0:s.useRightSideDropdown)}}}]);