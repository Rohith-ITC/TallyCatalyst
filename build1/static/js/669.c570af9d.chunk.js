"use strict";(self.webpackChunkDataLynkr=self.webpackChunkDataLynkr||[]).push([[669],{757(e,n,t){t.d(n,{$c:()=>c,AR:()=>r,Zz:()=>l,f8:()=>d,ss:()=>o,vq:()=>s,vv:()=>a});var i=t(34534);const r=async()=>null,s=async()=>({canCreate:!0,reason:"API endpoints not available, allowing creation"}),o=e=>{if(!e)return 0;const n=new Date(e)-new Date,t=Math.ceil(n/864e5);return Math.max(0,t)},a=function(e){if("number"!==typeof e)return"\u20b90";const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e/100:e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)},l=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e)return 0;return("annual"===n?e.annualPrice:e.monthlyPrice)+("annual"===n?e.perUserAddOn*t*12:e.perUserAddOn*t)},d=async()=>null,c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"7_day";try{const n=await(0,i.apiPost)("/api/subscription/dismiss-reminder",{reminderType:e});return(null===n||void 0===n?void 0:n.success)||!1}catch(n){return console.error("Error dismissing reminder:",n),!1}}},55263(e,n,t){t.d(n,{ND:()=>i});const i=[{id:"starter",name:"Starter",description:"Perfect for small businesses getting started with Tally integration",baseUsers:3,monthlyPrice:999,annualPrice:9990,perUserAddOn:200,features:["3 Base Users Included","Unlimited Tally Connections","Basic Access Control","Standard Dashboard & Reports","Email Support (Business Hours)","Data Export & Import","Mobile App Access","Basic Analytics"],popular:!1,savings:"Save \u20b91,998/year with annual billing"},{id:"professional",name:"Professional",description:"Ideal for growing businesses with multiple teams and departments",baseUsers:10,monthlyPrice:2999,annualPrice:29990,perUserAddOn:150,features:["10 Base Users Included","Unlimited Tally Connections","Advanced Access Control & Permissions","Advanced Dashboard & Custom Reports","Priority Email & Chat Support","Advanced Data Export & Import","Mobile App Access","Advanced Analytics & Insights","Role-Based Access Management","Custom Workflows","API Access","Bulk Operations"],popular:!0,savings:"Save \u20b95,998/year with annual billing"},{id:"enterprise",name:"Enterprise",description:"For large organizations requiring custom solutions and dedicated support",baseUsers:50,monthlyPrice:9999,annualPrice:99990,perUserAddOn:100,features:["50 Base Users Included","Unlimited Tally Connections","Enterprise-Grade Access Control","Custom Dashboard & Advanced Reports","24/7 Priority Support","Advanced Data Export & Import","Mobile App Access","Enterprise Analytics & BI","Advanced Role Management","Custom Workflows & Automation","Full API Access & Webhooks","Bulk Operations & Batch Processing","Dedicated Account Manager","Custom Integrations","On-Premise Deployment Option","SLA Guarantee","Training & Onboarding Support"],popular:!1,savings:"Save \u20b919,998/year with annual billing"}]},61669(e,n,t){t.r(n),t.d(n,{default:()=>d});var i=t(9950),r=t(757),s=t(34534),o=t(75445),a=t(55263),l=t(44414);const d=function(){const[e,n]=(0,i.useState)(null),[t,d]=(0,i.useState)([]),[c,p]=(0,i.useState)(null),[f,u]=(0,i.useState)([]),[m,g]=(0,i.useState)(!0),[x,h]=(0,i.useState)("overview"),[b,y]=(0,i.useState)(null),[v,j]=(0,i.useState)("monthly"),[S,z]=(0,i.useState)(0),[A,w]=(0,i.useState)(!1),[C,P]=(0,i.useState)("");(0,i.useEffect)(()=>{k()},[]);const k=async()=>{g(!0);try{var e,t;const[i,o,l]=await Promise.allSettled([(0,r.AR)(),(0,s.Vg)("/api/subscription/plans"),(0,s.Vg)("/api/subscription/payments")]),c="fulfilled"===i.status?i.value:null;n(c);let f=a.ND;"fulfilled"===o.status&&null!==(e=o.value)&&void 0!==e&&e.plans&&o.value.plans.length>0&&(f=o.value.plans),d(f),p(null);const m="fulfilled"===l.status&&(null===(t=l.value)||void 0===t?void 0:t.payments)||[];u(m),c?(y(c.planId),j(c.billingCycle||"monthly"),z(c.addOnUsers||0)):f.length>0&&y(f[0].id)}catch(i){console.error("Error fetching subscription data:",i),d(a.ND),a.ND.length>0&&y(a.ND[0].id)}finally{g(!1)}},I=e=>{y(e),P("")},R=e=>{const n=Math.max(0,S+e);z(n),P("")},T=e&&e.planId===b&&e.billingCycle===v&&S>(e.addOnUsers||0),B=async()=>{P("Payment successful! Subscription updated."),await k()};if(m)return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#3b82f6",animation:"spin 1s linear infinite"},children:"sync"})});t.find(n=>n.id===(null===e||void 0===e?void 0:e.planId));const _=t.find(e=>e.id===b),W=null!==e&&void 0!==e&&e.total_user_limit?((null===c||void 0===c?void 0:c.count)||0)/e.total_user_limit*100:0;return(0,l.jsxs)("div",{className:"subscription-container",style:{maxWidth:1200,margin:"0 auto",padding:"20px",paddingTop:"84px",width:"100%",boxSizing:"border-box"},children:[(0,l.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        \n        /* Responsive styles */\n        @media (max-width: 768px) {\n          .subscription-container {\n            padding: 12px !important;\n            padding-top: 76px !important;\n          }\n          .subscription-header {\n            margin-bottom: 20px !important;\n          }\n          .subscription-header h2 {\n            font-size: 22px !important;\n          }\n          .subscription-header .material-icons {\n            font-size: 24px !important;\n          }\n          .subscription-header p {\n            font-size: 14px !important;\n          }\n          .subscription-tabs {\n            flex-wrap: wrap !important;\n            gap: 4px !important;\n          }\n          .subscription-tab-button {\n            padding: 10px 16px !important;\n            font-size: 14px !important;\n            flex: 1 1 auto !important;\n            min-width: 100px !important;\n          }\n          .subscription-card {\n            padding: 20px 16px !important;\n          }\n          .subscription-grid {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n          .subscription-plans-grid {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n          .subscription-plan-card {\n            padding: 24px 16px !important;\n          }\n          .subscription-billing-selector {\n            max-width: 100% !important;\n            margin: 0 auto 24px !important;\n          }\n          .subscription-addon-controls {\n            flex-direction: column !important;\n            gap: 12px !important;\n            align-items: stretch !important;\n          }\n          .subscription-addon-buttons {\n            justify-content: center !important;\n          }\n          .subscription-quick-actions {\n            flex-direction: column !important;\n          }\n          .subscription-quick-actions button {\n            width: 100% !important;\n          }\n          .subscription-table-wrapper {\n            overflow-x: auto !important;\n            -webkit-overflow-scrolling: touch !important;\n          }\n          .subscription-table {\n            min-width: 600px !important;\n          }\n          .subscription-more-users-section {\n            padding: 20px 16px !important;\n          }\n          .subscription-more-users-header {\n            flex-direction: column !important;\n            gap: 12px !important;\n          }\n          .subscription-order-summary {\n            padding: 20px 16px !important;\n          }\n          .subscription-payment-button-wrapper {\n            width: 100% !important;\n          }\n          .subscription-payment-button-wrapper button {\n            width: 100% !important;\n            min-width: auto !important;\n            padding: 14px 24px !important;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .subscription-container {\n            padding: 8px !important;\n            padding-top: 72px !important;\n          }\n          .subscription-header {\n            margin-bottom: 16px !important;\n          }\n          .subscription-header h2 {\n            font-size: 20px !important;\n            flex-direction: column !important;\n            align-items: flex-start !important;\n            gap: 8px !important;\n          }\n          .subscription-header .material-icons {\n            font-size: 20px !important;\n          }\n          .subscription-card {\n            padding: 16px 12px !important;\n            border-radius: 12px !important;\n          }\n          .subscription-plan-card {\n            padding: 20px 12px !important;\n          }\n          .subscription-tab-button {\n            padding: 8px 12px !important;\n            font-size: 13px !important;\n          }\n          .subscription-billing-selector {\n            padding: 6px !important;\n          }\n          .subscription-billing-button {\n            padding: 10px 16px !important;\n            font-size: 13px !important;\n          }\n        }\n        \n        @media (min-width: 769px) and (max-width: 1024px) {\n          .subscription-plans-grid {\n            grid-template-columns: repeat(2, 1fr) !important;\n          }\n        }\n      "}),(0,l.jsxs)("div",{className:"subscription-header",style:{marginBottom:32},children:[(0,l.jsxs)("h2",{style:{color:"#1e40af",fontWeight:700,fontSize:28,margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:12},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:32},children:"subscriptions"}),"Subscription Management"]}),(0,l.jsx)("p",{style:{color:"#64748b",fontSize:16,margin:0},children:"Manage your subscription plan, billing, and user limits"})]}),(0,l.jsx)("div",{className:"subscription-tabs",style:{display:"flex",gap:8,marginBottom:24,borderBottom:"2px solid #e2e8f0"},children:["overview","plans","history"].map(e=>(0,l.jsx)("button",{className:"subscription-tab-button",onClick:()=>h(e),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:x===e?"3px solid #3b82f6":"3px solid transparent",color:x===e?"#3b82f6":"#64748b",fontWeight:x===e?700:500,fontSize:16,cursor:"pointer",transition:"all 0.2s",textTransform:"capitalize"},children:e},e))}),"overview"===x&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"subscription-card",style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginBottom:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 24px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Current Subscription"}),e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"subscription-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:24},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:8},children:"Plan"}),(0,l.jsx)("div",{style:{fontSize:24,fontWeight:700,color:"#1e293b"},children:e.planName||"N/A"}),(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b",marginTop:4},children:["annual"===e.billingCycle?"Annual":"Monthly"," billing"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:8},children:"User Limit"}),(0,l.jsxs)("div",{style:{fontSize:24,fontWeight:700,color:"#1e293b"},children:[(null===c||void 0===c?void 0:c.count)||0," / ",e.total_user_limit]}),(0,l.jsx)("div",{style:{width:"100%",height:8,background:"#e2e8f0",borderRadius:4,marginTop:8,overflow:"hidden"},children:(0,l.jsx)("div",{style:{width:"".concat(Math.min(W,100),"%"),height:"100%",background:W>=100?"#ef4444":W>=80?"#f59e0b":"#22c55e",transition:"width 0.3s"}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:8},children:"Status"}),(0,l.jsx)("div",{style:{fontSize:24,fontWeight:700,color:"active"===e.status?"#22c55e":"#f59e0b",textTransform:"capitalize"},children:e.isTrial?"Trial":e.status}),e.nextBillingDate&&(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b",marginTop:4},children:["Next billing: ",new Date(e.nextBillingDate).toLocaleDateString()]})]})]}),e.addOnUsers>0&&(0,l.jsxs)("div",{style:{marginTop:24,padding:16,background:"#f0f9ff",borderRadius:12,border:"1px solid #bae6fd"},children:[(0,l.jsxs)("div",{style:{fontSize:14,fontWeight:600,color:"#0369a1",marginBottom:4},children:["Add-on Users: ",e.addOnUsers]}),(0,l.jsxs)("div",{style:{fontSize:13,color:"#64748b"},children:["Base users: ",e.baseUserLimit," + Add-ons: ",e.addOnUsers," = Total: ",e.total_user_limit]})]})]}):(0,l.jsxs)("div",{style:{padding:24,textAlign:"center",background:"#f0f9ff",borderRadius:12,border:"1px solid #bae6fd",marginBottom:24},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:48,color:"#3b82f6",marginBottom:16,display:"block"},children:"subscription"}),(0,l.jsx)("div",{style:{fontSize:18,fontWeight:600,color:"#1e293b",marginBottom:8},children:"No Active Subscription"}),(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b"},children:"Select a plan below to get started"})]})]}),e&&(0,l.jsxs)("div",{className:"subscription-card",style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:18,fontWeight:600,color:"#1e293b"},children:"Quick Actions"}),(0,l.jsxs)("div",{className:"subscription-quick-actions",style:{display:"flex",gap:12,flexWrap:"wrap"},children:[(0,l.jsxs)("button",{onClick:()=>h("plans"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:10,fontWeight:600,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"upgrade"}),"Change Plan"]}),(0,l.jsxs)("button",{onClick:()=>h("history"),style:{padding:"12px 24px",background:"#f1f5f9",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:10,fontWeight:600,fontSize:14,cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"history"}),"Payment History"]})]})]}),!e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"subscription-billing-selector",style:{display:"flex",justifyContent:"center",marginBottom:32,gap:8,background:"#f1f5f9",padding:8,borderRadius:12,maxWidth:400,margin:"24px auto 32px"},children:["monthly","annual"].map(e=>(0,l.jsx)("button",{className:"subscription-billing-button",onClick:()=>j(e),style:{flex:1,padding:"12px 24px",background:v===e?"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)":"transparent",color:v===e?"#fff":"#64748b",border:"none",borderRadius:8,fontWeight:600,fontSize:14,cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s"},children:"annual"===e?"Annual (Save 17%)":"Monthly"},e))}),(0,l.jsx)("div",{className:"subscription-plans-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:24,marginBottom:32},children:t.map(e=>{var n;const t=b===e.id,i="annual"===v?e.annualPrice:e.monthlyPrice;return(0,l.jsxs)("div",{className:"subscription-plan-card",onClick:()=>I(e.id),style:{background:"#fff",borderRadius:16,padding:32,boxShadow:t?"0 8px 32px rgba(59, 130, 246, 0.2)":"0 4px 24px rgba(31,38,135,0.08)",border:t?"3px solid #3b82f6":"2px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)"},children:[e.popular&&(0,l.jsx)("div",{style:{position:"absolute",top:-12,left:"50%",transform:"translateX(-50%)",padding:"6px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)",color:"#fff",borderRadius:20,fontSize:12,fontWeight:700,boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",zIndex:1},children:"MOST POPULAR"}),(0,l.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:24,fontWeight:700,color:"#1e293b"},children:e.name}),e.description&&(0,l.jsx)("p",{style:{margin:"0 0 16px 0",fontSize:14,color:"#64748b",lineHeight:1.5},children:e.description}),(0,l.jsxs)("div",{style:{marginBottom:16},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:4},children:[(0,l.jsxs)("span",{style:{fontSize:36,fontWeight:700,color:"#1e40af"},children:["\u20b9",i]}),(0,l.jsxs)("span",{style:{fontSize:16,color:"#64748b"},children:["/","annual"===v?"year":"month"]})]}),"annual"===v&&e.savings&&(0,l.jsxs)("div",{style:{marginTop:4,fontSize:12,color:"#22c55e",fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:16},children:"savings"}),e.savings]})]}),(0,l.jsxs)("div",{style:{marginBottom:20,padding:12,background:"#f0f9ff",borderRadius:8,border:"1px solid #bae6fd"},children:[(0,l.jsxs)("div",{style:{fontSize:14,fontWeight:600,color:"#0369a1",marginBottom:4},children:["Base Users: ",e.baseUsers]}),(0,l.jsxs)("div",{style:{fontSize:13,color:"#64748b"},children:["Add-on: \u20b9",e.perUserAddOn,"/","annual"===v?"year":"month"," per user"]})]}),(0,l.jsxs)("div",{style:{marginBottom:16,paddingBottom:16,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsx)("div",{style:{fontSize:12,fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:12},children:"What's Included"}),(0,l.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0,maxHeight:"300px",overflowY:"auto"},children:null===(n=e.features)||void 0===n?void 0:n.map((n,t)=>(0,l.jsxs)("li",{style:{padding:"10px 0",fontSize:14,color:"#1e293b",display:"flex",alignItems:"flex-start",gap:10,borderBottom:t<e.features.length-1?"1px solid #f1f5f9":"none"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20,color:"#22c55e",flexShrink:0,marginTop:2},children:"check_circle"}),(0,l.jsx)("span",{style:{lineHeight:1.5},children:n})]},t))})]}),t&&(0,l.jsx)("div",{style:{padding:12,background:"#f0f9ff",borderRadius:8,border:"1px solid #bae6fd",fontSize:14,color:"#0369a1",textAlign:"center",fontWeight:600},children:"Selected"})]},e.id)})}),_&&(0,l.jsxs)("div",{className:"subscription-card",style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginBottom:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Additional Users"}),(0,l.jsxs)("div",{className:"subscription-addon-controls",style:{display:"flex",alignItems:"center",gap:16},children:[(0,l.jsx)("button",{onClick:()=>R(-1),disabled:0===S,style:{width:40,height:40,borderRadius:"50%",border:"2px solid #e2e8f0",background:0===S?"#f1f5f9":"#fff",cursor:0===S?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:0===S?"#cbd5e1":"#64748b"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"remove"})}),(0,l.jsx)("div",{style:{minWidth:80,textAlign:"center",fontSize:24,fontWeight:700,color:"#1e293b"},children:S}),(0,l.jsx)("button",{onClick:()=>R(1),style:{width:40,height:40,borderRadius:"50%",border:"2px solid #3b82f6",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#3b82f6"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"add"})}),(0,l.jsxs)("div",{style:{marginLeft:16,flex:1},children:[(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b"},children:["\u20b9",_.perUserAddOn," per user per ","annual"===v?"year":"month"]}),(0,l.jsxs)("div",{style:{fontSize:18,fontWeight:600,color:"#1e293b",marginTop:4},children:["Total: \u20b9",_.perUserAddOn*S*("annual"===v?12:1),"/","annual"===v?"year":"month"]})]})]})]}),_&&(0,l.jsxs)("div",{className:"subscription-order-summary","data-payment-section":!0,style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginBottom:24,border:"2px solid #bae6fd"},children:[(0,l.jsxs)("div",{style:{marginBottom:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Order Summary"}),(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:20,marginBottom:16},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,paddingBottom:12,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:16,fontWeight:600,color:"#1e293b",marginBottom:4},children:[_.name," Plan"]}),(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b"},children:["annual"===v?"Annual":"Monthly"," Billing"]})]}),(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#1e40af"},children:(0,r.vv)("annual"===v?_.annualPrice:_.monthlyPrice)}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["per ","annual"===v?"year":"month"]})]})]}),S>0&&(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,paddingBottom:12,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:14,fontWeight:600,color:"#1e293b",marginBottom:2},children:["Additional Users (",S,")"]}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["\u20b9",_.perUserAddOn," per user"]})]}),(0,l.jsx)("div",{style:{fontSize:16,fontWeight:600,color:"#1e293b"},children:(0,r.vv)(_.perUserAddOn*S*("annual"===v?12:1))})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:12},children:[(0,l.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#1e293b"},children:"Total Amount"}),(0,l.jsx)("div",{style:{fontSize:28,fontWeight:700,color:"#1e40af"},children:(0,r.vv)((0,r.Zz)(_,v,S))})]}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b",textAlign:"right",marginTop:4},children:["per ","annual"===v?"year":"month"]})]}),(0,l.jsxs)("div",{className:"subscription-payment-button-wrapper",style:{textAlign:"center"},children:[(0,l.jsx)(o.A,{subscriptionData:{planId:b,billingCycle:v,addOnUsers:S,isUpgrade:!1,currentPlanId:null,addUsersOnly:!1},onSuccess:B,onError:e=>P(e),buttonText:"Subscribe Now & Pay",buttonStyle:{padding:"16px 48px",fontSize:18,fontWeight:700,minWidth:250}}),(0,l.jsxs)("div",{style:{marginTop:12,fontSize:12,color:"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:16},children:"lock"}),"Secure payment powered by Razorpay"]})]})]}),C&&(0,l.jsx)("div",{style:{padding:12,background:C.includes("success")||C.includes("Credit")?"#f0fdf4":"#fef2f2",border:"1px solid ".concat(C.includes("success")||C.includes("Credit")?"#86efac":"#fecaca"),borderRadius:8,color:C.includes("success")||C.includes("Credit")?"#16a34a":"#dc2626",fontSize:14},children:C})]})]}),e&&(0,l.jsxs)("div",{className:"subscription-more-users-section",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginTop:24,border:"2px solid #bae6fd"},children:[(0,l.jsx)("div",{className:"subscription-more-users-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{style:{margin:"0 0 8px 0",fontSize:22,fontWeight:700,color:"#1e293b",display:"flex",alignItems:"center",gap:12},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:28,color:"#3b82f6"},children:"person_add"}),"Need More Users?"]}),(0,l.jsx)("p",{style:{margin:0,fontSize:14,color:"#64748b",lineHeight:1.6},children:"You can purchase additional users at any time. Additional users are added to your current plan and billed at the same frequency as your subscription."})]})}),(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:20,marginBottom:20},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:4},children:"Current User Limit"}),(0,l.jsxs)("div",{style:{fontSize:24,fontWeight:700,color:"#1e293b"},children:[(null===c||void 0===c?void 0:c.count)||0," / ",e.total_user_limit]})]}),(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("div",{style:{fontSize:14,color:"#64748b",marginBottom:4},children:"Per User Price"}),(0,l.jsx)("div",{style:{fontSize:20,fontWeight:700,color:"#1e40af"},children:(()=>{const n=t.find(n=>n.id===e.planId);return n?"\u20b9".concat(n.perUserAddOn,"/").concat("annual"===e.billingCycle?"year":"month"):"N/A"})()})]})]}),(0,l.jsxs)("div",{style:{padding:16,background:"#f0f9ff",borderRadius:8,border:"1px solid #bae6fd"},children:[(0,l.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"#0369a1",marginBottom:12},children:"Quick Add Users"}),(0,l.jsx)("div",{className:"subscription-addon-buttons",style:{display:"flex",gap:12,flexWrap:"wrap"},children:[1,5,10,20].map(n=>{const i=t.find(n=>n.id===e.planId),s=i?i.perUserAddOn*n*("annual"===e.billingCycle?12:1):0;return(0,l.jsxs)("button",{onClick:()=>{y(e.planId),z(e.addOnUsers+n),h("plans"),setTimeout(()=>{const e=document.querySelector("[data-payment-section]");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)},style:{padding:"12px 20px",background:"#fff",border:"2px solid #bae6fd",borderRadius:10,cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:4,minWidth:100},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.background="#f0f9ff",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#bae6fd",e.currentTarget.style.background="#fff",e.currentTarget.style.transform="translateY(0)"},children:[(0,l.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"#1e40af"},children:["+",n]}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:[(0,r.vv)(s),"/","annual"===e.billingCycle?"yr":"mo"]})]},n)})})]})]}),(0,l.jsxs)("button",{onClick:()=>h("plans"),style:{width:"100%",padding:"14px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:10,fontWeight:600,fontSize:16,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.3s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(59, 130, 246, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"add_circle"}),"Add More Users"]})]})]}),"plans"===x&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"subscription-billing-selector",style:{display:"flex",justifyContent:"center",marginBottom:32,gap:8,background:"#f1f5f9",padding:8,borderRadius:12,maxWidth:400,margin:"0 auto 32px"},children:["monthly","annual"].map(e=>(0,l.jsx)("button",{className:"subscription-billing-button",onClick:()=>j(e),style:{flex:1,padding:"12px 24px",background:v===e?"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)":"transparent",color:v===e?"#fff":"#64748b",border:"none",borderRadius:8,fontWeight:600,fontSize:14,cursor:"pointer",textTransform:"capitalize",transition:"all 0.2s"},children:"annual"===e?"Annual (Save 17%)":"Monthly"},e))}),(0,l.jsx)("div",{className:"subscription-plans-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:24,marginBottom:32},children:t.map(n=>{var t;const i=b===n.id,r=(null===e||void 0===e?void 0:e.planId)===n.id,s="annual"===v?n.annualPrice:n.monthlyPrice;return(0,l.jsxs)("div",{className:"subscription-plan-card",onClick:()=>!r&&I(n.id),style:{background:"#fff",borderRadius:16,padding:32,boxShadow:i?"0 8px 32px rgba(59, 130, 246, 0.2)":"0 4px 24px rgba(31,38,135,0.08)",border:i?"3px solid #3b82f6":"2px solid #e2e8f0",cursor:r?"default":"pointer",transition:"all 0.3s",position:"relative",opacity:r?.7:1},onMouseEnter:e=>{r||(e.currentTarget.style.transform="translateY(-4px)")},onMouseLeave:e=>{r||(e.currentTarget.style.transform="translateY(0)")},children:[r&&(0,l.jsx)("div",{style:{position:"absolute",top:16,right:16,padding:"4px 12px",background:"#22c55e",color:"#fff",borderRadius:20,fontSize:12,fontWeight:600},children:"Current"}),n.popular&&(0,l.jsx)("div",{style:{position:"absolute",top:-12,left:"50%",transform:"translateX(-50%)",padding:"6px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)",color:"#fff",borderRadius:20,fontSize:12,fontWeight:700,boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)",zIndex:1},children:"MOST POPULAR"}),(0,l.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:24,fontWeight:700,color:"#1e293b"},children:n.name}),n.description&&(0,l.jsx)("p",{style:{margin:"0 0 16px 0",fontSize:14,color:"#64748b",lineHeight:1.5},children:n.description}),(0,l.jsxs)("div",{style:{marginBottom:16},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:4},children:[(0,l.jsxs)("span",{style:{fontSize:36,fontWeight:700,color:"#1e40af"},children:["\u20b9",s]}),(0,l.jsxs)("span",{style:{fontSize:16,color:"#64748b"},children:["/","annual"===v?"year":"month"]})]}),"annual"===v&&n.savings&&(0,l.jsxs)("div",{style:{marginTop:4,fontSize:12,color:"#22c55e",fontWeight:600,display:"flex",alignItems:"center",gap:4},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:16},children:"savings"}),n.savings]})]}),(0,l.jsxs)("div",{style:{marginBottom:20,padding:12,background:"#f0f9ff",borderRadius:8,border:"1px solid #bae6fd"},children:[(0,l.jsxs)("div",{style:{fontSize:14,fontWeight:600,color:"#0369a1",marginBottom:4},children:["Base Users: ",n.baseUsers]}),(0,l.jsxs)("div",{style:{fontSize:13,color:"#64748b"},children:["Add-on: \u20b9",n.perUserAddOn,"/","annual"===v?"year":"month"," per user"]})]}),(0,l.jsxs)("div",{style:{marginBottom:16,paddingBottom:16,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsx)("div",{style:{fontSize:12,fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:12},children:"What's Included"}),(0,l.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0,maxHeight:"300px",overflowY:"auto"},children:null===(t=n.features)||void 0===t?void 0:t.map((e,t)=>(0,l.jsxs)("li",{style:{padding:"10px 0",fontSize:14,color:"#1e293b",display:"flex",alignItems:"flex-start",gap:10,borderBottom:t<n.features.length-1?"1px solid #f1f5f9":"none"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20,color:"#22c55e",flexShrink:0,marginTop:2},children:"check_circle"}),(0,l.jsx)("span",{style:{lineHeight:1.5},children:e})]},t))})]}),i&&!r&&(0,l.jsx)("div",{style:{padding:12,background:"#f0f9ff",borderRadius:8,border:"1px solid #bae6fd",fontSize:14,color:"#0369a1",textAlign:"center",fontWeight:600},children:"Selected"})]},n.id)})}),_&&(0,l.jsxs)("div",{className:"subscription-card",style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginBottom:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Additional Users"}),(0,l.jsxs)("div",{className:"subscription-addon-controls",style:{display:"flex",alignItems:"center",gap:16},children:[(0,l.jsx)("button",{onClick:()=>R(-1),disabled:0===S,style:{width:40,height:40,borderRadius:"50%",border:"2px solid #e2e8f0",background:0===S?"#f1f5f9":"#fff",cursor:0===S?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:0===S?"#cbd5e1":"#64748b"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"remove"})}),(0,l.jsx)("div",{style:{minWidth:80,textAlign:"center",fontSize:24,fontWeight:700,color:"#1e293b"},children:S}),(0,l.jsx)("button",{onClick:()=>R(1),style:{width:40,height:40,borderRadius:"50%",border:"2px solid #3b82f6",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#3b82f6"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:20},children:"add"})}),(0,l.jsxs)("div",{style:{marginLeft:16,flex:1},children:[(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b"},children:["\u20b9",_.perUserAddOn," per user per ","annual"===v?"year":"month"]}),(0,l.jsxs)("div",{style:{fontSize:18,fontWeight:600,color:"#1e293b",marginTop:4},children:["Total: \u20b9",_.perUserAddOn*S*("annual"===v?12:1),"/","annual"===v?"year":"month"]})]})]})]}),_&&(0,l.jsxs)("div",{className:"subscription-order-summary","data-payment-section":!0,style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,marginBottom:24,border:"2px solid #bae6fd"},children:[(0,l.jsxs)("div",{style:{marginBottom:24},children:[(0,l.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Order Summary"}),(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:12,padding:20,marginBottom:16},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,paddingBottom:12,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:16,fontWeight:600,color:"#1e293b",marginBottom:4},children:[_.name," Plan"]}),(0,l.jsxs)("div",{style:{fontSize:14,color:"#64748b"},children:["annual"===v?"Annual":"Monthly"," Billing"]})]}),(0,l.jsxs)("div",{style:{textAlign:"right"},children:[(0,l.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#1e40af"},children:(0,r.vv)("annual"===v?_.annualPrice:_.monthlyPrice)}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["per ","annual"===v?"year":"month"]})]})]}),S>0&&(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12,paddingBottom:12,borderBottom:"1px solid #e2e8f0"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{fontSize:14,fontWeight:600,color:"#1e293b",marginBottom:2},children:["Additional Users (",S,")"]}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["\u20b9",_.perUserAddOn," per user"]})]}),(0,l.jsx)("div",{style:{fontSize:16,fontWeight:600,color:"#1e293b"},children:(0,r.vv)(_.perUserAddOn*S*("annual"===v?12:1))})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:12},children:[(0,l.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#1e293b"},children:"Total Amount"}),(0,l.jsx)("div",{style:{fontSize:28,fontWeight:700,color:"#1e40af"},children:(0,r.vv)((0,r.Zz)(_,v,S))})]}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#64748b",textAlign:"right",marginTop:4},children:["per ","annual"===v?"year":"month"]})]}),e&&(null===e||void 0===e?void 0:e.planId)===b&&(null===e||void 0===e?void 0:e.billingCycle)===v&&(null===e||void 0===e?void 0:e.addOnUsers)===S?(0,l.jsx)("div",{style:{padding:"16px 32px",background:"#f1f5f9",color:"#64748b",borderRadius:10,fontWeight:600,fontSize:16,textAlign:"center"},children:"No Changes to Apply"}):(0,l.jsxs)("div",{className:"subscription-payment-button-wrapper",style:{textAlign:"center"},children:[(0,l.jsx)(o.A,{subscriptionData:{planId:b,billingCycle:v,addOnUsers:S,isUpgrade:!!e,currentPlanId:(null===e||void 0===e?void 0:e.planId)||null,addUsersOnly:T||!1},onSuccess:B,onError:e=>P(e),buttonText:e?T?"Add ".concat(S-(e.addOnUsers||0)," Users & Pay"):"Update Subscription & Pay":"Subscribe Now & Pay",buttonStyle:{padding:"16px 48px",fontSize:18,fontWeight:700,minWidth:250}}),(0,l.jsxs)("div",{style:{marginTop:12,fontSize:12,color:"#64748b",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:16},children:"lock"}),"Secure payment powered by Razorpay"]})]})]}),C&&(0,l.jsx)("div",{style:{padding:12,background:C.includes("success")||C.includes("Credit")?"#f0fdf4":"#fef2f2",border:"1px solid ".concat(C.includes("success")||C.includes("Credit")?"#86efac":"#fecaca"),borderRadius:8,color:C.includes("success")||C.includes("Credit")?"#16a34a":"#dc2626",fontSize:14},children:C})]})]}),"history"===x&&(0,l.jsxs)("div",{className:"subscription-card",style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(31,38,135,0.08)",padding:32,overflow:"auto"},children:[(0,l.jsx)("h3",{style:{margin:"0 0 24px 0",fontSize:20,fontWeight:700,color:"#1e293b"},children:"Payment History"}),0===f.length?(0,l.jsxs)("div",{style:{textAlign:"center",padding:60,color:"#64748b"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:64,color:"#cbd5e1",marginBottom:16,display:"block"},children:"receipt_long"}),(0,l.jsx)("div",{style:{fontSize:18,fontWeight:600,marginBottom:8},children:"No payment history"}),(0,l.jsx)("div",{style:{fontSize:14},children:"Your payment transactions will appear here"})]}):(0,l.jsx)("div",{className:"subscription-table-wrapper",style:{overflowX:"auto",width:"100%"},children:(0,l.jsxs)("table",{className:"subscription-table",style:{width:"100%",borderCollapse:"collapse",minWidth:600},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[(0,l.jsx)("th",{style:{padding:"12px",textAlign:"left",fontSize:14,fontWeight:600,color:"#64748b"},children:"Date"}),(0,l.jsx)("th",{style:{padding:"12px",textAlign:"left",fontSize:14,fontWeight:600,color:"#64748b"},children:"Amount"}),(0,l.jsx)("th",{style:{padding:"12px",textAlign:"left",fontSize:14,fontWeight:600,color:"#64748b"},children:"Method"}),(0,l.jsx)("th",{style:{padding:"12px",textAlign:"left",fontSize:14,fontWeight:600,color:"#64748b"},children:"Status"}),(0,l.jsx)("th",{style:{padding:"12px",textAlign:"left",fontSize:14,fontWeight:600,color:"#64748b"},children:"Invoice"})]})}),(0,l.jsx)("tbody",{children:f.map((e,n)=>(0,l.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",background:n%2===0?"#fff":"#f8fafc"},children:[(0,l.jsx)("td",{style:{padding:"12px",fontSize:14,color:"#1e293b"},children:new Date(e.createdAt).toLocaleDateString()}),(0,l.jsx)("td",{style:{padding:"12px",fontSize:14,fontWeight:600,color:"#1e293b"},children:(0,r.vv)(e.amount,!0)}),(0,l.jsx)("td",{style:{padding:"12px",fontSize:14,color:"#64748b",textTransform:"capitalize"},children:e.paymentMethod||"N/A"}),(0,l.jsx)("td",{style:{padding:"12px"},children:(0,l.jsx)("span",{style:{padding:"4px 12px",borderRadius:12,fontSize:12,fontWeight:600,background:"success"===e.status?"#dcfce7":"#fef2f2",color:"success"===e.status?"#166534":"#dc2626",textTransform:"capitalize"},children:e.status})}),(0,l.jsx)("td",{style:{padding:"12px"},children:e.invoiceUrl?(0,l.jsxs)("a",{href:e.invoiceUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",fontSize:14,display:"flex",alignItems:"center",gap:4},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"download"}),"Download"]}):(0,l.jsx)("span",{style:{color:"#cbd5e1",fontSize:14},children:"N/A"})})]},n))})]})})]})]})}},75445(e,n,t){t.d(n,{A:()=>p});var i=t(89379),r=t(9950),s=t(34534);let o=!1,a=!1;const l=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{await new Promise((e,n)=>{if(o&&window.Razorpay)return void e();if(a){const n=setInterval(()=>{o&&window.Razorpay&&(clearInterval(n),e())},100);return}a=!0;const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,t.onload=()=>{o=!0,a=!1,e()},t.onerror=()=>{a=!1,n(new Error("Failed to load Razorpay SDK"))},document.body.appendChild(t)});const{orderId:t,amount:r,currency:s="INR",key:l}=e;if(!t||!r||!l)throw new Error("Invalid order data");const d=(e=>{if(!window.Razorpay)throw new Error("Razorpay SDK not loaded");return new window.Razorpay((0,i.A)((0,i.A)({},e),{},{theme:(0,i.A)({color:"#1e40af"},e.theme)}))})({key:l||{NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_RAZORPAY_KEY_ID,amount:r,currency:s,name:"DataLynkr",description:"Subscription Payment",order_id:t,handler:async e=>{n.onSuccess&&await n.onSuccess(e)},prefill:{email:sessionStorage.getItem("email")||"",name:sessionStorage.getItem("name")||"",contact:sessionStorage.getItem("mobile")||""},notes:{order_id:t,subscription:"true"},theme:{color:"#1e40af"},modal:{ondismiss:()=>{n.onDismiss&&n.onDismiss()}},method:{netbanking:!0,wallet:!0,upi:!0,card:!0,emi:!1}});return d.open(),d}catch(t){throw console.error("Error opening Razorpay checkout:",t),n.onError&&n.onError(t),t}},d=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const t=await(0,s.apiPost)("/api/subscription/create-order",e);if(!t||!t.orderId)throw new Error("Failed to create order");await l(t,{onSuccess:async t=>{const i=await(async(e,n)=>{try{const{razorpay_order_id:t,razorpay_payment_id:i,razorpay_signature:r}=e,{planId:o,billingCycle:a,addOnUsers:l}=n;return{success:!0,data:await(0,s.apiPost)("/api/subscription/verify-payment",{razorpay_order_id:t,razorpay_payment_id:i,razorpay_signature:r,planId:o,billingCycle:a,addOnUsers:l})}}catch(t){return console.error("Error verifying payment:",t),{success:!1,error:t.message||"Payment verification failed"}}})(t,e);i.success&&n.onSuccess?n.onSuccess(i.data):!i.success&&n.onError&&n.onError(i.error)},onError:e=>{n.onError&&n.onError(e)},onDismiss:()=>{n.onDismiss&&n.onDismiss()}})}catch(t){console.error("Error in createOrderAndCheckout:",t),n.onError&&n.onError(t.message||"Failed to process payment")}};var c=t(44414);const p=function(e){let{subscriptionData:n,onSuccess:t,onError:s,onDismiss:o,buttonText:a="Pay Now",buttonStyle:l={}}=e;const[p,f]=(0,r.useState)(!1),[u,m]=(0,r.useState)("");return(0,c.jsxs)("div",{children:[u&&(0,c.jsxs)("div",{style:{padding:12,background:"#fef2f2",border:"1px solid #fecaca",borderRadius:8,marginBottom:16,color:"#dc2626",fontSize:14,display:"flex",alignItems:"center",gap:8},children:[(0,c.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"error"}),u]}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginBottom:16,padding:"12px 16px",background:"#f8fafc",borderRadius:8,fontSize:12,color:"#64748b"},children:[(0,c.jsx)("span",{style:{fontWeight:600},children:"Accepted Payment Methods:"}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,c.jsx)("span",{style:{fontSize:14},children:"\ud83d\udcb3"}),(0,c.jsx)("span",{children:"Cards"})]}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,c.jsx)("span",{style:{fontSize:14},children:"\ud83d\udcf1"}),(0,c.jsx)("span",{children:"UPI"})]}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,c.jsx)("span",{style:{fontSize:14},children:"\ud83c\udfe6"}),(0,c.jsx)("span",{children:"Netbanking"})]}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,c.jsx)("span",{style:{fontSize:14},children:"\ud83d\udcbc"}),(0,c.jsx)("span",{children:"Wallets"})]})]}),(0,c.jsx)("button",{onClick:async()=>{f(!0),m("");try{await d(n,{onSuccess:e=>{f(!1),t&&t(e)},onError:e=>{f(!1),m(e),s&&s(e)},onDismiss:()=>{f(!1),o&&o()}})}catch(u){f(!1);const n=u.message||"Failed to process payment";m(n),s&&s(n)}},disabled:p,style:(0,i.A)({padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:10,fontWeight:600,fontSize:16,cursor:p?"not-allowed":"pointer",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:8,opacity:p?.7:1},l),onMouseEnter:e=>{p||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(59, 130, 246, 0.4)")},onMouseLeave:e=>{p||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)")},children:p?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"material-icons",style:{fontSize:18,animation:"spin 1s linear infinite"},children:"sync"}),"Processing..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"material-icons",style:{fontSize:18},children:"payment"}),a]})}),(0,c.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}}}]);