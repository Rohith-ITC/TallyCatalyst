"use strict";(self.webpackChunkDataLynkr=self.webpackChunkDataLynkr||[]).push([[146],{52146(e,t,o){o.r(t),o.d(t,{default:()=>l});var i=o(9950),n=o(28429),r=(o(16243),o(34534)),s=o(1049),a=o(44414);const l=function(){const e=sessionStorage.getItem("email"),[t,o]=(sessionStorage.getItem("token"),(0,i.useState)("")),[l,d]=(0,i.useState)(""),[g,c]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[m,w]=(0,i.useState)(!1),[y,v]=(0,i.useState)(""),[S,j]=(0,i.useState)(""),z=(0,n.Zp)();(0,i.useEffect)(()=>{S&&setTimeout(()=>{sessionStorage.clear(),window.location.href="/Development"},1500)},[S]);const k=async i=>{i.preventDefault(),v(""),j("");const n=t.trim(),s=l.trim();if(s===g.trim())if(s){w(!0);try{const t=await(0,r.apiPost)("/api/change-password",{email:e,oldPassword:n,newPassword:s});t&&(j(t.message||"Password changed successfully"),o(""),d(""),c(""))}catch(a){v(a.message)}finally{w(!1)}}else v("New password cannot be empty");else v("New password and confirm password do not match")};return(0,a.jsxs)("div",{style:{minHeight:"100vh",width:"100vw",position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #e6f4ea 0%, #dbeafe 100%)"},children:[(0,a.jsxs)("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:0},children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"smallGrid",width:"32",height:"32",patternUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M 32 0 L 0 0 0 32",fill:"none",stroke:"#b6e0c6",strokeWidth:"0.5"})})}),(0,a.jsx)("rect",{width:"100%",height:"100%",fill:"url(#smallGrid)"})]}),(0,a.jsxs)("svg",{width:"180",height:"180",viewBox:"0 0 64 64",fill:"none",style:{position:"absolute",left:60,bottom:60,opacity:.08,zIndex:1},children:[(0,a.jsx)("rect",{x:"8",y:"12",width:"48",height:"40",rx:"6",fill:"#22c55e"}),(0,a.jsx)("rect",{x:"16",y:"20",width:"32",height:"4",rx:"2",fill:"#fff"}),(0,a.jsx)("rect",{x:"16",y:"28",width:"32",height:"4",rx:"2",fill:"#fff"}),(0,a.jsx)("rect",{x:"16",y:"36",width:"20",height:"4",rx:"2",fill:"#fff"})]}),window.innerWidth<=768?(0,a.jsxs)("div",{style:{width:"95vw",maxWidth:360,background:"#fff",borderRadius:18,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",padding:16,margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",zIndex:2,position:"relative"},children:[(0,a.jsx)("button",{onClick:()=>z("/admin-dashboard"),style:{position:"absolute",top:12,right:12,background:"rgba(100, 116, 139, 0.1)",border:"none",borderRadius:"50%",width:32,height:32,fontSize:18,color:"#64748b",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(100, 116, 139, 0.2)",e.target.style.color="#475569"},onMouseLeave:e=>{e.target.style.background="rgba(100, 116, 139, 0.1)",e.target.style.color="#64748b"},children:"\xd7"}),(0,a.jsx)("div",{style:{fontSize:22,fontWeight:800,color:"#1e40af",marginBottom:12,textAlign:"center",marginTop:8},children:"Change Password"}),(0,a.jsx)("img",{src:s,alt:"Tally Logo",style:{width:64,height:64,objectFit:"contain",marginBottom:8,marginTop:0}}),(0,a.jsxs)("form",{onSubmit:k,style:{width:"100%",maxWidth:300},children:[(0,a.jsxs)("div",{style:{marginBottom:12,position:"relative"},children:[(0,a.jsx)("input",{id:"oldPassword",type:"password",value:t,onChange:e=>o(e.target.value),required:!0,onFocus:()=>f(!0),onBlur:()=>f(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"oldPassword",style:{position:"absolute",left:12,top:p||t?"-10px":"10px",fontSize:p||t?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Old Password"})]}),(0,a.jsxs)("div",{style:{marginBottom:12,position:"relative"},children:[(0,a.jsx)("input",{id:"newPassword",type:"password",value:l,onChange:e=>d(e.target.value),required:!0,onFocus:()=>u(!0),onBlur:()=>u(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"newPassword",style:{position:"absolute",left:12,top:h||l?"-10px":"10px",fontSize:h||l?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"New Password"})]}),(0,a.jsxs)("div",{style:{marginBottom:12,position:"relative"},children:[(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:g,onChange:e=>c(e.target.value),required:!0,onFocus:()=>x(!0),onBlur:()=>x(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"confirmPassword",style:{position:"absolute",left:12,top:b||g?"-10px":"10px",fontSize:b||g?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Confirm New Password"})]}),y&&(0,a.jsx)("div",{style:{color:"red",fontSize:14,marginBottom:12},children:y}),S&&(0,a.jsx)("div",{style:{color:"green",fontSize:14,marginBottom:12},children:S}),(0,a.jsx)("button",{type:"submit",disabled:m,style:{width:"100%",padding:"12px 0",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(59, 130, 246, 0.10)",marginBottom:12,transition:"background 0.2s",opacity:m?.7:1},children:m?"Changing...":"Change Password"})]})]}):(0,a.jsxs)("div",{style:{display:"flex",width:420,minHeight:420,background:"#fff",borderRadius:18,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",overflow:"hidden",zIndex:2,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"32px 24px",position:"relative"},children:[(0,a.jsx)("button",{onClick:()=>z("/admin-dashboard"),style:{position:"absolute",top:16,right:16,background:"rgba(100, 116, 139, 0.1)",border:"none",borderRadius:"50%",width:36,height:36,fontSize:20,color:"#64748b",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(100, 116, 139, 0.2)",e.target.style.color="#475569"},onMouseLeave:e=>{e.target.style.background="rgba(100, 116, 139, 0.1)",e.target.style.color="#64748b"},children:"\xd7"}),(0,a.jsx)("img",{src:s,alt:"Tally Logo",style:{width:120,height:120,objectFit:"contain",marginBottom:4,marginTop:0}}),(0,a.jsx)("h2",{style:{textAlign:"center",marginBottom:18,color:"#1e40af",fontWeight:700},children:"Change Password"}),(0,a.jsxs)("form",{onSubmit:k,style:{width:"100%",maxWidth:300},children:[(0,a.jsxs)("div",{style:{marginBottom:18,position:"relative"},children:[(0,a.jsx)("input",{id:"oldPassword",type:"password",value:t,onChange:e=>o(e.target.value),required:!0,onFocus:()=>f(!0),onBlur:()=>f(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"oldPassword",style:{position:"absolute",left:12,top:p||t?"-10px":"10px",fontSize:p||t?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Old Password"})]}),(0,a.jsxs)("div",{style:{marginBottom:18,position:"relative"},children:[(0,a.jsx)("input",{id:"newPassword",type:"password",value:l,onChange:e=>d(e.target.value),required:!0,onFocus:()=>u(!0),onBlur:()=>u(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"newPassword",style:{position:"absolute",left:12,top:h||l?"-10px":"10px",fontSize:h||l?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"New Password"})]}),(0,a.jsxs)("div",{style:{marginBottom:18,position:"relative"},children:[(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:g,onChange:e=>c(e.target.value),required:!0,onFocus:()=>x(!0),onBlur:()=>x(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,a.jsx)("label",{htmlFor:"confirmPassword",style:{position:"absolute",left:12,top:b||g?"-10px":"10px",fontSize:b||g?14:15,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Confirm New Password"})]}),y&&(0,a.jsx)("div",{style:{color:"red",fontSize:14,marginBottom:10},children:y}),S&&(0,a.jsx)("div",{style:{color:"green",fontSize:14,marginBottom:10},children:S}),(0,a.jsx)("button",{type:"submit",disabled:m,style:{width:"100%",padding:"12px 0",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px 0 rgba(59, 130, 246, 0.10)",marginBottom:18,transition:"background 0.2s",opacity:m?.7:1},children:m?"Changing...":"Change Password"})]})]})]})}}}]);