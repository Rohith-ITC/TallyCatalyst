/*! For license information please see main.71db9a6d.js.LICENSE.txt */
(()=>{var e={1018(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var a;n.d(t,{AO:()=>d,Gh:()=>O,HS:()=>R,Oi:()=>s,Rr:()=>f,pX:()=>j,pb:()=>C,rc:()=>a,tH:()=>M,ue:()=>g,yD:()=>T,zR:()=>i}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const o="popstate";function i(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return u("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,e)}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,a){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:f=!1}=i,h=l.history,p=a.Pop,g=null,m=y();function y(){return(h.state||{idx:null}).idx}function v(){p=a.Pop;let e=y(),t=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,h.replaceState(r({},h.state,{idx:m}),""));let w={get action(){return p},get location(){return e(l,h)},listen(e){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(o,v),g=e,()=>{l.removeEventListener(o,v),g=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=a.Push;let r=u(w.location,e,t);n&&n(r,e),m=y()+1;let o=c(r,m),i=w.createHref(r);try{h.pushState(o,"",i)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;l.location.assign(i)}f&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,t){p=a.Replace;let r=u(w.location,e,t);n&&n(r,e),m=y();let o=c(r,m),i=w.createHref(r);h.replaceState(o,"",i),f&&g&&g({action:p,location:w.location,delta:0})},go:e=>h.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),m(e,t,n,!1)}function m(e,t,n,r){let a=C(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let o=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=k(a);i=_(o[s],e,r)}return i}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(s(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=R([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))a(e,t,r);else a(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=v(r.join("/")),s=[];return s.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(w)&&(r+=-2),t&&(r+=2),n.filter(e=>!w(e)).reduce((e,t)=>e+(b.test(t)?3:""===t?1:10),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:R([o,u.pathname]),pathnameBase:N(R([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=R([o,u.pathnameBase]))}return i}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function k(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){void 0===t&&(t="/");let n,{pathname:r,search:a="",hash:o=""}="string"===typeof e?f(e):e;if(r)if(i=r,x.test(i))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),l(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?P(r.substring(1),"/"):P(r,t)}else n=t;var i;return{pathname:n,search:L(a),hash:F(o)}}function P(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function T(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function O(e,t,n,a){let o;void 0===a&&(a=!1),"string"===typeof e?o=f(e):(o=r({},e),s(!o.pathname||!o.pathname.includes("?"),A("?","pathname","search",o)),s(!o.pathname||!o.pathname.includes("#"),A("#","pathname","hash",o)),s(!o.search||!o.search.includes("#"),A("#","search","hash",o)));let i,l=""===e||""===o.pathname,c=l?"/":o.pathname;if(null==c)i=n;else{let e=t.length-1;if(!a&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=D(o,i),d=c&&"/"!==c&&c.endsWith("/"),h=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),N=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class M extends Error{}function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],B=(new Set(z),["get",...z]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1049(e,t,n){"use strict";e.exports=n.p+"static/media/DLrlogo.29ff57e29b53f83de67a.png"},1352(e,t,n){"use strict";var r=n(17119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},9950(e,t,n){"use strict";e.exports=n(32049)},16243(e,t,n){"use strict";n.r(t),n.d(t,{API_CONFIG:()=>r,APP_CONFIG:()=>o,DEV_API_PORT:()=>c,GOOGLE_DRIVE_CONFIG:()=>u,RAZORPAY_CONFIG:()=>a,getApiUrl:()=>l,isDevelopment:()=>i,isGoogleDriveFullyConfigured:()=>d,isProduction:()=>s});const r={get BASE_URL(){return"https://itcatalystindia.com/Development/CustomerPortal_API"},ENDPOINTS:{LOGIN:"/api/login",SIGNUP:"/api/signup",FORGET_PASSWORD:"/api/forget-password",CHANGE_PASSWORD:"/api/change-password",TALLY_CHECK_CONNECTION:"/api/tally/check-connection",TALLY_CONNECTIONS_ALL:"/api/tally/connections/all",TALLY_CONNECTION_CHECK:"/api/tally/check-connection",TALLY_CONNECTION_BY_ID:e=>"/api/tally/connections/".concat(e),TALLY_COMPANIES:"/api/tally/companies",TALLY_LEDGERS:"/api/tally/ledgers",TALLY_LEDGER_VOUCHERS:"/api/tally/ledgervouchers",TALLY_LEDGERLIST_W_ADDRS:"/api/tally/ledgerlist-w-addrs",TALLY_STOCK_ITEMS:"/api/tally/stockitem",TALLY_PLACE_ORDER:"/api/tally/place_order",TALLY_LED_STATBILLREP:"/api/tally/led_statbillrep",TALLY_USER_CONNECTIONS:"/api/tally/user-connections",TALLY_LEDGER_SHAREACCESS:"/api/tally/ledger-shareaccess",TALLY_LEDGER_SHAREACCESS_ACC:"/api/tally/ledger-shareaccess-acc",TALLY_LEDGER_LIST:"/api/tally/ledger-list",TALLY_LEDGER_AUTH:"/api/tally/ledger-auth",TALLY_LEDGER_CHECK:"/api/tally/ledger-check",SUBSCRIPTION_PLANS:"/api/subscription/plans",SUBSCRIPTION_CREATE_ORDER:"/api/subscription/create-order",SUBSCRIPTION_VERIFY_PAYMENT:"/api/subscription/verify-payment",SUBSCRIPTION_UPDATE:"/api/subscription/update",SUBSCRIPTION_PAYMENTS:"/api/subscription/payments",SUBSCRIPTION_DISMISS_REMINDER:"/api/subscription/dismiss-reminder",CUSTOM_CARD_CREATE:"/api/dashboard/cards",CUSTOM_CARD_GET:"/api/dashboard/cards",CUSTOM_CARD_UPDATE:e=>"/api/dashboard/cards/".concat(e),CUSTOM_CARD_DELETE:e=>"/api/dashboard/cards/".concat(e),DASHBOARD_DEFAULT_PERIOD_SAVE:"/api/dashboard/default-period",DASHBOARD_DEFAULT_PERIOD_GET:"/api/dashboard/default-period"}},a={KEY_ID:{NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_RAZORPAY_KEY_ID||"",TRIAL_DAYS:parseInt({NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_TRIAL_DAYS||"14",10),REMINDER_DAYS:parseInt({NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_REMINDER_DAYS||"7",10)},o={APP_NAME:"DataLynkr",COMPANY_NAME:"IT Catalyst Software India Pvt Ltd"},i=!1,s=!0,l=e=>{const t=r.BASE_URL;return t?"".concat(t).concat(e):e};i&&"undefined"!==typeof window&&console.log("API Configuration:",{BASE_URL:r.BASE_URL,currentHost:window.location.hostname,devApiUrl:"https://itcatalystindia.com/Development/CustomerPortal_API"});const c=1235,u={CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com".trim(),API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY".trim(),CLIENT_SECRET:"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".trim(),SCOPES:"https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.readonly https://mail.google.com/"},d=()=>{const e=!!u.CLIENT_ID&&u.CLIENT_ID.length>0,t=!!u.API_KEY&&u.API_KEY.length>0;return{configured:e&&t,hasClientId:e,hasApiKey:t,missing:[]}};if(i){const e=d(),t="643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",n="AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY";console.log("\ud83d\udd0d Google Drive Configuration Status:",{configured:e.configured,hasClientId:e.hasClientId,hasApiKey:e.hasApiKey,clientId:e.hasClientId?"".concat(u.CLIENT_ID.substring(0,20),"..."):"MISSING",apiKey:e.hasApiKey?"SET":"MISSING",rawEnvClientId:t?"".concat(t.substring(0,20),"..."):"NOT IN ENV",rawEnvApiKey:n?"PRESENT IN ENV":"NOT IN ENV",usingDefaultClientId:!t&&e.hasClientId}),e.configured?console.log("\u2705 Google Drive is fully configured! Upload buttons should be enabled."):(console.warn("\u26a0\ufe0f Google Drive is not fully configured. Document upload features will be disabled."),n||(console.warn("   \u26a0\ufe0f REACT_APP_GOOGLE_API_KEY not found in environment variables."),console.warn("   \ud83d\udca1 Make sure:"),console.warn("      1. The variable is in your .env file in the project root"),console.warn("      2. The variable name is exactly: REACT_APP_GOOGLE_API_KEY"),console.warn("      3. You have RESTARTED the dev server after adding it"),console.warn("      4. There are no spaces around the = sign in .env file")),e.hasClientId||t||console.warn("   Missing: REACT_APP_GOOGLE_CLIENT_ID"))}},17119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(38345)},20170(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,o=Object.keys,i=Array.isArray;function s(e,t){return"object"!=typeof t||o(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||a.Promise||(a.Promise=Promise);var l=Object.getPrototypeOf,c={}.hasOwnProperty;function u(e,t){return c.call(e,t)}function d(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?o:Reflect.ownKeys)(t).forEach(function(n){h(e,n,t[n])})}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,s(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:d.bind(null,e.prototype)}}}}var g=Object.getOwnPropertyDescriptor,m=[].slice;function y(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function w(e){a.setImmediate?setImmediate(e):setTimeout(e,0)}function S(e,t){if("string"==typeof t&&u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,a=t.length;r<a;++r){var o=S(e,t[r]);n.push(o)}return n}var i=t.indexOf(".");if(-1!==i){var s=e[t.substr(0,i)];return null==s?void 0:S(s,t.substr(i+1))}}function _(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,a=t.length;r<a;++r)_(e,t[r],n[r])}else{var o,s,l=t.indexOf(".");-1!==l?(o=t.substr(0,l),""===(s=t.substr(l+1))?void 0===n?i(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n:_(l=(l=e[o])&&u(e,o)?l:e[o]={},s,n)):void 0===n?i(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function E(e){var t,n={};for(t in e)u(e,t)&&(n[t]=e[t]);return n}var k=[].concat;function C(e){return k.apply([],e)}var x="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return a[e]}),D=new Set(x.map(function(e){return a[e]})),P=null;function A(e){return P=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=P.get(t);if(n)return n;if(i(t)){n=[],P.set(t,n);for(var r=0,a=t.length;r<a;++r)n.push(e(t[r]))}else if(D.has(t.constructor))n=t;else{var o,s=l(t);for(o in n=s===Object.prototype?{}:Object.create(s),P.set(t,n),t)u(t,o)&&(n[o]=e(t[o]))}return n}(e),P=null,e}var I={}.toString;function T(e){return I.call(e).slice(8,-1)}var O="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",R="symbol"==typeof O?function(e){var t;return null!=e&&(t=e[O])&&t.apply(e)}:function(){return null};function N(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var L={};function F(e){var t,n,r,a;if(1===arguments.length){if(i(e))return e.slice();if(this===L&&"string"==typeof e)return[e];if(a=R(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var M="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(e,t){this.name=e,this.message=t}function K(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function U(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=K(e,t)}function V(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=K(e,this.failures)}p(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(U).from(B),p(V).from(B);var H=j.reduce(function(e,t){return e[t]=t+"Error",e},{}),W=B,q=j.reduce(function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=z[t]||n,this.inner=null)}return p(r).from(W),e[t]=r,e},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var G=le.reduce(function(e,t){return e[t+"Error"]=q[t],e},{}),Y=j.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=q[t]),e},{});function $(){}function Q(e){return e}function J(e,t){return null==e||e===Q?t:function(n){return t(e(n))}}function X(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Z(e,t){return e===$?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?X(r,this.onsuccess):r),a&&(this.onerror=this.onerror?X(a,this.onerror):a),void 0!==o?o:n}}function ee(e,t){return e===$?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?X(n,this.onsuccess):n),r&&(this.onerror=this.onerror?X(r,this.onerror):r)}}function te(e,t){return e===$?t:function(n){var r=e.apply(this,arguments);s(n,r);var a=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?X(a,this.onsuccess):a),o&&(this.onerror=this.onerror?X(o,this.onerror):o),void 0===r?void 0===n?void 0:n:s(r,n)}}function ne(e,t){return e===$?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function re(e,t){return e===$?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}Y.ModifyError=U,Y.DexieError=B,Y.BulkError=V;var ae="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oe(e){ae=e}var ie={},se=100,le=(x="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),x[0]),ce=(j=x[1],x=x[2],j=j&&j.then,le&&le.constructor),ue=!!x,de=function(e,t){be.push([e,t]),he&&(queueMicrotask(Ae),he=!1)},fe=!0,he=!0,pe=[],ge=[],me=Q,ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$,pgp:!1,env:{},finalize:$},ve=ye,be=[],we=0,Se=[];function _e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==ie)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ce(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ie();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof _e?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,xe(t)),r&&Te()}},Ce.bind(null,t))}catch(n){Ce(t,n)}}(this,e)}var Ee={get:function(){var e=ve,t=ze;function n(n,r){var a=this,o=!e.global&&(e!==ve||t!==ze),i=o&&!Ve(),s=new _e(function(t,s){De(a,new ke($e(n,e,o,i),$e(r,e,o,i),t,s,e))});return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return n.prototype=ie,n},set:function(e){h(this,"then",e&&e.prototype===ie?Ee:{get:function(){return e},set:Ee.set})}};function ke(e,t,n,r,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=a}function Ce(e,t){var n,r;ge.push(t),null===e._state&&(n=e._lib&&Ie(),t=me(t),e._state=!1,e._value=t,r=e,pe.some(function(e){return e._value===r._value})||pe.push(r),xe(e),n&&Te())}function xe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)De(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),0===we&&(++we,de(function(){0==--we&&Oe()},[]))}function De(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++we,de(Pe,[n,e,t])}else e._listeners.push(t)}function Pe(e,t,n){try{var r,a=t._value;!t._state&&ge.length&&(ge=[]),r=ae&&t._consoleTask?t._consoleTask.run(function(){return e(a)}):e(a),t._state||-1!==ge.indexOf(a)||function(e){for(var t=pe.length;t;)if(pe[--t]._value===e._value)return pe.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--we&&Oe(),--n.psd.ref||n.psd.finalize()}}function Ae(){Ye(ye,function(){Ie()&&Te()})}function Ie(){var e=fe;return he=fe=!1,e}function Te(){var e,t,n;do{for(;0<be.length;)for(e=be,be=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<be.length);he=fe=!0}function Oe(){var e=pe;pe=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=Se.slice(0),n=t.length;n;)t[--n]()}function Re(e){return new _e(ie,!1,e)}function Ne(e,t){var n=ve;return function(){var r=Ie(),a=ve;try{return qe(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{qe(a,!1),r&&Te()}}}d(_e.prototype,{then:Ee,_then:function(e,t){De(this,new ke(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:Re)(e)}):this.then(null,function(e){return(e&&e.name===t?n:Re)(e)})},finally:function(e){return this.then(function(t){return _e.resolve(e()).then(function(){return t})},function(t){return _e.resolve(e()).then(function(){return Re(t)})})},timeout:function(e,t){var n=this;return e<1/0?new _e(function(r,a){var o=setTimeout(function(){return a(new q.Timeout(t))},e);n.then(r,a).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),ye.env=Ge(),d(_e,{all:function(){var e=F.apply(null,arguments).map(He);return new _e(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(a,o){return _e.resolve(a).then(function(n){e[o]=n,--r||t(e)},n)})})},resolve:function(e){return e instanceof _e?e:e&&"function"==typeof e.then?new _e(function(t,n){e.then(t,n)}):new _e(ie,!0,e)},reject:Re,race:function(){var e=F.apply(null,arguments).map(He);return new _e(function(t,n){e.map(function(e){return _e.resolve(e).then(t,n)})})},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return ze}},newPSD:Ke,usePSD:Ye,scheduler:{get:function(){return de},set:function(e){de=e}},rejectionMapper:{get:function(){return me},set:function(e){me=e}},follow:function(e,t){return new _e(function(n,r){return Ke(function(t,n){var r=ve;r.unhandleds=[],r.onunhandled=n,r.finalize=X(function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},Se.push(function t(){e(),Se.splice(Se.indexOf(t),1)}),++we,de(function(){0==--we&&Oe()},[])},r.finalize),e()},t,n,r)})}}),ce&&(ce.allSettled&&h(_e,"allSettled",function(){var e=F.apply(null,arguments).map(He);return new _e(function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach(function(e,a){return _e.resolve(e).then(function(e){return r[a]={status:"fulfilled",value:e}},function(e){return r[a]={status:"rejected",reason:e}}).then(function(){return--n||t(r)})})})}),ce.any&&"undefined"!=typeof AggregateError&&h(_e,"any",function(){var e=F.apply(null,arguments).map(He);return new _e(function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,a=new Array(r);e.forEach(function(e,o){return _e.resolve(e).then(function(e){return t(e)},function(e){a[o]=e,--r||n(new AggregateError(a))})})})}),ce.withResolvers&&(_e.withResolvers=ce.withResolvers));var Le={awaits:0,echoes:0,id:0},Fe=0,Me=[],je=0,ze=0,Be=0;function Ke(e,t,n,r){var a=ve,o=Object.create(a);return o.parent=a,o.ref=0,o.global=!1,o.id=++Be,ye.env,o.env=ue?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},t&&s(o,t),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Ye(o,e,n,r),0===o.ref&&o.finalize(),r}function Ue(){return Le.id||(Le.id=++Fe),++Le.awaits,Le.echoes+=se,Le.id}function Ve(){return!!Le.awaits&&(0==--Le.awaits&&(Le.id=0),Le.echoes=Le.awaits*se,!0)}function He(e){return Le.echoes&&e&&e.constructor===ce?(Ue(),e.then(function(e){return Ve(),e},function(e){return Ve(),Je(e)})):e}function We(){var e=Me[Me.length-1];Me.pop(),qe(e,!1)}function qe(e,t){var n,r=ve;(t?!Le.echoes||je++&&e===ve:!je||--je&&e===ve)||queueMicrotask(t?function(e){++ze,Le.echoes&&0!=--Le.echoes||(Le.echoes=Le.awaits=Le.id=0),Me.push(ve),qe(e,!0)}.bind(null,e):We),e!==ve&&(ve=e,r===ye&&(ye.env=Ge()),ue&&(n=ye.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(a,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Ge(){var e=a.Promise;return ue?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ye(e,t,n,r,a){var o=ve;try{return qe(e,!0),t(n,r,a)}finally{qe(o,!1)}}function $e(e,t,n,r){return"function"!=typeof e?e:function(){var a=ve;n&&Ue(),qe(t,!0);try{return e.apply(this,arguments)}finally{qe(a,!1),r&&queueMicrotask(Ve)}}}function Qe(e){Promise===ce&&0===Le.echoes?0===je?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+j).indexOf("[native code]")&&(Ue=Ve=$);var Je=_e.reject,Xe=String.fromCharCode(65535),Ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",et="String expected.",tt=[],nt="__dbnames",rt="readonly",at="readwrite";function ot(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var it={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function st(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=A(t))[e],t}}function lt(){throw q.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ct(e,t){try{var n=ut(e),r=ut(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,a=n<r?n:r,o=0;o<a;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(dt(e),dt(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,a=n<r?n:r,o=0;o<a;++o){var i=ct(e[o],t[o]);if(0!==i)return i}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function ut(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=T(e))?"binary":e}function dt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function ft(e,t,n){var r=e.schema.yProps;return r?(t&&0<n.numFailures&&(t=t.filter(function(e,t){return!n.failures[t]})),Promise.all(r.map(function(n){return n=n.updatesTable,t?e.db.table(n).where("k").anyOf(t).delete():e.db.table(n).clear()})).then(function(){return n})):n}var ht=(pt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var n=t.add;if(i(n))return r(r([],i(e)?e:[],!0),n,!0).sort();if("number"==typeof n)return(Number(e)||0)+n;if("bigint"==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(void 0!==t.remove){var a=t.remove;if(i(a))return i(e)?e.filter(function(e){return!a.includes(e)}).sort():[];if("number"==typeof a)return Number(e)-a;if("bigint"==typeof a)try{return BigInt(e)-a}catch(e){return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return(n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0])&&"string"==typeof e&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},pt);function pt(e){this["@@propmod"]=e}function gt(e,t){for(var n=o(t),r=n.length,a=!1,i=0;i<r;++i){var s=n[i],l=t[s],c=S(e,s);l instanceof ht?(_(e,s,l.execute(c)),a=!0):c!==l&&(_(e,s,l),a=!0)}return a}var mt=(yt.prototype._trans=function(e,t,n){var r=this._tx||ve.trans,a=this.name,o=ae&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function i(e,n,r){if(!r.schema[a])throw new q.NotFound("Table "+a+" not part of transaction");return t(r.idbtrans,r)}var s=Ie();try{var l=r&&r.db._novip===this.db._novip?r===ve.trans?r._promise(e,i,n):Ke(function(){return r._promise(e,i,n)},{trans:r,transless:ve.transless||ve}):function t(n,r,a,o){if(n.idbdb&&(n._state.openComplete||ve.letThrough||n._vip)){var i=n._createTransaction(r,a,n._dbSchema);try{i.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===H.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then(function(){return t(n,r,a,o)})):Je(e)}return i._promise(r,function(e,t){return Ke(function(){return ve.trans=i,o(e,t,i)})}).then(function(e){if("readwrite"===r)try{i.idbtrans.commit()}catch(e){}return"readonly"===r?e:i._completion.then(function(){return e})})}if(n._state.openComplete)return Je(new q.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return Je(new q.DatabaseClosed);n.open().catch($)}return n._state.dbReadyPromise.then(function(){return t(n,r,a,o)})}(this.db,e,[this.name],i);return o&&(l._consoleTask=o,l=l.catch(function(e){return console.trace(e),Je(e)})),l}finally{s&&Te()}},yt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Je(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},yt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(i(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=o(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==Xe){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(function(t){return e[t]}))}!n&&ae&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName;function s(e,t){return 0===ct(e,t)}var l=t.reduce(function(t,n){var r=t[0],o=t[1],l=(t=a[n],e[n]);return[r||t,r||!t?ot(o,t&&t.multi?function(e){return e=S(e,n),i(e)&&e.some(function(e){return s(l,e)})}:function(e){return s(l,S(e,n))}):o]},[null,null]);return r=l[0],l=l[1],r?this.where(r.name).equals(e[r.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},yt.prototype.filter=function(e){return this.toCollection().and(e)},yt.prototype.count=function(e){return this.toCollection().count(e)},yt.prototype.offset=function(e){return this.toCollection().offset(e)},yt.prototype.limit=function(e){return this.toCollection().limit(e)},yt.prototype.each=function(e){return this.toCollection().each(e)},yt.prototype.toArray=function(e){return this.toCollection().toArray(e)},yt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},yt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,i(e)?"[".concat(e.join("+"),"]"):e))},yt.prototype.reverse=function(){return this.toCollection().reverse()},yt.prototype.mapToClass=function(t){var n,r=this.db,a=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof lt&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=t),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return a},t=o);for(var i=new Set,s=t.prototype;s;s=l(s))Object.getOwnPropertyNames(s).forEach(function(e){return i.add(e)});function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!i.has(n))try{r[n]=e[n]}catch(e){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},yt.prototype.defineClass=function(){return this.mapToClass(function(e){s(this,e)})},yt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,a=r.auto,o=r.keyPath,i=e;return o&&a&&(i=st(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{_(e,o,t)}catch(t){}return t})},yt.prototype.upsert=function(e,t){var n=this,r=this.schema.primKey.keyPath;return this._trans("readwrite",function(a){return n.core.get({trans:a,key:e}).then(function(o){var i=null!=o?o:{};return gt(i,t),r&&_(i,r,e),n.core.mutate({trans:a,type:"put",values:[i],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):!!o})})})},yt.prototype.update=function(e,t){return"object"!=typeof e||i(e)?this.where(":id").equals(e).modify(t):void 0===(e=S(e,this.schema.primKey.keyPath))?Je(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},yt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,a=r.auto,o=r.keyPath,i=e;return o&&a&&(i=st(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{_(e,o,t)}catch(t){}return t})},yt.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]}).then(function(n){return ft(t,[e],n)}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})})},yt.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:it}).then(function(t){return ft(e,null,t)})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})},yt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},yt.prototype.bulkAdd=function(e,t,n){var r=this,a=Array.isArray(t)?t:void 0,o=(n=n||(a?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&a)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var i=e.length,s=s&&n?e.map(st(s)):e;return r.core.mutate({trans:t,type:"add",keys:a,values:s,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,a=e.lastResult;if(e=e.failures,0===t)return o?n:a;throw new V("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(i," operations failed"),e)})})},yt.prototype.bulkPut=function(e,t,n){var r=this,a=Array.isArray(t)?t:void 0,o=(n=n||(a?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&a)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var i=e.length,s=s&&n?e.map(st(s)):e;return r.core.mutate({trans:t,type:"put",keys:a,values:s,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,a=e.lastResult;if(e=e.failures,0===t)return o?n:a;throw new V("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(i," operations failed"),e)})})},yt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(e){return e.key}),a=e.map(function(e){return e.changes}),o=[];return this._trans("readwrite",function(i){return n.getMany({trans:i,keys:r,cache:"clone"}).then(function(s){var l=[],c=[];e.forEach(function(e,n){var r=e.key,a=e.changes,i=s[n];if(i){for(var u=0,d=Object.keys(a);u<d.length;u++){var f=d[u],h=a[f];if(f===t.schema.primKey.keyPath){if(0!==ct(h,r))throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else _(i,f,h)}o.push(n),l.push(r),c.push(i)}});var u=l.length;return n.mutate({trans:i,type:"put",keys:l,values:c,updates:{keys:r,changeSpecs:a}}).then(function(e){var n=e.numFailures,r=e.failures;if(0===n)return u;for(var a=0,i=Object.keys(r);a<i.length;a++){var s,l=i[a],c=o[Number(l)];null!=c&&(s=r[l],delete r[l],r[c]=s)}throw new V("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(u," operations failed"),r)})})})},yt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:e}).then(function(n){return ft(t,e,n)})}).then(function(e){var r=e.numFailures,a=e.lastResult;if(e=e.failures,0===r)return a;throw new V("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)})},yt);function yt(){}function vt(e){function t(t,r){if(r){for(var a=arguments.length,o=new Array(a-1);--a;)o[a-1]=arguments[a];return n[t].subscribe.apply(null,o),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=s;for(var r=1,a=arguments.length;r<a;++r)s(arguments[r]);return t;function s(e,r,a){if("object"!=typeof e){var l;r=r||ne;var c={subscribers:[],fire:a=a||$,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(r,a)}};return n[e]=t[e]=c}o(l=e).forEach(function(e){var t=l[e];if(i(t))s(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new q.InvalidArgument("Invalid event config");var n=s(e,Q,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){w(function(){e.apply(null,t)})})})}})}}function bt(e,t){return p(t).from({prototype:e}),t}function wt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function St(e,t){e.filter=ot(e.filter,t)}function _t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return ot(r(),t())}:t,e.justLimit=n&&!r}function Et(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function kt(e,t,n){var r=Et(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ct(e,t,n,r){var a=e.replayFilter?ot(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},i=function(e,n,r){var i,s;a&&!a(n,r,function(e){return n.stop(e)},function(e){return n.fail(e)})||("[object ArrayBuffer]"===(s=""+(i=n.primaryKey))&&(s=""+new Uint8Array(i)),u(o,s)||(o[s]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(i,n),xt(kt(e,r,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return xt(kt(e,r,n),ot(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function xt(e,t,n,r){var a=Ne(r?function(e,t,a){return n(r(e),t,a)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=$},function(t){e.fail(t),n=$})||a(e.value,e,function(e){return n=e}),n()})})}var Dt=(Pt.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Je.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Pt.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Je.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Pt.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=ot(t.algorithm,e)},Pt.prototype._iterate=function(e,t){return Ct(this._ctx,e,t,this._ctx.table.core)},Pt.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},Pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Pt.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Ct(t,e,n,t.table.core)})},Pt.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,r=n.table.core;if(wt(n,!0))return r.count({trans:e,query:{index:Et(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var a=0;return Ct(n,function(){return++a,!1},e,r).then(function(){return a})}).then(e)},Pt.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],a=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var i="next"===this._ctx.dir?1:-1;function s(e,t){return ct(o(e,a),o(t,a))*i}return this.toArray(function(e){return e.sort(s)}).then(t)},Pt.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if("next"===n.dir&&wt(n,!0)&&0<n.limit){var r=n.valueMapper,a=Et(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:a,range:n.range}}).then(function(e){return e=e.result,r?e.map(r):e})}var o=[];return Ct(n,function(e){return o.push(e)},e,n.table.core).then(function(){return o})},e)},Pt.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,wt(t)?_t(t,function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n(function(){e.advance(t),t=0}),!1)}}):_t(t,function(){var t=e;return function(){return--t<0}})),this},Pt.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_t(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}},!0),this},Pt.prototype.until=function(e,t){return St(this._ctx,function(n,r,a){return!e(n.value)||(r(a),t)}),this},Pt.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Pt.prototype.last=function(e){return this.reverse().first(e)},Pt.prototype.filter=function(e){var t;return St(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=ot(t.isMatch,e),this},Pt.prototype.and=function(e){return this.filter(e)},Pt.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Pt.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Pt.prototype.desc=function(){return this.reverse()},Pt.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},Pt.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Pt.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},Pt.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Pt.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&wt(t,!0)&&0<t.limit)return this._read(function(e){var n=Et(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},Pt.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Pt.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Pt.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Pt.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return St(this._ctx,function(e){var n=e.primaryKey.toString();return e=u(t,n),t[n]=!0,!e}),this},Pt.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var a,i="function"==typeof e?e:function(t){return gt(t,e)},s=n.table.core,l=(a=s.schema.primaryKey).outbound,c=a.extractKey,u=200;function d(e,t){var n=t.failures;t=t.numFailures,h+=e-t;for(var r=0,a=o(n);r<a.length;r++){var i=a[r];f.push(n[i])}}(a=t.db._options.modifyChunkSize)&&(u="object"==typeof a?a[s.name]||a["*"]||200:a);var f=[],h=0,p=[],g=e===At;return t.clone().primaryKeys().then(function(t){function a(f){var h=Math.min(u,t.length-f),p=t.slice(f,f+h);return(g?Promise.resolve([]):s.getMany({trans:r,keys:p,cache:"immutable"})).then(function(m){var y=[],v=[],b=l?[]:null,w=g?p:[];if(!g)for(var S=0;S<h;++S){var _=m[S],E={value:A(_),primKey:t[f+S]};!1!==i.call(E,E.value,E)&&(null==E.value?w.push(t[f+S]):l||0===ct(c(_),c(E.value))?(v.push(E.value),l&&b.push(t[f+S])):(w.push(t[f+S]),y.push(E.value)))}return Promise.resolve(0<y.length&&s.mutate({trans:r,type:"add",values:y}).then(function(e){for(var t in e.failures)w.splice(parseInt(t),1);d(y.length,e)})).then(function(){return(0<v.length||o&&"object"==typeof e)&&s.mutate({trans:r,type:"put",keys:b,values:v,criteria:o,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<f}).then(function(e){return d(v.length,e)})}).then(function(){return(0<w.length||o&&g)&&s.mutate({trans:r,type:"delete",keys:w,criteria:o,isAdditionalChunk:0<f}).then(function(e){return ft(n.table,w,e)}).then(function(e){return d(w.length,e)})}).then(function(){return t.length>f+h&&a(f+u)})})}var o=wt(n)&&n.limit===1/0&&("function"!=typeof e||g)&&{index:n.index,range:n.range};return a(0).then(function(){if(0<f.length)throw new U("Error modifying one or more objects",f,h,p);return t.length})})})},Pt.prototype.delete=function(){var e=this._ctx,t=e.range;return!wt(e)||e.table.schema.yProps||!e.isPrimKey&&3!==t.type?this.modify(At):this._write(function(n){var r=e.table.core.schema.primaryKey,a=t;return e.table.core.count({trans:n,query:{index:r,range:a}}).then(function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(function(e){var n=e.failures;if(e=e.numFailures)throw new U("Could not delete some values",Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})})},Pt);function Pt(){}var At=function(e,t){return t.value=null};function It(e,t){return e<t?-1:e===t?0:1}function Tt(e,t){return t<e?-1:e===t?0:1}function Ot(e,t,n){return(e=e instanceof Mt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Rt(e){return new e.Collection(e,function(){return Ft("")}).limit(0)}function Nt(e,t,n,r){var a,o,i,s,l,c,u,d=n.length;if(!n.every(function(e){return"string"==typeof e}))return Ot(e,et);function f(e){a="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},o="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},i="next"===e?It:Tt;var t=n.map(function(e){return{lower:o(e),upper:a(e)}}).sort(function(e,t){return i(e.lower,t.lower)});s=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),u="next"===(c=e)?"":r}f("next"),(e=new e.Collection(e,function(){return Lt(s[0],l[d-1]+r)}))._ondirectionchange=function(e){f(e)};var h=0;return e._addAlgorithm(function(e,n,r){var a=e.key;if("string"!=typeof a)return!1;var f=o(a);if(t(f,l,h))return!0;for(var p=null,g=h;g<d;++g){var m=function(e,t,n,r,a,o){for(var i=Math.min(e.length,r.length),s=-1,l=0;l<i;++l){var c=t[l];if(c!==r[l])return a(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):a(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):0<=s?e.substr(0,s)+t[s]+n.substr(s+1):null;a(e[l],c)<0&&(s=l)}return i<r.length&&"next"===o?e+n.substr(e.length):i<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}(a,f,s[g],l[g],i,c);null===m&&null===p?h=g+1:(null===p||0<i(p,m))&&(p=m)}return n(null!==p?function(){e.continue(p+u)}:r),!1}),e}function Lt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ft(e){return{type:1,lower:e,upper:e}}var Mt=(Object.defineProperty(jt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),jt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Rt(this):new this.Collection(this,function(){return Lt(e,t,!n,!r)})}catch(e){return Ot(this,Ze)}},jt.prototype.equals=function(e){return null==e?Ot(this,Ze):new this.Collection(this,function(){return Ft(e)})},jt.prototype.above=function(e){return null==e?Ot(this,Ze):new this.Collection(this,function(){return Lt(e,void 0,!0)})},jt.prototype.aboveOrEqual=function(e){return null==e?Ot(this,Ze):new this.Collection(this,function(){return Lt(e,void 0,!1)})},jt.prototype.below=function(e){return null==e?Ot(this,Ze):new this.Collection(this,function(){return Lt(void 0,e,!1,!0)})},jt.prototype.belowOrEqual=function(e){return null==e?Ot(this,Ze):new this.Collection(this,function(){return Lt(void 0,e)})},jt.prototype.startsWith=function(e){return"string"!=typeof e?Ot(this,et):this.between(e,e+Xe,!0,!0)},jt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Nt(this,function(e,t){return 0===e.indexOf(t[0])},[e],Xe)},jt.prototype.equalsIgnoreCase=function(e){return Nt(this,function(e,t){return e===t[0]},[e],"")},jt.prototype.anyOfIgnoreCase=function(){var e=F.apply(L,arguments);return 0===e.length?Rt(this):Nt(this,function(e,t){return-1!==t.indexOf(e)},e,"")},jt.prototype.startsWithAnyOfIgnoreCase=function(){var e=F.apply(L,arguments);return 0===e.length?Rt(this):Nt(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Xe)},jt.prototype.anyOf=function(){var e=this,t=F.apply(L,arguments),n=this._cmp;try{t.sort(n)}catch(r){return Ot(this,Ze)}if(0===t.length)return Rt(this);var r=new this.Collection(this,function(){return Lt(t[0],t[t.length-1])});r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var a=0;return r._addAlgorithm(function(e,r,o){for(var i=e.key;0<n(i,t[a]);)if(++a===t.length)return r(o),!1;return 0===n(i,t[a])||(r(function(){e.continue(t[a])}),!1)}),r},jt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},jt.prototype.noneOf=function(){var e=F.apply(L,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ot(this,Ze)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},jt.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,a=this._ascending,o=this._descending,i=this._min,s=this._max;if(0===e.length)return Rt(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&a(e[0],e[1])<=0}))return Ot(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var l,c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers,d=a;function f(e,t){return d(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,a=e.length;n<a;++n){var o=e[n];if(r(t[0],o[1])<0&&0<r(t[1],o[0])){o[0]=i(o[0],t[0]),o[1]=s(o[1],t[1]);break}}return n===a&&e.push(t),e},[])).sort(f)}catch(e){return Ot(this,Ze)}var h=0,p=u?function(e){return 0<a(e,l[h][1])}:function(e){return 0<=a(e,l[h][1])},g=c?function(e){return 0<o(e,l[h][0])}:function(e){return 0<=o(e,l[h][0])},m=p;return(e=new this.Collection(this,function(){return Lt(l[0][0],l[l.length-1][1],!c,!u)}))._ondirectionchange=function(e){d="next"===e?(m=p,a):(m=g,o),l.sort(f)},e._addAlgorithm(function(e,t,r){for(var o,i=e.key;m(i);)if(++h===l.length)return t(r),!1;return!p(o=i)&&!g(o)||(0===n._cmp(i,l[h][1])||0===n._cmp(i,l[h][0])||t(function(){d===a?e.continue(l[h][0]):e.continue(l[h][1])}),!1)}),e},jt.prototype.startsWithAnyOf=function(){var e=F.apply(L,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?Rt(this):this.inAnyRange(e.map(function(e){return[e,e+Xe]})):Ot(this,"startsWithAnyOf() only works with strings")},jt);function jt(){}function zt(e){return Ne(function(t){return Bt(t),e(t.target.error),!1})}function Bt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Kt="storagemutated",Ut="x-storagemutated-1",Vt=vt(null,Kt),Ht=(Wt.prototype._lock=function(){return b(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(b(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ye(e[1],e[0])}catch(e){}}return this},Wt.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},Wt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new q.DatabaseClosed(r);case"MissingAPIError":throw new q.MissingAPI(r.message,r);default:throw new q.OpenFailed(r)}if(!this.active)throw new q.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ne(function(n){Bt(n),t._reject(e.error)}),e.onabort=Ne(function(n){Bt(n),t.active&&t._reject(new q.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Ne(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Vt.storagemutated.fire(e.mutatedParts)}),this},Wt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Je(new q.ReadOnly("Transaction is readonly"));if(!this.active)return Je(new q.TransactionInactive);if(this._locked())return new _e(function(a,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(a,o)},ve])});if(n)return Ke(function(){var e=new _e(function(e,n){r._lock();var a=t(e,n,r);a&&a.then&&a.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var a=new _e(function(e,n){var a=t(e,n,r);a&&a.then&&a.then(e,n)});return a._lib=!0,a},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(e){var t,n=this._root(),r=_e.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var a=n._waitingFor;return new _e(function(e,t){r.then(function(t){return n._waitingQueue.push(Ne(e.bind(null,t)))},function(e){return n._waitingQueue.push(Ne(t.bind(null,e)))}).finally(function(){n._waitingFor===a&&(n._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},Wt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(u(t,e))return t[e];var n=this.schema[e];if(!n)throw new q.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Wt);function Wt(){}function qt(e,t,n,r,a,o,i,s){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:o,src:(n&&!i?"&":"")+(r?"*":"")+(a?"++":"")+Gt(t),type:s}}function Gt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Yt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e},{}))};var r}var $t=function(e){try{return e.only([[]]),$t=function(){return[[]]},[[]]}catch(e){return $t=function(){return Xe},Xe}};function Qt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return S(e,t)}:function(t){return S(t,e)};var t}function Jt(e){return[].slice.call(e)}var Xt=0;function Zt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function en(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,a=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!a):t.bound(n,r,!!a,!!e)}function a(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,a=e.type,o=e.keys,i=e.values,s=e.range;return new Promise(function(e,l){e=Ne(e);var c=t.objectStore(n),u=null==c.keyPath,d="put"===a||"add"===a;if(!d&&"delete"!==a&&"deleteRange"!==a)throw new Error("Invalid operation type: "+a);var f,h=(o||i||{length:1}).length;if(o&&i&&o.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++y,Bt(e)}var g=[],m=[],y=0;if("deleteRange"===a){if(4===s.type)return e({numFailures:y,failures:m,results:[],lastResult:void 0});3===s.type?g.push(f=c.clear()):g.push(f=c.delete(r(s)))}else{var v=(u=d?u?[i,o]:[i,null]:[o,null])[0],b=u[1];if(d)for(var w=0;w<h;++w)g.push(f=b&&void 0!==b[w]?c[a](v[w],b[w]):c[a](v[w])),f.onerror=p;else for(w=0;w<h;++w)g.push(f=c[a](v[w])),f.onerror=p}function S(t){t=t.target.result,g.forEach(function(e,t){return null!=e.error&&(m[t]=e.error)}),e({numFailures:y,failures:m,results:"delete"===a?o:g.map(function(e){return e.result}),lastResult:t})}f.onerror=function(e){p(e),S(e)},f.onsuccess=S})},getMany:function(e){var t=e.trans,r=e.keys;return new Promise(function(e,a){e=Ne(e);for(var o,i=t.objectStore(n),s=r.length,l=new Array(s),c=0,u=0,d=function(t){t=t.target,l[t._pos]=t.result,++u===c&&e(l)},f=zt(a),h=0;h<s;++h)null!=r[h]&&((o=i.get(r[h]))._pos=h,o.onsuccess=d,o.onerror=f,++c);0===c&&e(l)})},get:function(e){var t=e.trans,r=e.key;return new Promise(function(e,a){e=Ne(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=zt(a)})},query:(t=u,function(e){return new Promise(function(a,o){a=Ne(a);var i,s,l,c=e.trans,u=e.values,d=e.limit,f=e.query,h=d===1/0?void 0:d,p=f.index;if(f=f.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),f=r(f),0===d)return a({result:[]});t?((h=u?p.getAll(f,h):p.getAllKeys(f,h)).onsuccess=function(e){return a({result:e.target.result})},h.onerror=zt(o)):(i=0,s=!u&&"openKeyCursor"in p?p.openKeyCursor(f):p.openCursor(f),l=[],s.onsuccess=function(e){var t=s.result;return t?(l.push(u?t.value:t.primaryKey),++i===d?a({result:l}):void t.continue()):a({result:l})},s.onerror=zt(o))})}),openCursor:function(e){var t=e.trans,a=e.values,o=e.query,i=e.reverse,s=e.unique;return new Promise(function(e,l){e=Ne(e);var c=o.index,u=o.range,d=t.objectStore(n),f=(d=c.isPrimaryKey?d:d.index(c.name),c=i?s?"prevunique":"prev":s?"nextunique":"next",!a&&"openKeyCursor"in d?d.openKeyCursor(r(u),c):d.openCursor(r(u),c));f.onerror=zt(l),f.onsuccess=Ne(function(n){var r,a,o,i,s=f.result;s?(s.___id=++Xt,s.done=!1,r=s.continue.bind(s),a=(a=s.continuePrimaryKey)&&a.bind(s),o=s.advance.bind(s),i=function(){throw new Error("Cursor not stopped")},s.trans=t,s.stop=s.continue=s.continuePrimaryKey=s.advance=function(){throw new Error("Cursor not started")},s.fail=Ne(l),s.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},s.start=function(e){function t(){if(f.result)try{e()}catch(e){s.fail(e)}else s.done=!0,s.start=function(){throw new Error("Cursor behind last entry")},s.stop()}var n=new Promise(function(e,t){e=Ne(e),f.onerror=zt(t),s.fail=t,s.stop=function(t){s.stop=s.continue=s.continuePrimaryKey=s.advance=i,e(t)}});return f.onsuccess=Ne(function(e){f.onsuccess=t,t()}),s.continue=r,s.continuePrimaryKey=a,s.advance=o,t(),n},e(s)):e(null)},l)})},count:function(e){var t=e.query,a=e.trans,o=t.index,i=t.range;return new Promise(function(e,t){var s=a.objectStore(n),l=o.isPrimaryKey?s:s.index(o.name);(l=(s=r(i))?l.count(s):l.count()).onsuccess=Ne(function(t){return e(t.target.result)}),l.onerror=zt(t)})}}}var o,s,l,c=(s=n,l=Jt((o=e).objectStoreNames),{schema:{name:o.name,tables:l.map(function(e){return s.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,r=i(t),a={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Qt(t)},indexes:Jt(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:i(e),keyPath:e,unique:n,multiEntry:r,extractKey:Qt(e)},a[Zt(e)]=r}),getIndexByKeyPath:function(e){return a[Zt(e)]}},a[":id"]=n.primaryKey,null!=t&&(a[Zt(t)]=n.primaryKey),n})},hasGetAll:0<l.length&&"getAll"in s.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),u=(n=c.schema,c.hasGetAll),d=(c=n.tables.map(a),{});return c.forEach(function(e){return d[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!d[e])throw new Error("Table '".concat(e,"' not found"));return d[e]},MIN_KEY:-1/0,MAX_KEY:$t(t),schema:n}}function tn(e,n,r,a){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(a=en(n,o,a),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},a))}}function nn(e,t){var n=t.db;t=tn(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function rn(e,t,n,r){n.forEach(function(n){var a=r[n];t.forEach(function(t){var r=function e(t,n){return g(t,n)||(t=l(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get:function(){return this.table(n)},set:function(e){f(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,a))})})}function an(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function on(e,t){return e._cfg.version-t._cfg.version}function sn(e,t,n,r){var a=e._dbSchema;n.objectStoreNames.contains("$meta")&&!a.$meta&&(a.$meta=Yt("$meta",gn("")[0],[]),e._storeNames.push("$meta"));var i=e._createTransaction("readwrite",e._storeNames,a);i.create(n),i._completion.catch(r);var s=i._reject.bind(i),l=ve.transless||ve;Ke(function(){return ve.trans=i,ve.transless=l,0!==t?(nn(e,n),c=t,((r=i).storeNames.includes("$meta")?r.table("$meta").get("version").then(function(e){return null!=e?e:c}):_e.resolve(c)).then(function(t){return a=t,s=i,l=n,c=[],t=(r=e)._versions,u=r._dbSchema=hn(0,r.idbdb,l),0!==(t=t.filter(function(e){return e._cfg.version>=a})).length?(t.forEach(function(e){c.push(function(){var t=u,n=e._cfg.dbschema;pn(r,t,l),pn(r,n,l),u=r._dbSchema=n;var i=cn(t,n);i.add.forEach(function(e){un(l,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new q.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach(function(e){return fn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),fn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>a){nn(r,l),s._memoizedTables={};var d=E(n);i.del.forEach(function(e){d[e]=t[e]}),an(r,[r.Transaction.prototype]),rn(r,[r.Transaction.prototype],o(d),d),s.schema=d;var f,h=M(c);return h&&Ue(),i=_e.follow(function(){var e;(f=c(s))&&h&&(e=Ve.bind(null,null),f.then(e,e))}),f&&"function"==typeof f.then?_e.resolve(f):i.then(function(){return f})}}),c.push(function(t){var n,a,o=e._cfg.dbschema;n=o,a=t,[].slice.call(a.db.objectStoreNames).forEach(function(e){return null==n[e]&&a.db.deleteObjectStore(e)}),an(r,[r.Transaction.prototype]),rn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),s.schema=r._dbSchema}),c.push(function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(e){return"$meta"!==e})):t.objectStore("$meta").put(e._cfg.version,"version"))})}),function e(){return c.length?_e.resolve(c.shift()(s.idbtrans)).then(e):_e.resolve()}().then(function(){dn(u,l)})):_e.resolve();var r,a,s,l,c,u}).catch(s)):(o(a).forEach(function(e){un(n,e,a[e].primKey,a[e].indexes)}),nn(e,n),void _e.follow(function(){return e.on.populate.fire(i)}).catch(s));var r,c})}function ln(e,t){dn(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=hn(0,e.idbdb,t);pn(e,e._dbSchema,t);for(var r=0,a=cn(n,e._dbSchema).change;r<a.length;r++){var o=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(t){ae&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),fn(n,t)})}(a[r]);if("object"==typeof o)return o.value}}function cn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var a=e[n],o=t[n];if(a){var i={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto)i.recreate=!0,r.change.push(i);else{var s=a.idxByName,l=o.idxByName,c=void 0;for(c in s)l[c]||i.del.push(c);for(c in l){var u=s[c],d=l[c];u?u.src!==d.src&&i.change.push(d):i.add.push(d)}(0<i.del.length||0<i.add.length||0<i.change.length)&&r.change.push(i)}}else r.add.push([n,o])}return r}function un(e,t,n,r){var a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){return fn(a,e)}),a}function dn(e,t){o(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(ae&&console.debug("Dexie: Creating missing table",n),un(t,n,e[n].primKey,e[n].indexes))})}function fn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function hn(e,t,n){var r={};return y(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),a=qt(Gt(s=t.keyPath),s||"",!0,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[],i=0;i<t.indexNames.length;++i){var s=(l=t.index(t.indexNames[i])).keyPath,l=qt(l.name,s,!!l.unique,!!l.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(l)}r[e]=Yt(e,a,o)}),r}function pn(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],s=n.objectStore(i);e._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var c=s.indexNames[l],u=s.index(c).keyPath,d="string"==typeof u?u:"["+y(u).join("+")+"]";!t[i]||(u=t[i].idxByName[d])&&(u.name=c,delete t[i].idxByName[d],t[i].idxByName[c]=u)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function gn(e){return e.split(",").map(function(e,t){var n=null===(r=(a=e.split(":"))[1])||void 0===r?void 0:r.trim(),r=(e=a[0].trim()).replace(/([&*]|\+\+)/g,""),a=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return qt(r,a||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(a),0===t,n)})}var mn=(yn.prototype._createTableSchema=Yt,yn.prototype._parseIndexSyntax=gn,yn.prototype._parseStoresSpec=function(e,t){var n=this;o(e).forEach(function(r){if(null!==e[r]){var a=n._parseIndexSyntax(e[r]),o=a.shift();if(!o)throw new q.Schema("Invalid schema for table "+r+": "+e[r]);if(o.unique=!0,o.multi)throw new q.Schema("Primary key cannot be multiEntry*");a.forEach(function(e){if(e.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),a=n._createTableSchema(r,o,a),t[r]=a}})},yn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach(function(e){s(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,an(t,[t._allTables,t,t.Transaction.prototype]),rn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],o(r),r),t._storeNames=o(r),this},yn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=re(this._cfg.contentUpgrade||$,e),this},yn);function yn(){}function vn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new rr(nt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function bn(e){return e&&"function"==typeof e.databases}function wn(e){return Ke(function(){return ve.letThrough=!0,e()})}function Sn(e){return!("from"in e)}var _n=function(e,t){if(!this){var n=new _n;return e&&"d"in e&&s(n,e),n}s(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function En(e,t,n){var r=ct(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(Sn(e))return s(e,{from:t,to:n,d:1});var a=e.l;if(r=e.r,ct(n,e.from)<0)return a?En(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Dn(e);if(0<ct(t,e.to))return r?En(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Dn(e);ct(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<ct(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,a&&!e.l&&kn(e,a),r&&n&&kn(e,r)}}function kn(e,t){Sn(t)||function e(t,n){var r=n.from,a=n.to,o=n.l;n=n.r,En(t,r,a),o&&e(t,o),n&&e(t,n)}(e,t)}function Cn(e,t){var n=xn(t),r=n.next();if(r.done)return!1;for(var a=r.value,o=xn(e),i=o.next(a.from),s=i.value;!r.done&&!i.done;){if(ct(s.from,a.to)<=0&&0<=ct(s.to,a.from))return!0;ct(a.from,s.from)<0?a=(r=n.next(s.from)).value:s=(i=o.next(a.from)).value}return!1}function xn(e){var t=Sn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ct(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ct(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Dn(e){var n,r,a=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),o=1<a?"r":a<-1?"l":"";o&&(n="r"==o?"l":"r",r=t({},e),a=e[o],e.from=a.from,e.to=a.to,e[o]=a[o],r[o]=a[n],(e[n]=r).d=Pn(r)),e.d=Pn(e)}function Pn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function An(e,t){return o(t).forEach(function(n){e[n]?kn(e[n],t[n]):e[n]=function e(t){var n,r,a={};for(n in t)u(t,n)&&(r=t[n],a[n]=!r||"object"!=typeof r||D.has(r.constructor)?r:e(r));return a}(t[n])}),e}function In(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&Cn(t[n],e[n])})}d(_n.prototype,((j={add:function(e){return kn(this,e),this},addKey:function(e){return En(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return En(t,e,e)}),this},hasKey:function(e){var t=xn(this).next(e).value;return t&&ct(t.from,e)<=0&&0<=ct(t.to,e)}})[O]=function(){return xn(this)},j));var Tn={},On={},Rn=!1;function Nn(e){An(On,e),Rn||(Rn=!0,setTimeout(function(){Rn=!1,Ln(On,!(On={}))},0))}function Ln(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,a=Object.values(Tn);r<a.length;r++)Fn(i=a[r],e,n,t);else for(var o in e){var i,s=/^idb\:\/\/(.*)\/(.*)\//.exec(o);s&&(o=s[1],s=s[2],(i=Tn["idb://".concat(o,"/").concat(s)])&&Fn(i,e,n,t))}n.forEach(function(e){return e()})}function Fn(e,t,n,r){for(var a=[],o=0,i=Object.entries(e.queries.query);o<i.length;o++){for(var s=i[o],l=s[0],c=[],u=0,d=s[1];u<d.length;u++){var f=d[u];In(t,f.obsSet)?f.subscribers.forEach(function(e){return n.add(e)}):r&&c.push(f)}r&&a.push([l,c])}if(r)for(var h=0,p=a;h<p.length;h++){var g=p[h];l=g[0],c=g[1],e.queries.query[l]=c}}function Mn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Je(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,a=Math.round(10*e.verno),i=!1;function s(){if(t.openCanceller!==r)throw new q.DatabaseClosed("db.open() was cancelled")}function l(){return new _e(function(r,c){if(s(),!n)throw new q.MissingAPI;var u=e.name,h=t.autoSchema||!a?n.open(u):n.open(u,a);if(!h)throw new q.MissingAPI;h.onerror=zt(c),h.onblocked=Ne(e._fireOnBlocked),h.onupgradeneeded=Ne(function(r){var a;d=h.transaction,t.autoSchema&&!e._options.allowEmptyDB?(h.onerror=Bt,d.abort(),h.result.close(),(a=n.deleteDatabase(u)).onsuccess=a.onerror=Ne(function(){c(new q.NoSuchDatabase("Database ".concat(u," doesnt exist")))})):(d.onerror=zt(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,f=r<1,e.idbdb=h.result,i&&ln(e,d),sn(e,r/10,d,c))},c),h.onsuccess=Ne(function(){d=null;var n,s,c,p,g,m=e.idbdb=h.result,v=y(m.objectStoreNames);if(0<v.length)try{var b=m.transaction(1===(p=v).length?p[0]:p,"readonly");if(t.autoSchema)s=m,c=b,(n=e).verno=s.version/10,c=n._dbSchema=hn(0,s,c),n._storeNames=y(s.objectStoreNames,0),rn(n,[n._allTables],o(c),c);else if(pn(e,e._dbSchema,b),((g=cn(hn(0,(g=e).idbdb,b),g._dbSchema)).add.length||g.change.some(function(e){return e.add.length||e.change.length}))&&!i)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),m.close(),a=m.version+1,i=!0,r(l());nn(e,b)}catch(n){}tt.push(e),m.onversionchange=Ne(function(n){t.vcFired=!0,e.on("versionchange").fire(n)}),m.onclose=Ne(function(){e.close({disableAutoOpen:!1})}),f&&(g=e._deps,b=u,m=g.indexedDB,g=g.IDBKeyRange,bn(m)||b===nt||vn(m,g).put({name:b}).catch($)),r()},c)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l();break;case"VersionError":if(0<a)return a=0,l()}return _e.reject(e)})}var c,u=t.dbReadyResolve,d=null,f=!1;return _e.race([r,("undefined"==typeof navigator?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()}).finally(function(){return clearInterval(c)}):Promise.resolve()).then(l)]).then(function(){return s(),t.onReadyBeingFired=[],_e.resolve(wn(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(re,$);return t.onReadyBeingFired=[],_e.resolve(wn(function(){return r(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{d&&d.abort()}catch(n){}return r===t.openCanceller&&e._close(),Je(n)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return f&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new _n(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new _n(-1/0,[[[]]])}),Vt(Kt).fire(t),Ln(t,!0)),e})}function jn(e){function t(t){return e.next(t)}var n=a(t),r=a(function(t){return e.throw(t)});function a(e){return function(t){var a=e(t);return t=a.value,a.done?t:t&&"function"==typeof t.then?t.then(n,r):i(t)?Promise.all(t).then(n,r):n(t)}}return a(t)()}function zn(e,t,n){for(var r=i(e)?e.slice():[e],a=0;a<n;++a)r.push(t);return r}var Bn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),a=r.schema,o={},i=[];function s(e,n,r){var a=Zt(e),l=o[a]=o[a]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n;return u=t(t({},r),{name:u?"".concat(a,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:u,keyTail:n,keyLength:c,extractKey:Qt(e),unique:!u&&r.unique}),l.push(u),u.isPrimaryKey||i.push(u),1<c&&s(2===c?e[0]:e.slice(0,c-1),n+1,r),l.sort(function(e,t){return e.keyTail-t.keyTail}),u}n=s(a.primaryKey.keyPath,0,a.primaryKey),o[":id"]=[n];for(var l=0,c=a.indexes;l<c.length;l++){var u=c[l];s(u.keyPath,0,u)}function d(n){var r,a=n.query.index;return a.isVirtual?t(t({},n),{query:{index:a.lowLevelIndex,range:(r=n.query.range,a=a.keyTail,{type:1===r.type?2:r.type,lower:zn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,a),lowerOpen:!0,upper:zn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,a),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},a),{primaryKey:n,indexes:i,getIndexByKeyPath:function(e){return(e=o[Zt(e)])&&e[0]}}),count:function(e){return r.count(d(e))},query:function(e){return r.query(d(e))},openCursor:function(t){var n=t.query.index,a=n.keyTail,o=n.isVirtual,i=n.keyLength;return o?r.openCursor(d(t)).then(function(e){return e&&s(e)}):r.openCursor(t);function s(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(zn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,a)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,a)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(zn(t,e.MAX_KEY,a),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:function(){return n.value}}})}}})}})}};function Kn(e,t,n,r){return n=n||{},r=r||"",o(e).forEach(function(a){var o,i,s;u(t,a)?(o=e[a],i=t[a],"object"==typeof o&&"object"==typeof i&&o&&i?(s=T(o))!==T(i)?n[r+a]=t[a]:"Object"===s?Kn(o,i,n,r+a+"."):o!==i&&(n[r+a]=t[a]):o!==i&&(n[r+a]=t[a])):n[r+a]=void 0}),o(t).forEach(function(a){u(e,a)||(n[r+a]=t[a])}),n}function Un(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Vn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(n){var a=e.table(n),o=a.schema.primaryKey;return t(t({},a),{mutate:function(e){var i=ve.trans,s=i.table(n).hook,l=s.deleting,c=s.creating,d=s.updating;switch(e.type){case"add":if(c.fire===$)break;return i._promise("readwrite",function(){return f(e)},!0);case"put":if(c.fire===$&&d.fire===$)break;return i._promise("readwrite",function(){return f(e)},!0);case"delete":if(l.fire===$)break;return i._promise("readwrite",function(){return f(e)},!0);case"deleteRange":if(l.fire===$)break;return i._promise("readwrite",function(){return function e(n,r,i){return a.query({trans:n,values:!1,query:{index:o,range:r},limit:i}).then(function(a){var o=a.result;return f({type:"delete",keys:o,trans:n}).then(function(a){return 0<a.numFailures?Promise.reject(a.failures[0]):o.length<i?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:o[o.length-1],lowerOpen:!0}),i)})})}(e.trans,e.range,1e4)},!0)}return a.mutate(e);function f(e){var n,i,s,f=ve.trans,h=e.keys||Un(o,e);if(!h)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:h}):t({},e)).type&&(e.values=r([],e.values,!0)),e.keys&&(e.keys=r([],e.keys,!0)),n=a,s=h,("add"===(i=e).type?Promise.resolve([]):n.getMany({trans:i.trans,keys:s,cache:"immutable"})).then(function(t){var n=h.map(function(n,r){var a,i,s,h=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,n,h,f):"add"===e.type||void 0===h?(a=c.fire.call(p,n,e.values[r],f),null==n&&null!=a&&(e.keys[r]=n=a,o.outbound||_(e.values[r],o.keyPath,n))):(a=Kn(h,e.values[r]),(i=d.fire.call(p,a,n,h,f))&&(s=e.values[r],Object.keys(i).forEach(function(e){u(s,e)?s[e]=i[e]:_(s,e,i[e])}))),p});return a.mutate(e).then(function(r){for(var a=r.failures,o=r.results,i=r.numFailures,s=(r=r.lastResult,0);s<h.length;++s){var l=(o||h)[s],c=n[s];null==l?c.onerror&&c.onerror(a[s]):c.onsuccess&&c.onsuccess("put"===e.type&&t[s]?e.values[s]:l)}return{failures:a,results:o,numFailures:i,lastResult:r}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],a=0,o=0;a<t.keys.length&&o<e.length;++a)0===ct(t.keys[a],e[o])&&(r.push(n?A(t.values[a]):t.values[a]),++o);return r.length===e.length?r:null}catch(e){return null}}var Wn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?_e.resolve(t):r.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?A(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function qn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Gn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new _n(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ve.subscr&&"readonly"!==n)throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,r)},table:function(a){var s=e.table(a),l=s.schema,c=l.primaryKey,u=l.indexes,d=c.extractKey,f=c.outbound,h=c.autoIncrement&&u.filter(function(e){return e.compound&&e.keyPath.includes(c.keyPath)}),p=t(t({},s),{mutate:function(t){function o(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),g[e]||(g[e]=new _n)}var u,d,f,p=t.trans,g=t.mutatedParts||(t.mutatedParts={}),m=o(""),y=o(":dels"),v=t.type,b="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Un(c,t).filter(function(e){return e}),t.values]:[],w=b[0],S=b[1];return b=t.trans._cache,i(w)?(m.addKeys(w),(b="delete"===v||w.length===S.length?Hn(w,b):null)||y.addKeys(w),(b||S)&&(u=o,d=b,f=S,l.indexes.forEach(function(e){var t=u(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&i(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(d||f).forEach(function(e,t){var a=d&&n(d[t]);0!==ct(a,t=f&&n(f[t]))&&(null!=a&&r(a),null!=t&&r(t))})}))):w?(S={from:null!==(S=w.lower)&&void 0!==S?S:e.MIN_KEY,to:null!==(S=w.upper)&&void 0!==S?S:e.MAX_KEY},y.add(S),m.add(S)):(m.add(r),y.add(r),l.indexes.forEach(function(e){return o(e.name).add(r)})),s.mutate(t).then(function(e){return!w||"add"!==t.type&&"put"!==t.type||(m.addKeys(e.results),h&&h.forEach(function(n){for(var r=t.values.map(function(e){return n.extractKey(e)}),a=n.keyPath.findIndex(function(e){return e===c.keyPath}),i=0,s=e.results.length;i<s;++i)r[i][a]=e.results[i];o(n.name).addKeys(r)})),p.mutatedParts=An(p.mutatedParts||{},g),e})}}),g=(u=function(t){t=(n=t.query).index;var n=n.range;return[t,new _n(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},{get:function(e){return[c,new _n(e.key)]},getMany:function(e){return[c,(new _n).addKeys(e.keys)]},count:u,query:u,openCursor:u});return o(g).forEach(function(e){p[e]=function(o){var i=!!(p=ve.subscr),l=qn(ve,s)&&Gn(e,o)?o.obsSet={}:p;if(i){var c=function(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),l[e]||(l[e]=new _n)},u=c(""),h=c(":dels"),p=(i=(p=g[e](o))[0],p[1]);if(("query"===e&&i.isPrimaryKey&&!o.values?h:c(i.name||"")).add(p),!i.isPrimaryKey){if("count"!==e){var m="query"===e&&f&&o.values&&s.query(t(t({},o),{values:!1}));return s[e].apply(this,arguments).then(function(t){if("query"===e){if(f&&o.values)return m.then(function(e){return e=e.result,u.addKeys(e),t});var n=o.values?t.result.map(d):t.result;(o.values?u:h).addKeys(n)}else if("openCursor"===e){var r=t,a=o.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return h.addKey(e),e}},value:{get:function(){return a&&u.addKey(r.primaryKey),r.value}}})}return t})}h.add(r)}}return s[e].apply(this,arguments)}}),p}})}};function $n(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var a=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===a?null:(n=t({},n),i(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in r.failures)})),"values"in n&&i(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in r.failures)})),n)}function Qn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<ct(n,r.lower):0<=ct(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?ct(e,t.upper)<0:ct(e,t.upper)<=0));var n,r}function Jn(e,t,n,r,a,o){if(!n||0===n.length)return e;var s=t.query.index,l=s.multiEntry,c=t.query.range,u=r.schema.primaryKey.extractKey,d=s.extractKey,f=(s.lowLevelIndex||s).extractKey;return n=n.reduce(function(e,n){var r=e,a=[];if("add"===n.type||"put"===n.type)for(var o=new _n,s=n.values.length-1;0<=s;--s){var f,h=n.values[s],p=u(h);o.hasKey(p)||(f=d(h),(l&&i(f)?f.some(function(e){return Qn(e,c)}):Qn(f,c))&&(o.addKey(p),a.push(h)))}switch(n.type){case"add":var g=(new _n).addKeys(t.values?e.map(function(e){return u(e)}):e);r=e.concat(t.values?a.filter(function(e){return e=u(e),!g.hasKey(e)&&(g.addKey(e),!0)}):a.map(function(e){return u(e)}).filter(function(e){return!g.hasKey(e)&&(g.addKey(e),!0)}));break;case"put":var m=(new _n).addKeys(n.values.map(function(e){return u(e)}));r=e.filter(function(e){return!m.hasKey(t.values?u(e):e)}).concat(t.values?a:a.map(function(e){return u(e)}));break;case"delete":var y=(new _n).addKeys(n.keys);r=e.filter(function(e){return!y.hasKey(t.values?u(e):e)});break;case"deleteRange":var v=n.range;r=e.filter(function(e){return!Qn(u(e),v)})}return r},e),n===e?e:(n.sort(function(e,t){return ct(f(e),f(t))||ct(u(e),u(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(a.dirty=!0)),o?Object.freeze(n):n)}function Xn(e,t){return 0===ct(e.lower,t.lower)&&0===ct(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Zn(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function er(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var r,a;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,a=t,setTimeout(function(){0===r.subscribers.size&&N(a,r)},3e3))})}var tr={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,a){var o,i,s=e.transaction(t,r,a);return"readwrite"===r&&(i=(o=new AbortController).signal,a=function(a){return function(){if(o.abort(),"readwrite"===r){for(var i=new Set,l=0,c=t;l<c.length;l++){var u=c[l],d=Tn["idb://".concat(n,"/").concat(u)];if(d){var f=e.table(u),h=d.optimisticOps.filter(function(e){return e.trans===s});if(s._explicit&&a&&s.mutatedParts)for(var p=0,g=Object.values(d.queries.query);p<g.length;p++)for(var m=0,y=(w=g[p]).slice();m<y.length;m++)In((S=y[m]).obsSet,s.mutatedParts)&&(N(w,S),S.subscribers.forEach(function(e){return i.add(e)}));else if(0<h.length){d.optimisticOps=d.optimisticOps.filter(function(e){return e.trans!==s});for(var v=0,b=Object.values(d.queries.query);v<b.length;v++)for(var w,S,_,E=0,k=(w=b[v]).slice();E<k.length;E++)null!=(S=k[E]).res&&s.mutatedParts&&(a&&!S.dirty?(_=Object.isFrozen(S.res),_=Jn(S.res,S.req,h,f,S,_),S.dirty?(N(w,S),S.subscribers.forEach(function(e){return i.add(e)})):_!==S.res&&(S.res=_,S.promise=_e.resolve({result:_}))):(S.dirty&&N(w,S),S.subscribers.forEach(function(e){return i.add(e)})))}}}i.forEach(function(e){return e()})}}},s.addEventListener("abort",a(!1),{signal:i}),s.addEventListener("error",a(!1),{signal:i}),s.addEventListener("complete",a(!0),{signal:i})),s},table:function(r){var a=e.table(r),o=a.schema.primaryKey;return t(t({},a),{mutate:function(e){var i=ve.trans;if(o.outbound||"disabled"===i.db._options.cache||i.explicit||"readwrite"!==i.idbtrans.mode)return a.mutate(e);var s=Tn["idb://".concat(n,"/").concat(r)];return s?(i=a.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Un(o,e).some(function(e){return null==e}))?(s.optimisticOps.push(e),e.mutatedParts&&Nn(e.mutatedParts),i.then(function(t){0<t.numFailures&&(N(s.optimisticOps,e),(t=$n(0,e,t))&&s.optimisticOps.push(t),e.mutatedParts&&Nn(e.mutatedParts))}),i.catch(function(){N(s.optimisticOps,e),e.mutatedParts&&Nn(e.mutatedParts)})):i.then(function(n){var r=$n(0,t(t({},e),{values:e.values.map(function(e,r){var a;return n.failures[r]||_(e=null!==(a=o.keyPath)&&void 0!==a&&a.includes(".")?A(e):t({},e),o.keyPath,n.results[r]),e})}),n);s.optimisticOps.push(r),queueMicrotask(function(){return e.mutatedParts&&Nn(e.mutatedParts)})}),i):a.mutate(e)},query:function(e){if(!qn(ve,a)||!Gn("query",e))return a.query(e);var t="immutable"===(null===(s=ve.trans)||void 0===s?void 0:s.db._options.cache),o=(c=ve).requery,i=c.signal,s=function(e,t,n,r){var a=Tn["idb://".concat(e,"/").concat(t)];if(!a)return[];if(!(t=a.queries[n]))return[null,!1,a,null];var o=t[(r.query?r.query.index.name:null)||""];if(!o)return[null,!1,a,null];switch(n){case"query":var i=o.find(function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Xn(e.req.query.range,r.query.range)});return i?[i,!0,a,o]:[o.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&Zn(e.req.query.range,r.query.range)}),!1,a,o];case"count":return i=o.find(function(e){return Xn(e.req.query.range,r.query.range)}),[i,!!i,a,o]}}(n,r,"query",e),l=s[0],c=s[1],u=s[2],d=s[3];return l&&c?l.obsSet=e.obsSet:(c=a.query(e).then(function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,a=n.length;r<a;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=A(n);return e}).catch(function(e){return d&&l&&N(d,l),Promise.reject(e)}),l={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},d?d.push(l):(d=[l],(u=u||(Tn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=d)),er(l,d,o,i),l.promise.then(function(n){return{result:Jn(n.result,e,null==u?void 0:u.optimisticOps,a,l,t)}})}})}})}};function nr(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var rr=(ar.prototype.version=function(e){if(isNaN(e)||e<.1)throw new q.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(on),n.stores({}),this._state.autoSchema=!1,n)},ar.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new _e(function(e,n){if(t._state.openComplete)return n(new q.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new q.DatabaseClosed);t.open().catch($)}t._state.dbReadyPromise.then(e,n)}).then(e)},ar.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,a=e.name;return a&&this.unuse({stack:t,name:a}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:a}),e.sort(function(e,t){return e.level-t.level}),this},ar.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},ar.prototype.open=function(){var e=this;return Ye(ye,function(){return Mn(e)})},ar.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=tt.indexOf(this);if(0<=t&&tt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new _e(function(t){e.dbReadyResolve=t}),e.openCanceller=new _e(function(t,n){e.cancelOpen=n}))},ar.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new q.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new q.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},ar.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new _e(function(a,o){function i(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Ne(function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,bn(r)||n===nt||vn(r,e).delete(n).catch($),a()}),n.onerror=zt(o),n.onblocked=t._fireOnBlocked}if(n)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})},ar.prototype.backendDB=function(){return this.idbdb},ar.prototype.isOpen=function(){return null!==this.idbdb},ar.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},ar.prototype.hasFailed=function(){return null!==this._state.dbOpenError},ar.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ar.prototype,"tables",{get:function(){var e=this;return o(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),ar.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new q.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];return n=a.pop(),[e,C(a),n]}.apply(this,arguments);return this._transaction.apply(this,e)},ar.prototype._transaction=function(e,t,n){var r=this,a=ve.trans;a&&a.db===this&&-1===e.indexOf("!")||(a=null);var o,i,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(i=t.map(function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===rt)o=rt;else{if("rw"!=e&&e!=at)throw new q.InvalidArgument("Invalid transaction mode: "+e);o=at}if(a){if(a.mode===rt&&o===at){if(!s)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&i.forEach(function(e){if(a&&-1===a.storeNames.indexOf(e)){if(!s)throw new q.SubTransaction("Table "+e+" not included in parent transaction.");a=null}}),s&&a&&!a.active&&(a=null)}}catch(n){return a?a._promise(null,function(e,t){t(n)}):Je(n)}var l=function e(t,n,r,a,o){return _e.resolve().then(function(){var i=ve.transless||ve,s=t._createTransaction(n,r,t._dbSchema,a);if(s.explicit=!0,i={trans:s,transless:i},a)s.idbtrans=a.idbtrans;else try{s.create(),s.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(i){return i.name===H.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,null,o)})):Je(i)}var l,c=M(o);return c&&Ue(),i=_e.follow(function(){var e;(l=o.call(s,s))&&(c?(e=Ve.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=jn(l)))},i),(l&&"function"==typeof l.then?_e.resolve(l).then(function(e){return s.active?e:Je(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):i.then(function(){return l})).then(function(e){return a&&s._resolve(),s._completion.then(function(){return e})}).catch(function(e){return s._reject(e),Je(e)})})}.bind(null,this,o,i,a,n);return a?a._promise(o,l,"lock"):ve.trans?Ye(ve.transless,function(){return r._whenReady(l)}):this._whenReady(l)},ar.prototype.table=function(e){if(!u(this._allTables,e))throw new q.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},ar);function ar(e,n){var r=this;this._middlewares={},this.verno=0;var a=ar.dependencies;this._options=n=t({addons:ar.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},a=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,i,s,l,c,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$,dbReadyPromise:null,cancelOpen:$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new _e(function(e){u.dbReadyResolve=e}),u.openCanceller=new _e(function(e,t){u.cancelOpen=t}),this._state=u,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[re,$]}),this.once=function(e,t){var n=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];r.on(e).unsubscribe(n),t.apply(r,a)};return r.on(e,n)},this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){ar.vip(function(){var a,o=r._state;o.openComplete?(o.dbOpenError||_e.resolve().then(t),n&&e(t)):o.onReadyBeingFired?(o.onReadyBeingFired.push(t),n&&e(t)):(e(t),a=r,n||e(function e(){a.on.ready.unsubscribe(t),a.on.ready.unsubscribe(e)}))})}}),this.Collection=(o=this,bt(Dt.prototype,function(e,t){this.db=o;var n=it,r=null;if(t)try{n=t()}catch(e){r=e}var a=e._ctx;e=(t=a.table).hook.reading.fire,this._ctx={table:t,index:a.index,isPrimKey:!a.index||t.schema.primKey.keyPath&&a.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:a.or,valueMapper:e!==Q?e:null}})),this.Table=(i=this,bt(mt.prototype,function(e,t,n){this.db=i,this._tx=n,this.name=e,this.schema=t,this.hook=i._allTables[e]?i._allTables[e].hook:vt(null,{creating:[Z,$],reading:[J,Q],updating:[te,$],deleting:[ee,$]})})),this.Transaction=(s=this,bt(Ht.prototype,function(e,t,n,r,a){var o=this;"readonly"!==e&&t.forEach(function(e){(e=null===(e=n[e])||void 0===e?void 0:e.yProps)&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=s,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function(e,t){o._resolve=e,o._reject=t}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),Je(e)})})),this.Version=(l=this,bt(mn.prototype,function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,bt(Mt.prototype,function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=ct,this._descending=function(e,t){return ct(t,e)},this._max=function(e,t){return 0<ct(e,t)?e:t},this._min=function(e,t){return ct(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))}),this._maxKey=$t(n.IDBKeyRange),this._createTransaction=function(e,t,n,a){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,a)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),tt.filter(function(e){return e.name===r.name&&e!==r&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(Wn),this.use(tr),this.use(Yn),this.use(Bn),this.use(Vn);var d=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return nr(r.table(e),d)};var a=Reflect.get(e,t,n);return a instanceof mt?nr(a,d):"tables"===t?a.map(function(e){return nr(e,d)}):"_createTransaction"===t?function(){return nr(a.apply(this,arguments),d)}:a}});this.vip=d,a.forEach(function(e){return e(r)})}j="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var or,ir=(sr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},sr.prototype[j]=function(){return this},sr);function sr(e){this._subscribe=e}try{or={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch(x){or={indexedDB:null,IDBKeyRange:null}}function lr(e){var t,n=!1,r=new ir(function(r){var a,o=M(e),i=!1,s={},l={},c={get closed(){return i},unsubscribe:function(){i||(i=!0,a&&a.abort(),d&&Vt.storagemutated.unsubscribe(h))}};r.start&&r.start(c);var d=!1,f=function(){return Qe(p)},h=function(e){An(s,e),In(l,s)&&f()},p=function(){var c,p,g;!i&&or.indexedDB&&(s={},c={},a&&a.abort(),a=new AbortController,g=function(t){var n=Ie();try{o&&Ue();var r=Ke(e,t);return r=o?r.finally(Ve):r}finally{n&&Te()}}(p={subscr:c,signal:a.signal,requery:f,querier:e,trans:null}),Promise.resolve(g).then(function(e){n=!0,t=e,i||p.signal.aborted||(s={},function(e){for(var t in e)if(u(e,t))return;return 1}(l=c)||d||(Vt(Kt,h),d=!0),Qe(function(){return!i&&r.next&&r.next(e)}))},function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||i||Qe(function(){i||r.error&&r.error(e)})}))};return setTimeout(f,0),c});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var cr=rr;function ur(e){var t=fr;try{fr=!0,Vt.storagemutated.fire(e),Ln(e,!0)}finally{fr=t}}d(cr,t(t({},Y),{delete:function(e){return new cr(e,{addons:[]}).delete()},exists:function(e){return new cr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=cr.dependencies).indexedDB,t=t.IDBKeyRange,(bn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==nt})}):vn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return Je(new q.MissingAPI)}var t,n},defineClass:function(){return function(e){s(this,e)}},ignoreTransaction:function(e){return ve.trans?Ye(ve.transless,e):e()},vip:wn,async:function(e){return function(){try{var t=jn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:_e.resolve(t)}catch(t){return Je(t)}}},spawn:function(e,t,n){try{var r=jn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:_e.resolve(r)}catch(e){return Je(e)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=_e.resolve("function"==typeof e?cr.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:_e,debug:{get:function(){return ae},set:function(e){oe(e)}},derive:p,extend:s,props:d,override:v,Events:vt,on:Vt,liveQuery:lr,extendObservabilitySet:An,getByKeyPath:S,setByKeyPath:_,delByKeyPath:function(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,function(t){_(e,t,void 0)})},shallowClone:E,deepClone:A,getObjectDiff:Kn,cmp:ct,asap:w,minKey:-1/0,addons:[],connections:tt,errnames:H,dependencies:or,cache:Tn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),cr.maxKey=$t(cr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Vt(Kt,function(e){fr||(e=new CustomEvent(Ut,{detail:e}),fr=!0,dispatchEvent(e),fr=!1)}),addEventListener(Ut,function(e){e=e.detail,fr||ur(e)}));var dr,fr=!1,hr=function(){};return"undefined"!=typeof BroadcastChannel&&((hr=function(){(dr=new BroadcastChannel(Ut)).onmessage=function(e){return e.data&&ur(e.data)}})(),"function"==typeof dr.unref&&dr.unref(),Vt(Kt,function(e){fr||dr.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!rr.disableBfCache&&e.persisted){ae&&console.debug("Dexie: handling persisted pagehide"),null!=dr&&dr.close();for(var t=0,n=tt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!rr.disableBfCache&&e.persisted&&(ae&&console.debug("Dexie: handling persisted pageshow"),hr(),ur({all:new _n(-1/0,[[]])}))})),_e.rejectionMapper=function(e,t){return!e||e instanceof B||e instanceof TypeError||e instanceof SyntaxError||!e.name||!G[e.name]?e:(t=new G[e.name](t||e.message,e),"stack"in e&&h(t,"stack",{get:function(){return this.inner.stack}}),t)},oe(ae),t(rr,Object.freeze({__proto__:null,Dexie:rr,liveQuery:lr,Entity:lt,cmp:ct,PropModification:ht,replacePrefix:function(e,t){return new ht({replacePrefix:[e,t]})},add:function(e){return new ht({add:e})},remove:function(e){return new ht({remove:e})},default:rr,RangeSet:_n,mergeRanges:kn,rangesOverlap:Cn}),{default:rr}),rr}()},20816(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(82284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},28357(e,t,n){"use strict";n.d(t,{v:()=>r});const r={COMPANY_NAME:{NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_COPYRIGHT_TEXT||"IT Catalyst Software India Pvt Ltd, 2025.",ORANGE_PART:{NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_COPYRIGHT_ORANGE_PART||"IT",ORANGE_COLOR:"#ff9800"}},28429(e,t,n){"use strict";var r;n.d(t,{$P:()=>h,BV:()=>F,C5:()=>R,Ix:()=>L,V8:()=>O,Zp:()=>y,g:()=>v,jb:()=>c,qh:()=>N,x$:()=>b,zy:()=>g});var a=n(9950),o=n(1018);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const s=a.createContext(null);const l=a.createContext(null);const c=a.createContext(null);const u=a.createContext(null);const d=a.createContext({outlet:null,matches:[],isDataRoute:!1});const f=a.createContext(null);function h(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,o.Oi)(!1);let{basename:r,navigator:i}=a.useContext(c),{hash:s,pathname:l,search:u}=b(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,o.HS)([r,l])),i.createHref({pathname:d,search:u,hash:s})}function p(){return null!=a.useContext(u)}function g(){return p()||(0,o.Oi)(!1),a.useContext(u).location}function m(e){a.useContext(c).static||a.useLayoutEffect(e)}function y(){let{isDataRoute:e}=a.useContext(d);return e?function(){let{router:e}=P(x.UseNavigateStable),t=I(D.UseNavigateStable),n=a.useRef(!1);return m(()=>{n.current=!0}),a.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,i({fromRouteId:t},a)))},[e,t])}():function(){p()||(0,o.Oi)(!1);let e=a.useContext(s),{basename:t,future:n,navigator:r}=a.useContext(c),{matches:i}=a.useContext(d),{pathname:l}=g(),u=JSON.stringify((0,o.yD)(i,n.v7_relativeSplatPath)),f=a.useRef(!1);return m(()=>{f.current=!0}),a.useCallback(function(n,a){if(void 0===a&&(a={}),!f.current)return;if("number"===typeof n)return void r.go(n);let i=(0,o.Gh)(n,JSON.parse(u),l,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:(0,o.HS)([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[t,r,u,l,e])}()}function v(){let{matches:e}=a.useContext(d),t=e[e.length-1];return t?t.params:{}}function b(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(c),{matches:i}=a.useContext(d),{pathname:s}=g(),l=JSON.stringify((0,o.yD)(i,r.v7_relativeSplatPath));return a.useMemo(()=>(0,o.Gh)(e,JSON.parse(l),s,"path"===n),[e,l,s,n])}function w(e,t,n,r){p()||(0,o.Oi)(!1);let{navigator:s}=a.useContext(c),{matches:l}=a.useContext(d),f=l[l.length-1],h=f?f.params:{},m=(f&&f.pathname,f?f.pathnameBase:"/");f&&f.route;let y,v=g();if(t){var b;let e="string"===typeof t?(0,o.Rr)(t):t;"/"===m||(null==(b=e.pathname)?void 0:b.startsWith(m))||(0,o.Oi)(!1),y=e}else y=v;let w=y.pathname||"/",S=w;if("/"!==m){let e=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=(0,o.ue)(e,{pathname:S});let E=C(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:(0,o.HS)([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:(0,o.HS)([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&E?a.createElement(u.Provider,{value:{location:i({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:o.rc.Pop}},E):E}function S(){let e=function(){var e;let t=a.useContext(f),n=A(D.UseRouteError),r=I(D.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,o.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const _=a.createElement(S,null);class E extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(d.Provider,{value:this.props.routeContext},a.createElement(f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k(e){let{routeContext:t,match:n,children:r}=e,o=a.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(d.Provider,{value:t},r)}function C(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(i=n)?void 0:i.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||(0,o.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,r,o)=>{let i,s=!1,f=null,h=null;var p;n&&(i=c&&r.route.id?c[r.route.id]:void 0,f=r.route.errorElement||_,u&&(d<0&&0===o?(p="route-fallback",!1||T[p]||(T[p]=!0),s=!0,h=null):d===o&&(s=!0,h=r.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,o+1)),m=()=>{let t;return t=i?f:s?h:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(k,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?a.createElement(E,{location:n.location,revalidation:n.revalidation,component:f,error:i,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var x=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x||{}),D=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D||{});function P(e){let t=a.useContext(s);return t||(0,o.Oi)(!1),t}function A(e){let t=a.useContext(l);return t||(0,o.Oi)(!1),t}function I(e){let t=function(){let e=a.useContext(d);return e||(0,o.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.Oi)(!1),n.route.id}const T={};function O(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}(r||(r=n.t(a,2))).startTransition;function R(e){let{to:t,replace:n,state:r,relative:i}=e;p()||(0,o.Oi)(!1);let{future:s,static:l}=a.useContext(c),{matches:u}=a.useContext(d),{pathname:f}=g(),h=y(),m=(0,o.Gh)(t,(0,o.yD)(u,s.v7_relativeSplatPath),f,"path"===i),v=JSON.stringify(m);return a.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function N(e){(0,o.Oi)(!1)}function L(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.rc.Pop,navigator:l,static:d=!1,future:f}=e;p()&&(0,o.Oi)(!1);let h=t.replace(/^\/*/,"/"),g=a.useMemo(()=>({basename:h,navigator:l,static:d,future:i({v7_relativeSplatPath:!1},f)}),[h,f,l,d]);"string"===typeof r&&(r=(0,o.Rr)(r));let{pathname:m="/",search:y="",hash:v="",state:b=null,key:w="default"}=r,S=a.useMemo(()=>{let e=(0,o.pb)(m,h);return null==e?null:{location:{pathname:e,search:y,hash:v,state:b,key:w},navigationType:s}},[h,m,y,v,b,w,s]);return null==S?null:a.createElement(c.Provider,{value:g},a.createElement(u.Provider,{children:n,value:S}))}function F(e){let{children:t,location:n}=e;return w(M(t),n)}new Promise(()=>{});a.Component;function M(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,M(e.props.children,i));e.type!==N&&(0,o.Oi)(!1),e.props.index&&e.props.children&&(0,o.Oi)(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=M(e.props.children,i)),n.push(s)}),n}},31761(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(_);else{var t=r(u);null!==t&&N(S,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,v(x),x=-1),p=!0;var o=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&a(c),w(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&N(S,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,C=null,x=-1,D=5,P=-1;function A(){return!(t.unstable_now()-P<D)}function I(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?E():(k=!1,C=null)}}else k=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=I,E=function(){O.postMessage(null)}}else E=function(){y(I,0)};function R(e){C=e,k||(k=!0,E())}function N(e,n){x=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(v(x),x=-1):m=!0,N(S,o-i))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},32049(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)_.call(t,a)&&!k.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+P(l,0):o,S(i)?(a="",null!=e&&(a=e.replace(D,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(x(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(D,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var u=o+P(s=e[c],c);l+=A(s,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,a,u=o+P(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},32654(e,t,n){"use strict";var r=n(9950),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},34534(e,t,n){"use strict";n.d(t,{Al:()=>f,Vg:()=>c,apiPost:()=>u,mu:()=>d});var r=n(89379),a=n(16243),o=n(87743),i=n(54996);const s=async()=>{console.error("\ud83d\udea8\ud83d\udea8\ud83d\udea8 LOGOUT TRIGGERED \ud83d\udea8\ud83d\udea8\ud83d\udea8"),console.error("\ud83d\udea8 Stack trace:"),console.trace();const e={token:!!sessionStorage.getItem("token"),email:sessionStorage.getItem("email"),company:sessionStorage.getItem("company"),allKeys:Object.keys(sessionStorage)};console.error("\ud83d\udea8 SessionStorage BEFORE clear:",e);try{("external"===(sessionStorage.getItem("access_type")||"").toLowerCase()||(0,i.isExternalUser)())&&(console.log("\ud83e\uddf9 Clearing cache for external user on logout..."),await(0,i.clearAllCacheForExternalUser)())}catch(t){console.error("Error clearing cache on logout:",t)}console.error("\ud83d\udea8 Redirecting to:","/Development"),sessionStorage.clear(),console.error("\ud83d\udea8 SessionStorage CLEARED"),console.error("\ud83d\udea8 SessionStorage AFTER clear:",{allKeys:Object.keys(sessionStorage),size:Object.keys(sessionStorage).length}),window.location.href="/Development"},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=sessionStorage.getItem("token");console.log("\ud83c\udf10 API Call:",{endpoint:e,method:t.method||"GET",hasToken:!!n,timestamp:(new Date).toISOString()});const o=(0,r.A)({"Content-Type":"application/json"},t.headers);n&&(o.Authorization="Bearer ".concat(n));const i=(0,a.getApiUrl)(e);try{const n=await fetch(i,(0,r.A)((0,r.A)({},t),{},{headers:o}));if(401===n.status||403===n.status){const t=sessionStorage.getItem("token"),r=sessionStorage.getItem("email");console.error("\ud83d\udd34 API Auth Error:",{endpoint:e,status:n.status,hasToken:!!t,hasEmail:!!r,sessionKeys:Object.keys(sessionStorage),timestamp:(new Date).toISOString()});const a=e.includes("/login")||e.includes("/signup")||e.includes("/auth")||e.includes("/verify-token");if(!t||!r)return console.error("\ud83d\udd34 Logout reason: No token/email in sessionStorage"),s(),null;if(a)return console.error("\ud83d\udd34 Logout reason: Auth endpoint failed"),s(),null;throw console.warn("\u26a0\ufe0f API 401/403 but token exists - throwing error (no logout)"),new Error("API authentication error: ".concat(n.status," ").concat(n.statusText))}return console.log("\u2705 API Success:",{endpoint:e,status:n.status}),n}catch(c){var l;throw console.error("\u274c API Error:",{endpoint:e,error:c.message,hasAuthError:null===(l=c.message)||void 0===l?void 0:l.includes("authentication")}),c}},c=async e=>{const t=(0,o.d1)(e),n=await l(t,{method:"GET"});return n?n.json():null},u=async(e,t)=>{const n=await l(e,{method:"POST",body:JSON.stringify(t)});if(!n)return null;try{const e=await n.text();if(!n.ok)throw new Error("API request failed: ".concat(n.status," ").concat(n.statusText,". ").concat(e.substring(0,500)));if(!e)throw new Error("Empty response from server");try{return JSON.parse(e)}catch(r){throw console.error("JSON parse error:",r),console.error("Response text length:",e.length),console.error("Response preview (first 500 chars):",e.substring(0,500)),new Error("Failed to parse JSON response: ".concat(r.message))}}catch(a){if(a.message.includes("parse")||a.message.includes("JSON"))throw a;throw new Error("Failed to read response: ".concat(a.message))}},d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={method:"PUT"};t&&(n.body=JSON.stringify(t));const r=await l(e,n);return r?r.json():null},f=async e=>{const t=await l(e,{method:"DELETE"});return t?t.json():null}},38345(e,t,n){"use strict";var r=n(9950),a=n(75340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function K(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case C:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,ke=null;function Ce(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Sa(t),_e(e.stateNode,e.type,t))}}function xe(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function De(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Ae(){}var Ie=!1;function Te(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Pe(e,t,n)}finally{Ie=!1,(null!==Ee||null!==ke)&&(Ae(),De())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Sa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Re=!1}function Le(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Me=null,je=!1,ze=null,Be={onError:function(e){Fe=!0,Me=e}};function Ke(e,t,n,r,a,o,i,s,l){Fe=!1,Me=null,Le.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,_t,Et,kt,Ct,xt=!1,Dt=[],Pt=null,At=null,It=null,Tt=new Map,Ot=new Map,Rt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=va(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){xt=!1,null!==Pt&&jt(Pt)&&(Pt=null),null!==At&&jt(At)&&(At=null),null!==It&&jt(It)&&(It=null),Tt.forEach(zt),Ot.forEach(zt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Kt(t,e)}if(0<Dt.length){Kt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Kt(Pt,e),null!==At&&Kt(At,e),null!==It&&Kt(It,e),Tt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function qt(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function Gt(e,t,n,r){if(Ht){var a=$t(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Pt=Ft(Pt,e,t,n,r,a),!0;case"dragenter":return At=Ft(At,e,t,n,r,a),!0;case"mouseover":return It=Ft(It,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Tt.set(o,Ft(Tt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ot.set(o,Ft(Ot.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&St(o),null===(o=$t(e,t,n,r))&&Hr(e,t,r,Yt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=va(e=Se(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),fn=an(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),gn=an(M({},hn,{dataTransfer:0})),mn=an(M({},dn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(M({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return kn}var xn=M({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=an(xn),Pn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Tn),Rn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Fn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Nn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Yn(e){jr(e,0)}function $n(e){if(G(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,Se(e)),Te(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Er={},kr={};function Cr(e){if(Er[e])return Er[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var xr=Cr("animationend"),Dr=Cr("animationiteration"),Pr=Cr("animationstart"),Ar=Cr("transitionend"),Ir=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Nr=Tr[Rr];Or(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Or(xr,"onAnimationEnd"),Or(Dr,"onAnimationIteration"),Or(Pr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,c){if(Ke.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=Me;Fe=!1,Me=null,je||(je=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Mr(a,s,c),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Mr(a,s,c),o=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Kr]){e[Kr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var a=Wt;break;case 4:a=qt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=va(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=o,a=Se(n),i=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case xr:case Dr:case Pr:l=yn;break;case Ar:l=In;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Oe(p,f))&&u.push(Wr(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wa(l),h=null==c?s:wa(c),(s=new u(g,p+"leave",l,n,a)).target=d,s.relatedTarget=h,g=null,va(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Gr(h))p++;for(h=0,g=f;g;g=Gr(g))h++;for(;0<p-h;)u=Gr(u),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==l&&Yr(i,s,l,u,!1),null!==c&&null!==d&&Yr(i,d,c,u,!0)}if("select"===(l=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(Hn(s))if(Jn)m=ir;else{m=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(i,m,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wa(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(i,n,a)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,Un=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Kn(n))&&(b.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}jr(i,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Oe(e,n))&&r.unshift(Wr(e,o,a)),null!=(o=Oe(e,t))&&r.push(Wr(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Oe(n,o))&&i.unshift(Wr(n,l,s)):a||null!=(l=Oe(n,o))&&i.push(Wr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ga="__reactEvents$"+da,ma="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Sa(e){return e[ha]||null}var _a=[],Ea=-1;function ka(e){return{current:e}}function Ca(e){0>Ea||(e.current=_a[Ea],_a[Ea]=null,Ea--)}function xa(e,t){Ea++,_a[Ea]=e.current,e.current=t}var Da={},Pa=ka(Da),Aa=ka(!1),Ia=Da;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ca(Aa),Ca(Pa)}function Na(e,t,n){if(Pa.current!==Da)throw Error(o(168));xa(Pa,t),xa(Aa,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,V(e)||"Unknown",a));return M({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,Ia=Pa.current,xa(Pa,e),xa(Aa,Aa.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=La(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Ca(Aa),Ca(Pa),xa(Pa,e)):Ca(Aa),xa(Aa,n)}var ja=null,za=!1,Ba=!1;function Ka(e){null===ja?ja=[e]:ja.push(e)}function Ua(){if(!Ba&&null!==ja){Ba=!0;var e=0,t=bt;try{var n=ja;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ja=null,za=!1}catch(a){throw null!==ja&&(ja=ja.slice(e+1)),Ge(Ze,Ua),a}finally{bt=t,Ba=!1}}return null}var Va=[],Ha=0,Wa=null,qa=0,Ga=[],Ya=0,$a=null,Qa=1,Ja="";function Xa(e,t){Va[Ha++]=qa,Va[Ha++]=Wa,Wa=e,qa=t}function Za(e,t,n){Ga[Ya++]=Qa,Ga[Ya++]=Ja,Ga[Ya++]=$a,$a=e;var r=Qa;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Qa=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===Wa;)Wa=Va[--Ha],Va[Ha]=null,qa=Va[--Ha],Va[Ha]=null;for(;e===$a;)$a=Ga[--Ya],Ga[Ya]=null,Ja=Ga[--Ya],Ga[Ya]=null,Qa=Ga[--Ya],Ga[Ya]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ca(e.nextSibling)}function po(){ro=no=null,ao=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&bo(o)===t.type)?((r=a(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case _:return(t=Mc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Nc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===a?c(e,t,n,r):null;case _:return n.key===a?u(e,t,n,r):null;case O:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function g(a,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(a,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(a,d),ao&&Xa(a,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(a,s[g],l))&&(o=i(d,o,g),null===u?c=d:u.sibling=d,u=d);return ao&&Xa(a,g),c}for(d=r(a,d);g<s.length;g++)null!==(m=p(d,a,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=i(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),ao&&Xa(a,g),c}function m(a,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=h(a,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(a,g),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(a,g),ao&&Xa(a,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=f(a,v.value,c))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return ao&&Xa(a,m),u}for(g=r(a,g);!v.done;m++,v=l.next())null!==(v=p(g,a,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(a,e)}),ao&&Xa(a,m),u}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===E&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case S:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===E){if(7===u.tag){n(r,u.sibling),(o=a(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bo(c)===u.type){n(r,u.sibling),(o=a(u,i.props)).ref=yo(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===E?((o=Nc(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Rc(i.type,i.key,i.props,null,r.mode,l)).ref=yo(r,o,i),l.return=r,r=l)}return s(r);case _:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Mc(i,r.mode,l)).return=r,r=o}return s(r);case O:return e(r,o,(u=i._init)(i._payload),l)}if(te(i))return g(r,o,i,l);if(L(i))return m(r,o,i,l);vo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Fc(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var So=wo(!0),_o=wo(!1),Eo=ka(null),ko=null,Co=null,xo=null;function Do(){xo=Co=ko=null}function Po(e){var t=Eo.current;Ca(Eo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){ko=e,xo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Oo=null;function Ro(e){null===Oo?Oo=[e]:Oo.push(e)}function No(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ro(t)):(n.next=a.next,a.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Lo(e,n)}return null===(a=r.interleaved)?(t.next=t,Ro(r)):(t.next=a.next,a.next=t),r.interleaved=t,Lo(e,n)}function Ko(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var a=e.updateQueue;Fo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,u=c=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Fo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Wo={},qo=ka(Wo),Go=ka(Wo),Yo=ka(Wo);function $o(e){if(e===Wo)throw Error(o(174));return e}function Qo(e,t){switch(xa(Yo,t),xa(Go,e),xa(qo,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(qo),xa(qo,t)}function Jo(){Ca(qo),Ca(Go),Ca(Yo)}function Xo(e){$o(Yo.current);var t=$o(qo.current),n=le(t,e.type);t!==n&&(xa(Go,e),xa(qo,n))}function Zo(e){Go.current===e&&(Ca(qo),Ca(Go))}var ei=ka(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=w.ReactCurrentDispatcher,oi=w.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,ui=!1,di=!1,fi=0,hi=0;function pi(){throw Error(o(321))}function gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:es,e=n(r,a),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(o(301));i+=1,ci=li=null,t.updateQueue=null,ai.current=ts,e=n(r,a)}while(di)}if(ai.current=Xi,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,ui=!1,t)throw Error(o(300));return e}function yi(){var e=0!==fi;return fi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function wi(e,t){return"function"===typeof t?t(e):t}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,si.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _i(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ei(){}function ki(e,t){var n=si,r=bi(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,bs=!0),r=r.queue,Fi(Di.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Ti(9,xi.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ii)||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xi(e,t,n,r){t.value=n,t.getSnapshot=r,Pi(t)&&Ai(e)}function Di(e,t,n){return n(function(){Pi(t)&&Ai(e)})}function Pi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ai(e){var t=Lo(e,1);null!==t&&tc(t,e,1,-1)}function Ii(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,si,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return bi().memoizedState}function Ri(e,t,n,r){var a=vi();si.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Ni(e,t,n,r){var a=bi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&gi(r,i.deps))return void(a.memoizedState=Ti(t,n,o,r))}si.flags|=e,a.memoizedState=Ti(1|t,n,o,r)}function Li(e,t){return Ri(8390656,8,e,t)}function Fi(e,t){return Ni(2048,8,e,t)}function Mi(e,t){return Ni(4,2,e,t)}function ji(e,t){return Ni(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ni(4,4,zi.bind(null,t,e),n)}function Ki(){}function Ui(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),si.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function qi(){return bi().memoizedState}function Gi(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e))Qi(t,n);else if(null!==(n=No(e,t,n,r))){tc(n,e,r,Zl()),Ji(n,t,r)}}function Yi(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Qi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Ro(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=No(e,t,a,r))&&(tc(n,e,r,a=Zl()),Ji(n,t,r))}}function $i(e){var t=e.alternate;return e===si||null!==t&&t===si}function Qi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xi={readContext:To,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:To,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ii,useDebugValue:Ki,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Wi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=vi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ii)||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Li(Di.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,xi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Pl.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:To,useCallback:Ui,useContext:To,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Mi,useLayoutEffect:ji,useMemo:Vi,useReducer:Si,useRef:Oi,useState:function(){return Si(wi)},useDebugValue:Ki,useDeferredValue:function(e){return Hi(bi(),li.memoizedState,e)},useTransition:function(){return[Si(wi)[0],bi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1},ts={readContext:To,useCallback:Ui,useContext:To,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Mi,useLayoutEffect:ji,useMemo:Vi,useReducer:_i,useRef:Oi,useState:function(){return _i(wi)},useDebugValue:Ki,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[_i(wi)[0],bi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),o=zo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(tc(t,e,a,r),Ko(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),o=zo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(tc(t,e,a,r),Ko(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),a=zo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bo(e,a,r))&&(tc(t,e,r,n),Ko(t,e,r))}};function os(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function is(e,t,n){var r=!1,a=Da,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(a=Oa(t)?Ia:Pa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Da),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=To(o):(o=Oa(t)?Ia:Pa.current,a.context=Ta(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_o(t,null,n,r):So(t,e.child,n,r)}function Ss(e,t,n,r,a){n=n.render;var o=t.ref;return Io(t,a),r=mi(e,t,n,r,o,a),n=yi(),null===e||bs?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function _s(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Tc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return xs(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xa(Ol,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xa(Ol,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xa(Ol,Tl),Tl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xa(Ol,Tl),Tl|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,a){var o=Oa(n)?Ia:Pa.current;return o=Ta(t,o),Io(t,a),n=mi(e,t,n,r,o,a),r=yi(),null===e||bs?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Ds(e,t,n,r,a){if(Oa(n)){var o=!0;Fa(t)}else o=!1;if(Io(t,a),null===t.stateNode)Us(e,t),is(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ta(t,c=Oa(n)?Ia:Pa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,i,r,c),Fo=!1;var f=t.memoizedState;i.state=f,Vo(t,r,i,a),l=t.memoizedState,s!==r||f!==l||Aa.current||Fo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Fo||os(t,n,s,r,f,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,jo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),i.props=c,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Ta(t,l=Oa(n)?Ia:Pa.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,i,r,l),Fo=!1,f=t.memoizedState,i.state=f,Vo(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||Aa.current||Fo?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(c=Fo||os(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,a)}function Ps(e,t,n,r,a,o){Cs(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ma(t,n,!1),Vs(e,t,o);r=t.stateNode,vs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Na(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Na(0,t.context,!1),Qo(e,t.containerInfo)}function Is(e,t,n,r,a){return po(),go(a),t.flags|=256,ws(e,t,n,r),t.child}var Ts,Os,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,a=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),xa(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,a,0,null),e=Nc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ns,e):Ms(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Nc(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&So(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ns,i);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=us(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Lo(e,a),tc(r,e,a,-1))}return pc(),js(e,t,s,r=us(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[Ya++]=Qa,Ga[Ya++]=Ja,Ga[Ya++]=$a,Qa=e.id,Ja=e.overflow,$a=t),t=Ms(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Oc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,a}return e=(s=e.child).sibling,a=Oc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ms(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&go(r),So(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Bs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ks(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xa(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Oa(t.type)&&Ra(),Ws(t),null;case 3:return r=t.stateNode,Jo(),Ca(Aa),Ca(Pa),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(oc(oo),oo=null))),Ws(t),null;case 5:Zo(t);var a=$o(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=$o(qo.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[ha]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ts(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Q(e,r),a=$(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&zr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Yo.current),$o(qo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ca(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),i=!1}else null!==oo&&(oc(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Rl&&(Rl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Jo(),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return Po(t.type._context),Ws(t),null;case 19:if(Ca(ei),null===(i=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Hs(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Hs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xa(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Kl&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Ws(t),null}else 2*Je()-i.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ei.current,xa(ei,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Oa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ca(Aa),Ca(Pa),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ca(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ei),null;case 4:return Jo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$o(qo.current);var o,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function Zs(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&Zs(t,n,o)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ga],delete t[ma],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:$s||Xs(n,t);case 6:var r=cl,a=ul;cl=null,dl(e,t,n),ul=a,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(cl,n.stateNode));break;case 4:r=cl,a=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&Zs(n,t,i),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!$s&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,dl(e,t,n),$s=r):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach(function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(i,s,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Ec(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(m){Ec(e,e.return,m)}try{tl(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),be(l,s);var u=be(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,u)}switch(l){case"input":X(a,i);break;case"textarea":oe(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(m){Ec(e,e.return,m)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Ec(e,e.return,m)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Je())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(u=$s)||d,pl(t,e),$s=u):pl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Xs(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){wl(f);continue}}null!==p?(p.return=h,Js=p):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(t,e),ml(e),4&r&&hl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;sl(e,il(e),i);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Ys;var c=$s;if(Ys=i,($s=l)&&!c)for(Js=a;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?Sl(a):null!==l?(l.return=i,Js=l):Sl(a);for(;null!==o;)Js=o,vl(o,t,n),o=o.sibling;Js=a,Ys=s,$s=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Js=o):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ho(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(o(163))}$s||512&t.flags&&rl(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Ec(t,a,l)}}var o=t.return;try{rl(t)}catch(l){Ec(t,o,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){Ec(t,i,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,El=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,xl=w.ReactCurrentBatchConfig,Dl=0,Pl=null,Al=null,Il=0,Tl=0,Ol=ka(0),Rl=0,Nl=null,Ll=0,Fl=0,Ml=0,jl=null,zl=null,Bl=0,Kl=1/0,Ul=null,Vl=!1,Hl=null,Wl=null,ql=!1,Gl=null,Yl=0,$l=0,Ql=null,Jl=-1,Xl=0;function Zl(){return 0!==(6&Dl)?Je():-1!==Jl?Jl:Jl=Je()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Il?Il&-Il:null!==mo.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tc(e,t,n,r){if(50<$l)throw $l=0,Ql=null,Error(o(185));yt(e,n,r),0!==(2&Dl)&&e===Pl||(e===Pl&&(0===(2&Dl)&&(Fl|=n),4===Rl&&ic(e,Il)),nc(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(Kl=Je()+500,za&&Ua()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Pl?Il:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){za=!0,Ka(e)}(sc.bind(null,e)):Ka(sc.bind(null,e)),ia(function(){0===(6&Dl)&&Ua()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Xl=0,0!==(6&Dl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ft(e,e===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Dl;Dl|=2;var i=hc();for(Pl===e&&Il===t||(Ul=null,Kl=Je()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}Do(),kl.current=i,Dl=a,null!==Al?t=0:(Pl=null,Il=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Nl,dc(e,0),ic(e,r),nc(e,Je()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Nl,dc(e,0),ic(e,r),nc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,zl,Ul);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zl,Ul),t);break}wc(e,zl,Ul);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zl,Ul),r);break}wc(e,zl,Ul);break;default:throw Error(o(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~Ml,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Dl))throw Error(o(327));Sc();var t=ft(e,0);if(0===(1&t))return nc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Nl,dc(e,0),ic(e,t),nc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Ul),nc(e,Je()),null}function lc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(Kl=Je()+500,za&&Ua())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Dl)&&Sc();var t=Dl;Dl|=1;var n=xl.transition,r=bt;try{if(xl.transition=null,bt=1,e)return e()}finally{bt=r,xl.transition=n,0===(6&(Dl=t))&&Ua()}}function uc(){Tl=Ol.current,Ca(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Jo(),Ca(Aa),Ca(Pa),ri();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ca(ei);break;case 10:Po(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Al=e=Oc(e.current,null),Il=Tl=t,Rl=0,Nl=null,Ml=Fl=Ll=0,zl=jl=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Oo=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Do(),ai.current=Xi,ui){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=si=null,di=!1,fi=0,Cl.current=null,null===n||null===n.return){Rl=1,Nl=t,Al=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(i,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(i,u,t),pc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),go(cs(c,l));break e}}i=c=cs(c,l),4!==Rl&&(Rl=2),null===jl?jl=[i]:jl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Uo(i,hs(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Uo(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function hc(){var e=kl.current;return kl.current=Xi,null===e?Xi:e}function pc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Fl)||ic(Pl,Il)}function gc(e,t){var n=Dl;Dl|=2;var r=hc();for(Pl===e&&Il===t||(Ul=null,dc(e,t));;)try{mc();break}catch(a){fc(e,a)}if(Do(),Dl=n,kl.current=r,null!==Al)throw Error(o(261));return Pl=null,Il=0,Rl}function mc(){for(;null!==Al;)vc(Al)}function yc(){for(;null!==Al&&!$e();)vc(Al)}function vc(e){var t=_l(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Tl)))return void(Al=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=bt,a=xl.transition;try{xl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Gl);if(0!==(6&Dl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Pl&&(Al=Pl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Pc(tt,function(){return Sc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=xl.transition,xl.transition=null;var s=bt;bt=1;var l=Dl;Dl|=4,Cl.current=null,function(e,t){if(ea=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(S){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==i||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=s),h===i&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){Ec(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=el,el=!1}(e,n),gl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Qe(),Dl=l,bt=s,xl.transition=i}else e.current=n;if(ql&&(ql=!1,Gl=e,Yl=a),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Ql?$l++:($l=0,Ql=e):$l=0,Ua()}(e,t,n,r)}finally{xl.transition=a,bt=r}return null}function Sc(){if(null!==Gl){var e=wt(Yl),t=xl.transition,n=bt;try{if(xl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Dl))throw Error(o(331));var a=Dl;for(Dl|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Js=v;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===s){Js=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Js=S;break e}Js=l.return}}if(Dl=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(_){}r=!0}return r}finally{bt=n,xl.transition=t}}return!1}function _c(e,t,n){e=Bo(e,t=hs(0,t=cs(n,t),1),1),t=Zl(),null!==e&&(yt(e,1,t),nc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=Zl(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Il&n)===n&&(4===Rl||3===Rl&&(130023424&Il)===Il&&500>Je()-Bl?dc(e,0):Ml|=n),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Lo(e,t))&&(yt(e,t,n),nc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Ac(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Nc(n.children,a,i,t);case k:s=8,a|=8;break;case C:return(e=Ic(12,n,t,2|a)).elementType=C,e.lanes=i,e;case A:return(e=Ic(13,n,t,a)).elementType=A,e.lanes=i,e;case I:return(e=Ic(19,n,t,a)).elementType=I,e.lanes=i,e;case R:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case D:s=9;break e;case P:s=11;break e;case T:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Nc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,o,i,s,l){return e=new jc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Bc(e){if(!e)return Da;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oa(n))return La(e,n,t)}return t}function Kc(e,t,n,r,a,o,i,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=zo(r=Zl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,a),e.current.lanes=a,yt(e,a,r),nc(e,r),e}function Uc(e,t,n,r){var a=t.current,o=Zl(),i=ec(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(a,t,i))&&(tc(e,a,i,o),Ko(e,a,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:Xo(t);break;case 1:Oa(t.type)&&Fa(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;xa(Eo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xa(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(xa(ei,1&ei.current),null!==(e=Vs(e,t,n))?e.sibling:null);xa(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ks(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),xa(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ao&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);Io(t,n),a=mi(null,t,r,e,a,n);var i=yi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(i=!0,Fa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mo(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Ps(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(r),e=ns(r,e),a){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Ds(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ds(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,jo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Is(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Is(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Vs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,xa(Eo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Aa.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=zo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ao(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ao(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Io(t,n),r=r(a=To(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),_s(e,t,r,a=ns(r.type,a),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Us(e,t),t.tag=1,Oa(r)?(e=!0,Fa(t)):e=!1,Io(t,n),is(t,r,a),ls(t,r,a,n),Ps(null,t,r,!0,e,n);case 19:return Ks(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}Uc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vc(i);o.call(e)}}var i=Kc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[pa]=i.current,Ur(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,Ur(8===e.nodeType?e.parentNode:e),cc(function(){Uc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(i)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Uc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Uc(null,e,null,null)}),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Je()),0===(6&Dl)&&(Kl=Je()+500,Ua()))}break;case 13:cc(function(){var t=Lo(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=ec(e),n=Lo(e,t);if(null!==n)tc(n,e,t,Zl());Wc(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Sa(r);if(!a)throw Error(o(90));G(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=lc,Ae=cc;var Zc={usingClientEntryPoint:!1,Events:[ba,wa,Sa,xe,De,lc]},eu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(tu),ot=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Kc(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},42074(e,t,n){"use strict";var r,a;n.d(t,{Kd:()=>p,N_:()=>y,ok:()=>w});var o=n(9950),i=n(17119),s=n(28429),l=n(1018);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function d(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const f=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(S){}new Map;const h=(r||(r=n.t(o,2))).startTransition;(a||(a=n.t(i,2))).flushSync,(r||(r=n.t(o,2))).useId;function p(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();null==i.current&&(i.current=(0,l.zR)({window:a,v5Compat:!0}));let c=i.current,[u,d]=o.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},p=o.useCallback(e=>{f&&h?h(()=>d(e)):d(e)},[d,f]);return o.useLayoutEffect(()=>c.listen(p),[c,p]),o.useEffect(()=>(0,s.V8)(r),[r]),o.createElement(s.Ix,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const g="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:d,state:h,target:p,to:y,preventScrollReset:v,viewTransition:b}=e,w=u(e,f),{basename:_}=o.useContext(s.jb),E=!1;if("string"===typeof y&&m.test(y)&&(n=y,g))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=(0,l.pb)(t.pathname,_);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:E=!0}catch(S){}let k=(0,s.$P)(y,{relative:a}),C=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:c,viewTransition:u}=void 0===t?{}:t,d=(0,s.Zp)(),f=(0,s.zy)(),h=(0,s.x$)(e,{relative:c});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(f)===(0,l.AO)(h);d(e,{replace:n,state:a,preventScrollReset:i,relative:c,viewTransition:u})}},[f,d,h,r,a,n,e,i,c,u])}(y,{replace:d,state:h,target:p,preventScrollReset:v,relative:a,viewTransition:b});return o.createElement("a",c({},w,{href:n||k,onClick:E||i?r:function(e){r&&r(e),e.defaultPrevented||C(e)},ref:t,target:p}))});var v,b;function w(e){let t=o.useRef(d(e)),n=o.useRef(!1),r=(0,s.zy)(),a=o.useMemo(()=>function(e,t){let n=d(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),i=(0,s.Zp)(),l=o.useCallback((e,t)=>{const r=d("function"===typeof e?e(a):e);n.current=!0,i("?"+r,t)},[i,a]);return[a,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(b||(b={}))},44414(e,t,n){"use strict";e.exports=n(32654)},54996(e,t,n){"use strict";n.d(t,{E4:()=>l,Go:()=>c,aN:()=>d,clearAllCacheForExternalUser:()=>f,eF:()=>u,isExternalUser:()=>s});var r=n(57005),a=n(34534);let o=new Map,i=new Map;const s=()=>{try{return"external"===(sessionStorage.getItem("access_type")||"").toLowerCase()}catch(e){return console.error("Error checking if user is external:",e),!1}},l=()=>{try{const e=(sessionStorage.getItem("access_type")||"").toLowerCase();return"full access"===e||"internal"===e}catch(e){return console.error("Error checking access type:",e),!1}},c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e||sessionStorage.getItem("email");if(!t)return console.warn("No email provided for cache setting check"),!1;const n=Date.now(),r=i.get(t);if(o.has(t)&&r&&n-r<3e5)return o.get(t);const s=Date.now(),l=await(0,a.Vg)("/api/tally/external-user-cache-enabled?email=".concat(encodeURIComponent(t),"&ts=").concat(s));return l&&"boolean"===typeof l.enabled?(o.set(t,l.enabled),i.set(t,n),l.enabled):(o.set(t,!1),i.set(t,n),!1)}catch(t){console.error("Error fetching external user cache setting:",t);const n=e||sessionStorage.getItem("email");return n&&(o.set(n,!1),i.set(n,Date.now())),!1}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(o.delete(e),i.delete(e)):(o.clear(),i.clear())},d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!l()||!!s()&&e},f=async()=>{try{console.log("\ud83e\uddf9 Clearing all cache for external user...");const t=sessionStorage.getItem("company"),n=sessionStorage.getItem("guid"),a=sessionStorage.getItem("tallyloc_id");let o=null;t&&n&&a&&(o={company:t,guid:n,tallyloc_id:a});try{await r.hybridCache.clearSessionCache(),console.log("\u2705 Cleared session cache")}catch(e){console.error("Error clearing session cache:",e)}if(o)try{await r.hybridCache.clearCompanyCache(o),console.log("\u2705 Cleared OPFS/IndexedDB cache")}catch(e){console.error("Error clearing OPFS/IndexedDB cache:",e)}try{const t=await r.hybridCache.listAllCacheEntries();if(t&&t.length>0){for(const n of t)try{await r.hybridCache.deleteCacheKey(n.cacheKey)}catch(e){console.warn("Error deleting cache key ".concat(n.cacheKey,":"),e)}console.log("\u2705 Cleared ".concat(t.length," cache entries from hybridCache"))}}catch(e){console.error("Error listing/clearing cache entries:",e)}const i=["token","email","name","tallyloc_id","company","guid","status","access_type","selectedCompanyGuid","allConnections","userAccessPermissions"],s=Object.keys(sessionStorage);let l=0;s.forEach(t=>{const n=t.startsWith("datalynk_")||t.startsWith("ledgerlist-w-addrs_")||t.startsWith("stockitem_")||t.startsWith("stockitems_")||t.endsWith("_chunks")||t.includes("_chunk_")||t.includes("_count")||t.includes("cache")||t.includes("Cache");if(!i.includes(t)&&n)try{sessionStorage.removeItem(t),l++}catch(e){console.warn("Error removing sessionStorage key ".concat(t,":"),e)}}),console.log("\u2705 Cleared ".concat(l," sessionStorage cache keys"));const c=Object.keys(localStorage);let u=0;c.forEach(t=>{if(t.startsWith("datalynk_")||t.includes("cache")||t.includes("Cache")||t.startsWith("tallyCompaniesCache_")||t.startsWith("tallyLedgersCache_"))try{localStorage.removeItem(t),u++}catch(e){console.warn("Error removing localStorage key ".concat(t,":"),e)}}),console.log("\u2705 Cleared ".concat(u," localStorage cache keys"));try{if("indexedDB"in window){const e="DatalynkCacheDB",t=indexedDB.deleteDatabase(e);await new Promise((e,n)=>{t.onsuccess=()=>{console.log("\u2705 Cleared IndexedDB cache"),e()},t.onerror=()=>{console.warn("Error deleting IndexedDB:",t.error),n(t.error)}})}}catch(e){console.warn("Error clearing IndexedDB:",e)}if("caches"in window)try{const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e))),console.log("\u2705 Cleared ".concat(e.length," service worker caches"))}catch(e){console.warn("Error clearing service worker caches:",e)}console.log("\u2705 All cache cleared for external user")}catch(e){console.error("Error clearing all cache for external user:",e)}}},57005(e,t,n){"use strict";n.d(t,{F:()=>w,hybridCache:()=>k});var r=n(89379),a=n(20170);const o=Symbol.for("Dexie"),i=globalThis[o]||(globalThis[o]=a);if(a.semVer!==i.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(a.semVer," and ").concat(i.semVer));const{liveQuery:s,mergeRanges:l,rangesOverlap:c,RangeSet:u,cmp:d,Entity:f,PropModification:h,replacePrefix:p,add:g,remove:m,DexieYProvider:y}=i,v=i;var b=n(54996);class w{static dateRangesOverlap(e,t){const n=new Date(e.startDate),r=new Date(e.endDate),a=new Date(t.startDate);return n<=new Date(t.endDate)&&a<=r}static dateInRange(e,t){const n=new Date(e),r=new Date(t.startDate),a=new Date(t.endDate);return n>=r&&n<=a}static getDateRangeGaps(e,t){const n=[],r=new Date(e.startDate),a=new Date(e.endDate),o=[...t].sort((e,t)=>new Date(e.startDate)-new Date(t.startDate));let i=r;for(const s of o){const e=new Date(s.startDate),t=new Date(s.endDate);i<e&&n.push({startDate:this.formatDate(i),endDate:this.formatDate(new Date(e.getTime()-1))}),t>i&&(i=new Date(t.getTime()+1))}return i<=a&&n.push({startDate:this.formatDate(i),endDate:this.formatDate(a)}),n}static mergeDateRanges(e){if(0===e.length)return[];const t=[...e].sort((e,t)=>new Date(e.startDate)-new Date(t.startDate)),n=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],a=n[n.length-1],o=new Date(e.startDate),i=new Date(a.endDate);o<=new Date(i.getTime()+864e5)?a.endDate=e.endDate>a.endDate?e.endDate:a.endDate:n.push(e)}return n}static splitDateRangeIntoGaps(e,t){new Date(e.startDate),new Date(e.endDate);const n=t.filter(t=>this.dateRangesOverlap(e,t));if(0===n.length)return{cached:[],gaps:[e]};const r=this.getDateRangeGaps(e,n);return{cached:n.map(t=>({startDate:t.startDate<e.startDate?e.startDate:t.startDate,endDate:t.endDate>e.endDate?e.endDate:t.endDate,data:t.data})),gaps:r}}static formatDate(e){const t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))}static parseDateRangeFromCacheKey(e){const t=e.split("_");if(t.length>=2){const e=t[t.length-1],n=t[t.length-2];if(/^\d{4}-\d{2}-\d{2}$/.test(n)&&/^\d{4}-\d{2}-\d{2}$/.test(e))return{startDate:n,endDate:e}}return null}}class S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.opfsRoot=e,this.indexedDB=t}async getUserSalt(e){if(!e)throw new Error("Email is required for cache encryption");try{if(this.opfsRoot)try{const n=await this.opfsRoot.getDirectoryHandle("keys",{create:!0}),r=e.replace(/[^a-zA-Z0-9_-]/g,"_"),a="".concat(r,".json");let o=null;try{const e=await n.getFileHandle(a),t=await e.getFile(),r=await t.text();o=JSON.parse(r)}catch(t){}if(!o){const t=crypto.getRandomValues(new Uint8Array(16));o={email:e,salt:btoa(String.fromCharCode(...t))};const r=await n.getFileHandle(a,{create:!0}),i=await r.createWritable();await i.write(JSON.stringify(o)),await i.close()}return o.salt}catch(n){console.warn("OPFS salt retrieval failed, falling back to IndexedDB:",n)}if(this.indexedDB){let t=await this.indexedDB.userKeys.get(e);if(!t){const n=crypto.getRandomValues(new Uint8Array(16));t={email:e,salt:btoa(String.fromCharCode(...n))},await this.indexedDB.userKeys.put(t)}return t.salt}throw new Error("Neither OPFS root nor IndexedDB database is available for salt storage")}catch(n){throw console.error("Error getting user salt:",n),n}}isCryptoAvailable(){return"undefined"!==typeof crypto&&null!==crypto&&"undefined"!==typeof crypto.subtle&&null!==crypto.subtle}async getEncryptionKey(){const e=sessionStorage.getItem("email");if(!e)throw new Error("No user email found - cannot access encrypted cache");if(!this.isCryptoAvailable()){if(window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)throw new Error("Web Crypto API (crypto.subtle) is not available in this browser. Cache encryption cannot be used.");return console.warn("\u26a0\ufe0f Web Crypto API not available (not a secure context). Cache encryption disabled."),console.warn("\u26a0\ufe0f For production, use HTTPS. For development, access via localhost or use HTTPS."),new ArrayBuffer(32)}try{const t=await this.getUserSalt(e),n=(new TextEncoder).encode(e),r=Uint8Array.from(atob(t),e=>e.charCodeAt(0)),a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length);return await crypto.subtle.digest("SHA-256",a)}catch(t){throw console.error("Error deriving encryption key:",t),t}}async encryptData(e){try{const t=performance.now();if(!this.isCryptoAvailable()){if(window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)throw new Error("Web Crypto API not available. Cannot encrypt cache data.");{console.warn("\u26a0\ufe0f Storing data unencrypted (development mode - HTTP)");const t=JSON.stringify(e);return(new TextEncoder).encode(t)}}const n=JSON.stringify(e),r=(new TextEncoder).encode(n);console.log("\ud83d\udcdd Data size: ".concat((r.byteLength/1024).toFixed(2)," KB"));const a=await this.getEncryptionKey(),o=await crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:256},!1,["encrypt"]),i=performance.now(),s=crypto.getRandomValues(new Uint8Array(12)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:s},o,r),c=performance.now()-i;console.log("\ud83d\udd10 Encryption: ".concat((l.byteLength/1024).toFixed(2)," KB in ").concat(c.toFixed(2),"ms"));const u=new Uint8Array(s.length+l.byteLength);u.set(s),u.set(new Uint8Array(l),s.length);const d=performance.now()-t;return console.log("\u26a1 Total encryption time: ".concat(d.toFixed(2),"ms (").concat((u.length/1024/1024).toFixed(2)," MB)")),u}catch(t){throw console.error("Encryption error:",t),t}}async decryptData(e){try{const r=performance.now();let a;if(e instanceof ArrayBuffer)a=new Uint8Array(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid encrypted data format. Expected Uint8Array or ArrayBuffer.");a=e}if(!this.isCryptoAvailable()){if(window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)throw new Error("Web Crypto API not available. Cannot decrypt cache data.");console.warn("\u26a0\ufe0f Decrypting unencrypted data (development mode - HTTP)");try{const e=(new TextDecoder).decode(a);return JSON.parse(e)}catch(t){throw console.error("Failed to decode unencrypted data:",t),new Error("Failed to decode cache data. The cache may be corrupted. Please clear the cache and re-download.")}}const o=await this.getEncryptionKey(),i=await crypto.subtle.importKey("raw",o,{name:"AES-GCM",length:256},!1,["decrypt"]);if(console.log("\ud83d\udcdd Encrypted data size: ".concat((a.length/1024).toFixed(2)," KB")),a.length<12)throw new Error("Cache data is too short to be valid encrypted data. Please clear the cache and re-download.");const s=a.slice(0,12),l=a.slice(12),c=performance.now();let u;try{u=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},i,l)}catch(t){throw console.error("\u274c Decryption failed:",t),new Error("Failed to decrypt cache data. The data may have been encrypted with a different user account or key. Please clear the cache and re-download.")}const d=performance.now()-c;console.log("\ud83d\udd13 Decryption: ".concat((u.byteLength/1024).toFixed(2)," KB in ").concat(d.toFixed(2),"ms"));const f=performance.now();try{const e=(new TextDecoder).decode(u),t=JSON.parse(e),n=performance.now()-f,a=performance.now()-r;return console.log("\ud83d\udcdd JSON parsing: ".concat(n.toFixed(2),"ms")),console.log("\u26a1 Total decryption time: ".concat(a.toFixed(2),"ms")),t}catch(n){throw console.error("\u274c JSON parse failed:",n),new Error("Failed to parse decrypted data. The cache may be corrupted. Please clear the cache and re-download.")}}catch(t){return console.error("Decryption error:",t),null}}}class _{constructor(e){this.encryption=e,this.root=null,this.initialized=!1,this.metadataCache=new Map,this.metadataSaveTimer=null}async loadMetadata(){try{const n=await this.root.getDirectoryHandle("metadata",{create:!0}),r=await n.getFileHandle("sales.json",{create:!0}),a=await n.getFileHandle("dashboard.json",{create:!0});try{const e=await(await r.getFile()).text();if(e){const t=JSON.parse(e);this.metadataCache.set("sales",new Map(t))}else this.metadataCache.set("sales",new Map)}catch(e){this.metadataCache.set("sales",new Map)}try{const e=await(await a.getFile()).text();if(e){const t=JSON.parse(e);this.metadataCache.set("dashboard",new Map(t))}else this.metadataCache.set("dashboard",new Map)}catch(t){this.metadataCache.set("dashboard",new Map)}}catch(n){console.error("Error loading metadata:",n),this.metadataCache.set("sales",new Map),this.metadataCache.set("dashboard",new Map)}}async saveMetadata(){try{const e=await this.root.getDirectoryHandle("metadata",{create:!0}),t=this.metadataCache.get("sales")||new Map,n=Array.from(t.entries()),r=await e.getFileHandle("sales.json",{create:!0}),a=await r.createWritable();await a.write(JSON.stringify(n)),await a.close();const o=this.metadataCache.get("dashboard")||new Map,i=Array.from(o.entries()),s=await e.getFileHandle("dashboard.json",{create:!0}),l=await s.createWritable();await l.write(JSON.stringify(i)),await l.close()}catch(e){console.error("Error saving metadata:",e)}}async init(){if(!this.initialized)try{if(!(window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname))throw new Error("OPFS requires secure context (HTTPS or localhost)");if(!("storage"in navigator))throw new Error("navigator.storage is not available");if(!("getDirectory"in navigator.storage))throw new Error("navigator.storage.getDirectory is not available");console.log("\ud83d\udd0d Attempting OPFS initialization..."),this.root=await navigator.storage.getDirectory(),this.encryption.opfsRoot=this.root,await this.loadMetadata(),this.initialized=!0,console.log("\u2705 OPFS initialized successfully")}catch(e){throw console.error("\u274c OPFS initialization error:",e),console.error("Error details:",{message:e.message,name:e.name,stack:e.stack,isSecureContext:window.isSecureContext,protocol:window.location.protocol,hostname:window.location.hostname,hasStorage:"storage"in navigator,hasGetDirectory:"storage"in navigator&&"getDirectory"in navigator.storage}),e}}sanitizeFilename(e){return e.replace(/[^a-zA-Z0-9_-]/g,"_")}extractBaseKey(e){const t=e.split("_");if(t.length>=2){const e=t[t.length-1],n=t[t.length-2];if(/^\d{4}-\d{2}-\d{2}$/.test(n)&&/^\d{4}-\d{2}-\d{2}$/.test(e))return t.slice(0,-2).join("_")}return e}getSalesFilePath(e){const t=this.sanitizeFilename(e);return"sales/".concat(t,".enc")}getDashboardFilePath(e){const t=this.sanitizeFilename(e);return"dashboard/".concat(t,".enc")}async setSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{if(!(0,b.E4)()){if(!(0,b.isExternalUser)())return void console.warn("\u26a0\ufe0f Unknown access type - skipping persistent storage");{const e=await(0,b.Go)();if(!(0,b.aN)(e))return void console.warn("\u26a0\ufe0f External user cache disabled - skipping persistent storage")}}await this.init();const l=JSON.stringify(t).length,c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);c&&l>5242880&&console.warn("\u26a0\ufe0f Large data write on mobile: ".concat((l/1048576).toFixed(2)," MB"));const u=performance.now(),d=await this.encryption.encryptData(t),f=Date.now();console.log("\ud83d\udcbe Cache write started for: ".concat(e));let h=null;h=a&&o?{startDate:a,endDate:o}:w.parseDateRangeFromCacheKey(e);const p=this.extractBaseKey(e),g=this.getSalesFilePath(e).split("/"),m=g.pop(),y=g.join("/");let v=this.root;if(y)for(const e of y.split("/"))e&&(v=await v.getDirectoryHandle(e,{create:!0}));const S=await v.getFileHandle(m,{create:!0});try{if(!c&&"createSyncAccessHandle"in S){const e=await S.createSyncAccessHandle();try{e.write(d,{at:0}),e.truncate(d.length)}finally{e.close()}}else{const e=await S.createWritable();await e.write(d),await e.close()}}catch(i){console.warn("\u26a0\ufe0f Primary write method failed, trying fallback:",i.message);const e=await S.createWritable();await e.write(d),await e.close()}const _=this.metadataCache.get("sales")||new Map,E="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null,k=(0,r.A)({cacheKey:e,timestamp:f,baseKey:p,email:E||"unknown"},h?{startDate:h.startDate,endDate:h.endDate}:{});_.set(e,k),this.metadataCache.set("sales",_),this.metadataSaveTimer&&clearTimeout(this.metadataSaveTimer),this.metadataSaveTimer=setTimeout(async()=>{await this.saveMetadata(),this.metadataSaveTimer=null},100);const C=performance.now()-u;if(console.log("\u2705 Cache write completed in ".concat(C.toFixed(2),"ms: ").concat(e)),null!==n&&void 0!==n){const e=Date.now()-24*n*60*60*1e3,t=[];for(const[n,r]of _.entries())if(r.timestamp<e){t.push(n);try{const e=this.getSalesFilePath(n).split("/"),t=e.pop(),r=e.join("/");let a=this.root;if(r)for(const n of r.split("/"))n&&(a=await a.getDirectoryHandle(n));await a.removeEntry(t)}catch(s){}}for(const n of t)_.delete(n);t.length>0&&(this.metadataCache.set("sales",_),await this.saveMetadata())}console.log("\u2705 Cached sales data in OPFS: ".concat(e))}catch(l){throw console.error("Error storing sales data in OPFS:",l),l}}async getSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();let o=this.metadataCache.get("sales")||new Map,i=o.get(e);if(!i&&0===o.size){console.log("\ud83d\udd04 Metadata cache is empty, reloading metadata...");try{await this.loadMetadata(),o=this.metadataCache.get("sales")||new Map,i=o.get(e)}catch(n){console.warn("\u26a0\ufe0f Could not reload metadata:",n.message)}}if(!i)try{const t=this.getSalesFilePath(e).split("/"),n=t.pop(),r=t.join("/");let a=this.root;if(r)for(const e of r.split("/"))e&&(a=await a.getDirectoryHandle(e));const s=await a.getFileHandle(n),l=await s.getFile();if(!(l&&l.size>0))return null;{console.log("\ud83d\udccb Found cache file without metadata, restoring metadata for: ".concat(e));const t="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;i={cacheKey:e,timestamp:l.lastModified||Date.now(),baseKey:this.extractBaseKey(e),email:t||"unknown"},o.set(e,i),this.metadataCache.set("sales",o),this.saveMetadata().catch(e=>console.warn("Could not save restored metadata:",e))}}catch(r){return"NotFoundError"!==r.name&&console.warn("\u26a0\ufe0f Error checking for cache file ".concat(e,":"),r.message),null}if(null!==t&&void 0!==t){const n=Date.now()-i.timestamp;if(n>24*t*60*60*1e3){try{const t=this.getSalesFilePath(e).split("/"),n=t.pop(),r=t.join("/");let a=this.root;if(r)for(const e of r.split("/"))e&&(a=await a.getDirectoryHandle(e));await a.removeEntry(n)}catch(a){}return o.delete(e),this.metadataCache.set("sales",o),await this.saveMetadata(),null}}const s=this.getSalesFilePath(e).split("/"),l=s.pop(),c=s.join("/");let u=this.root;if(c)for(const e of c.split("/"))e&&(u=await u.getDirectoryHandle(e));const d=await u.getFileHandle(l),f=await d.getFile(),h=await f.arrayBuffer(),p=await this.encryption.decryptData(h);if(!p){try{await u.removeEntry(l)}catch(a){}return o.delete(e),this.metadataCache.set("sales",o),await this.saveMetadata(),null}return i.startDate&&i.endDate&&(p._cachedDateRange={startDate:i.startDate,endDate:i.endDate}),console.log("\ud83d\udccb Retrieved cached sales data from OPFS: ".concat(e)),p}catch(o){return"NotFoundError"===o.name||console.error("Error retrieving sales data from OPFS:",o),null}}async setDashboardState(e,t){try{await this.init();const r=await this.encryption.encryptData(t),a=Date.now(),o=this.getDashboardFilePath(e).split("/"),i=o.pop(),s=o.join("/");let l=this.root;if(s)for(const e of s.split("/"))e&&(l=await l.getDirectoryHandle(e,{create:!0}));const c=await l.getFileHandle(i,{create:!0});try{if("createSyncAccessHandle"in c){const e=await c.createSyncAccessHandle();try{e.write(r,{at:0}),e.truncate(r.length)}finally{e.close()}}else{const e=await c.createWritable();await e.write(r),await e.close()}}catch(n){const e=await c.createWritable();await e.write(r),await e.close()}const u=this.metadataCache.get("dashboard")||new Map,d="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;u.set(e,{cacheKey:e,timestamp:a,email:d||"unknown"}),this.metadataCache.set("dashboard",u),await this.saveMetadata(),console.log("\u2705 Cached dashboard state in OPFS: ".concat(e))}catch(r){throw console.error("Error storing dashboard state in OPFS:",r),r}}async getDashboardState(e){try{await this.init();const n=this.metadataCache.get("dashboard")||new Map;if(!n.get(e))return null;const r=this.getDashboardFilePath(e).split("/"),a=r.pop(),o=r.join("/");let i=this.root;if(o)for(const e of o.split("/"))e&&(i=await i.getDirectoryHandle(e));const s=await i.getFileHandle(a),l=await s.getFile(),c=await l.arrayBuffer(),u=await this.encryption.decryptData(c);if(!u){try{await i.removeEntry(a)}catch(t){}return n.delete(e),this.metadataCache.set("dashboard",n),await this.saveMetadata(),null}return u}catch(n){return"NotFoundError"===n.name||console.error("Error retrieving dashboard state from OPFS:",n),null}}async deleteCacheKey(e){try{await this.init();const n=this.metadataCache.get("sales")||new Map;if(n.has(e)){try{const t=this.getSalesFilePath(e).split("/"),n=t.pop(),r=t.join("/");let a=this.root;if(r)for(const e of r.split("/"))e&&(a=await a.getDirectoryHandle(e));await a.removeEntry(n)}catch(t){}n.delete(e),this.metadataCache.set("sales",n),await this.saveMetadata(),console.log("\ud83e\uddf9 Deleted cache key from OPFS: ".concat(e))}}catch(n){console.error("Error deleting cache key in OPFS:",n)}}async clearCompanyCache(e){try{await this.init();const n="".concat(e.tallyloc_id,"_").concat(e.guid,"_"),r=this.metadataCache.get("sales")||new Map,a=this.metadataCache.get("dashboard")||new Map,o=Array.from(r.entries()).filter(e=>{let[t]=e;return t.startsWith(n)}),i=Array.from(a.entries()).filter(e=>{let[t]=e;return t.startsWith(n)});for(const[e]of o){try{const t=this.getSalesFilePath(e).split("/"),n=t.pop(),r=t.join("/");let a=this.root;if(r)for(const e of r.split("/"))e&&(a=await a.getDirectoryHandle(e));await a.removeEntry(n)}catch(t){}r.delete(e)}for(const[e]of i){try{const t=this.getDashboardFilePath(e).split("/"),n=t.pop(),r=t.join("/");let a=this.root;if(r)for(const e of r.split("/"))e&&(a=await a.getDirectoryHandle(e));await a.removeEntry(n)}catch(t){}a.delete(e)}(o.length>0||i.length>0)&&(this.metadataCache.set("sales",r),this.metadataCache.set("dashboard",a),await this.saveMetadata()),console.log("\ud83e\uddf9 Cleared OPFS cache for company: ".concat(e.company," (").concat(o.length," sales entries, ").concat(i.length," dashboard entries)"))}catch(n){console.error("Error clearing company cache in OPFS:",n)}}async findCachedDateRanges(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{await this.init();const i=this.metadataCache.get("sales")||new Map,s=Array.from(i.values()).filter(t=>t.baseKey===e);let l=s;if(null!==a&&void 0!==a){const e=Date.now()-24*a*60*60*1e3;l=s.filter(t=>t.timestamp>=e)}if(0===l.length)return[];const c={startDate:t,endDate:n},u=[];for(const e of l){if(!e.startDate||!e.endDate)continue;const t={startDate:e.startDate,endDate:e.endDate};if(w.dateRangesOverlap(c,t))try{const n=this.getSalesFilePath(e.cacheKey).split("/"),a=n.pop(),o=n.join("/");let i=this.root;if(o)for(const e of o.split("/"))e&&(i=await i.getDirectoryHandle(e));const s=await i.getFileHandle(a),l=await s.getFile(),c=await l.arrayBuffer(),d=await this.encryption.decryptData(c);d&&u.push((0,r.A)((0,r.A)({},t),{},{data:d}))}catch(o){console.warn("Failed to read cached file for ".concat(e.cacheKey,":"),o)}}return u}catch(i){return console.error("Error finding cached date ranges in OPFS:",i),[]}}async clearMetadataCache(){this.metadataCache.set("sales",new Map),this.metadataCache.set("dashboard",new Map),await this.loadMetadata()}async listAllCacheEntries(){try{await this.init(),await this.loadMetadata();const e="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null,t=e?e.replace(/[^a-zA-Z0-9_-]/g,"_"):null,n=e,a=this.metadataCache.get("sales")||new Map,o=this.metadataCache.get("dashboard")||new Map,i=Array.from(a.entries()).filter(n=>{let[r,a]=n;const o=a.email===e,i=t&&r.startsWith(t+"_");return a.email&&"unknown"!==a.email?o&&i:i}).map(e=>{let[t,n]=e;return{type:"sales",cacheKey:t,timestamp:n.timestamp,date:new Date(n.timestamp).toLocaleString(),startDate:n.startDate||null,endDate:n.endDate||null,baseKey:n.baseKey||null,age:Date.now()-n.timestamp,ageDays:Math.floor((Date.now()-n.timestamp)/864e5)}}),s=Array.from(o.entries()).filter(r=>{let[a,o]=r;const i=o.email===e,s=(t||n)&&(a.includes("_"+t+"_")||a.startsWith(t+"_")||a.endsWith("_"+t)||a===t||n&&a.includes("_"+n+"_")||n&&a.startsWith(n+"_")||n&&a.endsWith("_"+n)||a===n);return o.email&&"unknown"!==o.email?i&&s:s}).map(e=>{let[t,n]=e;return{type:"dashboard",cacheKey:t,timestamp:n.timestamp,date:new Date(n.timestamp).toLocaleString(),startDate:null,endDate:null,baseKey:null,age:Date.now()-n.timestamp,ageDays:Math.floor((Date.now()-n.timestamp)/864e5)}}),l=await Promise.all([...i.map(async e=>{try{const t=this.getSalesFilePath(e.cacheKey).split("/"),n=t.pop(),a=t.join("/");let o=this.root;if(a)for(const e of a.split("/"))e&&(o=await o.getDirectoryHandle(e));const i=await o.getFileHandle(n),s=await i.getFile();return(0,r.A)((0,r.A)({},e),{},{size:s.size,sizeKB:Math.round(s.size/1024),sizeMB:(s.size/1048576).toFixed(2)})}catch(t){return(0,r.A)((0,r.A)({},e),{},{size:0,sizeKB:0,sizeMB:"0.00"})}}),...s.map(async e=>{try{const t=this.getDashboardFilePath(e.cacheKey).split("/"),n=t.pop(),a=t.join("/");let o=this.root;if(a)for(const e of a.split("/"))e&&(o=await o.getDirectoryHandle(e));const i=await o.getFileHandle(n),s=await i.getFile();return(0,r.A)((0,r.A)({},e),{},{size:s.size,sizeKB:Math.round(s.size/1024),sizeMB:(s.size/1048576).toFixed(2)})}catch(t){return(0,r.A)((0,r.A)({},e),{},{size:0,sizeKB:0,sizeMB:"0.00"})}})]),c=l.reduce((e,t)=>e+(t.size||0),0),u=l.length;return{entries:l.sort((e,t)=>t.timestamp-e.timestamp),totalEntries:u,totalSize:c,totalSizeKB:Math.round(c/1024),totalSizeMB:(c/1048576).toFixed(2),salesCount:i.length,dashboardCount:s.length}}catch(e){return console.error("Error listing cache entries:",e),{entries:[],totalEntries:0,totalSize:0,totalSizeKB:0,totalSizeMB:"0.00",salesCount:0,dashboardCount:0}}}getCompleteSalesDataKey(e){const t=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown").replace(/[^a-zA-Z0-9_-]/g,"_");return"".concat(t,"_").concat(e.guid,"_").concat(e.tallyloc_id,"_complete_sales")}async setCompleteSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(!(0,b.E4)()){if(!(0,b.isExternalUser)())return void console.warn("\u26a0\ufe0f Unknown access type - skipping persistent storage");{const e=await(0,b.Go)();if(!(0,b.aN)(e))return void console.warn("\u26a0\ufe0f External user cache disabled - skipping persistent storage")}}const s=performance.now();await this.init();const l=n.email||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",c=this.getCompleteSalesDataKey(e,l);console.log("\ud83d\udcbe Complete sales data cache write started for: ".concat(c));const u=await this.encryption.encryptData(t),d=Date.now(),f=n.booksfrom||null,h=n.lastaltid||null;let p=null,g=null;if(f){if(/^\d{8}$/.test(f))p="".concat(f.slice(0,4),"-").concat(f.slice(4,6),"-").concat(f.slice(6,8));else if(/^\d{4}-\d{2}-\d{2}$/.test(f))p=f;else{const e=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];try{const t=f.split("-");if(3===t.length){const n=parseInt(t[0],10),r=t[1].toLowerCase(),a=parseInt(t[2],10),o=e.findIndex(e=>e===r);if(-1!==o){const e=a<50?2e3+a:a<100?1900+a:a,t=String(o+1).padStart(2,"0"),r=String(n).padStart(2,"0");p="".concat(e,"-").concat(t,"-").concat(r)}}}catch(a){console.warn("Error parsing booksfrom date:",f,a)}}const e=new Date;g="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}const m=this.getSalesFilePath(c).split("/"),y=m.pop(),v=m.join("/");let w=this.root;if(v)for(const e of v.split("/"))e&&(w=await w.getDirectoryHandle(e,{create:!0}));try{try{await w.removeEntry(y),console.log("\ud83d\uddd1\ufe0f Removed existing cache file: ".concat(y))}catch(o){"NotFoundError"!==o.name&&console.warn("\u26a0\ufe0f Could not remove existing file: ".concat(o.message))}}catch(a){console.warn("\u26a0\ufe0f Error during file removal attempt: ".concat(a.message))}const S=await w.getFileHandle(y,{create:!0});try{if("createSyncAccessHandle"in S){const e=await S.createSyncAccessHandle();try{const t=(new TextEncoder).encode(u);e.write(t,{at:0}),e.truncate(t.length),console.log("\u2705 Wrote ".concat(t.length," bytes using sync access handle"))}finally{e.close()}}else{const e=await S.createWritable();await e.write(u),await e.close(),console.log("\u2705 Wrote ".concat(u.length," bytes using writable stream"))}}catch(i){console.error("\u274c Error writing file, attempting recovery: ".concat(i.message));try{await w.removeEntry(y)}catch(o){}const e=await w.getFileHandle(y,{create:!0}),t=await e.createWritable();await t.write(u),await t.close(),console.log("\u2705 Recovery write completed")}const _=this.metadataCache.get("sales")||new Map,E=(0,r.A)({cacheKey:c,timestamp:d,baseKey:c,isComplete:!0,lastaltid:h,booksfrom:f,email:l||"unknown"},p&&g?{startDate:p,endDate:g}:{});_.set(c,E),this.metadataCache.set("sales",_),await this.saveMetadata();const k=performance.now()-s;console.log("\u2705 Cached complete sales data in OPFS: ".concat(c,", lastaltid: ").concat(h," (").concat(k.toFixed(2),"ms)"))}catch(a){throw console.error("Error storing complete sales data in OPFS:",a),a}}async getCompleteSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();const a=t||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",o=this.getCompleteSalesDataKey(e,a),i=this.metadataCache.get("sales")||new Map;let s=i.get(o);if(!s||!s.isComplete){try{const e=this.getSalesFilePath(o).split("/"),t=e.pop(),n=e.join("/");let r=this.root;if(n)for(const a of n.split("/"))a&&(r=await r.getDirectoryHandle(a));const l=await r.getFileHandle(t),c=await l.getFile(),u=await c.arrayBuffer(),d=await this.encryption.decryptData(u);if(d)return console.log("\u2705 Found cache file without metadata - restoring metadata"),s={isComplete:!0,timestamp:c.lastModified||Date.now(),lastaltid:null,booksfrom:null,email:a||"unknown"},i.set(o,s),this.metadataCache.set("sales",i),await this.saveMetadata(),{data:d,metadata:{lastaltid:s.lastaltid,booksfrom:s.booksfrom,timestamp:s.timestamp}}}catch(n){return"NotFoundError"!==n.name&&console.warn("Error checking for cache file:",n),null}return null}const l=this.getSalesFilePath(o).split("/"),c=l.pop(),u=l.join("/");let d=this.root;if(u)for(const e of u.split("/"))e&&(d=await d.getDirectoryHandle(e));const f=await d.getFileHandle(c),h=await f.getFile(),p=h.size;if(console.log("\ud83d\udcc4 Reading complete sales cache file: ".concat(c,", size: ").concat((p/1024/1024).toFixed(2)," MB")),0===p)return console.warn("\u26a0\ufe0f Cache file is empty"),null;const g=await h.arrayBuffer();if(0===g.byteLength)return console.warn("\u26a0\ufe0f Read empty data from cache file"),null;console.log("\ud83d\udcdd Encrypted data size: ".concat((g.byteLength/1024).toFixed(2)," KB"));const m=p;Math.abs(g.byteLength-m)>100&&console.warn("\u26a0\ufe0f File size mismatch: expected ~".concat(m," bytes, got ").concat(g.byteLength,". File might be truncated."));const y=await this.encryption.decryptData(g);if(!y){console.warn("\u26a0\ufe0f Failed to decrypt complete sales data - cache may be corrupted");try{await d.removeEntry(c);const e=this.metadataCache.get("sales")||new Map;e.delete(o),this.metadataCache.set("sales",e),await this.saveMetadata(),console.log("\ud83d\uddd1\ufe0f Deleted corrupted cache entry and cleared metadata: ".concat(o))}catch(r){console.warn("Could not delete corrupted cache entry - keeping metadata:",r)}return null}return console.log("\ud83d\udccb Retrieved complete cached sales data from OPFS: ".concat(o)),{data:y,metadata:{lastaltid:s.lastaltid,booksfrom:s.booksfrom,timestamp:s.timestamp}}}catch(a){if("NotFoundError"===a.name)return null;if(a.message&&a.message.includes("base64")){console.warn("\u26a0\ufe0f Base64 decoding error - attempting to clear corrupted cache");try{const t=this.getCompleteSalesDataKey(e),n=this.getSalesFilePath(t).split("/"),r=n.pop(),a=n.join("/");let o=this.root;if(a)for(const e of a.split("/"))e&&(o=await o.getDirectoryHandle(e));await o.removeEntry(r);const i=this.metadataCache.get("sales")||new Map;i.delete(t),this.metadataCache.set("sales",i),await this.saveMetadata(),console.log("\ud83d\uddd1\ufe0f Deleted corrupted cache entry and cleared metadata due to base64 error: ".concat(t))}catch(r){console.warn("Could not delete corrupted cache entry - keeping metadata:",r)}}return console.error("Error retrieving complete sales data from OPFS:",a),null}}async getLastAlterId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();const n=t||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",r=this.getCompleteSalesDataKey(e,n),a=(this.metadataCache.get("sales")||new Map).get(r);return a&&a.isComplete&&a.lastaltid||null}catch(n){return console.error("Error getting lastaltid:",n),null}}async setSessionCacheData(e,t,n){try{if(!(0,b.isExternalUser)())return void console.warn("\u26a0\ufe0f setSessionCacheData is only for external users");const e=performance.now();await this.init();const s="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;if(!s)throw new Error("Email is required for session cache");console.log("\ud83d\udcbe Session cache write started for: ".concat(n));const l=await this.encryption.encryptData(t),c=Date.now(),u=t.fromDate||null,d=t.toDate||null,f=this.getSalesFilePath(n).split("/"),h=f.pop(),p=f.join("/");let g=this.root;if(p)for(const t of p.split("/"))t&&(g=await g.getDirectoryHandle(t,{create:!0}));try{try{await g.removeEntry(h),console.log("\ud83d\uddd1\ufe0f Removed existing session cache file: ".concat(h))}catch(a){"NotFoundError"!==a.name&&console.warn("\u26a0\ufe0f Could not remove existing file: ".concat(a.message))}}catch(o){console.warn("\u26a0\ufe0f Error during file removal attempt: ".concat(o.message))}const m=await g.getFileHandle(h,{create:!0});try{if("createSyncAccessHandle"in m){const e=await m.createSyncAccessHandle();try{const t=(new TextEncoder).encode(l);e.write(t,{at:0}),e.truncate(t.length),console.log("\u2705 Wrote ".concat(t.length," bytes using sync access handle"))}finally{e.close()}}else{const e=await m.createWritable();await e.write(l),await e.close(),console.log("\u2705 Wrote ".concat(l.length," bytes using writable stream"))}}catch(i){console.error("\u274c Error writing file, attempting recovery: ".concat(i.message));try{await g.removeEntry(h)}catch(a){}const e=await g.getFileHandle(h,{create:!0}),t=await e.createWritable();await t.write(l),await t.close(),console.log("\u2705 Recovery write completed")}const y=this.metadataCache.get("sales")||new Map,v=(0,r.A)({cacheKey:n,timestamp:c,baseKey:n,isComplete:!0,isSessionCache:!0,email:s||"unknown"},u&&d?{startDate:u,endDate:d}:{});y.set(n,v),this.metadataCache.set("sales",y),await this.saveMetadata();const w=performance.now()-e;console.log("\u2705 Cached session data in OPFS: ".concat(n," (").concat(w.toFixed(2),"ms)"))}catch(o){throw console.error("Error storing session cache data in OPFS:",o),o}}async getSessionCacheData(e){try{if(!(0,b.isExternalUser)())return null;await this.init();const t=(this.metadataCache.get("sales")||new Map).get(e);if(!t||!t.isSessionCache)return null;const n=this.getSalesFilePath(e).split("/"),r=n.pop(),a=n.join("/");let o=this.root;if(a)for(const e of a.split("/"))e&&(o=await o.getDirectoryHandle(e));const i=await o.getFileHandle(r),s=await i.getFile(),l=await s.arrayBuffer();return await this.encryption.decryptData(l)}catch(t){return console.error("Error retrieving session cache data from OPFS:",t),null}}async clearSessionCache(){try{await this.init();const n=this.metadataCache.get("sales")||new Map,r=[];for(const[e,t]of n.entries())(t.isSessionCache||e.startsWith("session_cache_"))&&r.push(e);for(const a of r)try{const t=this.getSalesFilePath(a).split("/"),r=t.pop(),o=t.join("/");let i=this.root;if(o)for(const e of o.split("/"))e&&(i=await i.getDirectoryHandle(e));try{await i.removeEntry(r),console.log("\ud83d\uddd1\ufe0f Deleted session cache file: ".concat(r))}catch(e){"NotFoundError"!==e.name&&console.warn("\u26a0\ufe0f Could not delete session cache file ".concat(r,":"),e)}n.delete(a)}catch(t){console.warn("\u26a0\ufe0f Error deleting session cache key ".concat(a,":"),t)}this.metadataCache.set("sales",n),await this.saveMetadata(),console.log("\u2705 Cleared ".concat(r.length," session cache entries"))}catch(t){console.error("Error clearing session cache:",t)}}async getCacheFileAsJson(e){try{await this.init();const r=this.metadataCache.get("sales")||new Map,a=this.metadataCache.get("dashboard")||new Map;let o,i;if(r.has(e)){o=this.getSalesFilePath(e);const r=o.split("/"),a=r.pop(),s=r.join("/");if(i=this.root,s)for(const e of s.split("/"))e&&(i=await i.getDirectoryHandle(e));const l=await i.getFileHandle(a),c=await l.getFile(),u=await c.arrayBuffer();try{const n=await this.encryption.decryptData(u);if(null===n){console.warn("\u26a0\ufe0f Detected corrupted cache file (decryptData returned null). Auto-deleting...");try{await i.removeEntry(a),console.log("\u2705 Deleted corrupted cache file");const t=this.metadataCache.get("sales")||new Map;throw t.delete(e),this.metadataCache.set("sales",t),await this.saveMetadata(),new Error("Cache file was corrupted (likely from old write method) and has been automatically deleted. Please re-download the data.")}catch(t){if(t.message&&t.message.includes("automatically deleted"))throw t;throw console.error("\u274c Failed to delete corrupted cache file:",t),new Error("Cache file appears corrupted and could not be deleted automatically. Please delete it manually from Cache Management.")}}return n}catch(n){if(console.error("\u274c Failed to decrypt cache entry: ".concat(e),n),n.message&&(n.message.includes("base64")||n.message.includes("InvalidCharacterError"))){console.warn("\u26a0\ufe0f Detected corrupted cache file (likely from old write method). Auto-deleting...");try{await i.removeEntry(a),console.log("\u2705 Deleted corrupted cache file");const t=this.metadataCache.get("sales")||new Map;throw t.delete(e),this.metadataCache.set("sales",t),await this.saveMetadata(),new Error("Cache file was corrupted (likely from old write method) and has been automatically deleted. Please re-download the data.")}catch(t){if(t.message&&t.message.includes("automatically deleted"))throw t;throw console.error("\u274c Failed to delete corrupted cache file:",t),new Error('Failed to decrypt cache entry "'.concat(e,'": ').concat(n.message,". The file appears corrupted and should be deleted manually."))}}throw new Error('Failed to decrypt cache entry "'.concat(e,'": ').concat(n.message))}}else if(a.has(e)){o=this.getDashboardFilePath(e);const r=o.split("/"),a=r.pop(),s=r.join("/");if(i=this.root,s)for(const e of s.split("/"))e&&(i=await i.getDirectoryHandle(e));const l=await i.getFileHandle(a),c=await l.getFile(),u=await c.arrayBuffer();try{const n=await this.encryption.decryptData(u);if(null===n){console.warn("\u26a0\ufe0f Detected corrupted cache file (decryptData returned null). Auto-deleting...");try{await i.removeEntry(a),console.log("\u2705 Deleted corrupted cache file");const t=this.metadataCache.get("sales")||new Map;throw t.delete(e),this.metadataCache.set("sales",t),await this.saveMetadata(),new Error("Cache file was corrupted (likely from old write method) and has been automatically deleted. Please re-download the data.")}catch(t){if(t.message&&t.message.includes("automatically deleted"))throw t;throw console.error("\u274c Failed to delete corrupted cache file:",t),new Error("Cache file appears corrupted and could not be deleted automatically. Please delete it manually from Cache Management.")}}return n}catch(n){throw console.error("\u274c Failed to decrypt dashboard cache entry: ".concat(e),n),new Error('Failed to decrypt dashboard cache entry "'.concat(e,'": ').concat(n.message))}}return null}catch(r){throw console.error("Error getting cache file as JSON:",r),r}}}class E{constructor(e){this.encryption=e,this.db=null,this.initialized=!1}async init(){if(!this.initialized)try{this.db=new v("TallyCatalystCache"),this.db.version(1).stores({salesData:"cacheKey, timestamp, baseKey, startDate, endDate, isComplete, lastaltid",dashboardState:"cacheKey, timestamp",userKeys:"email"}),this.db.version(2).stores({salesData:"cacheKey, timestamp, baseKey, startDate, endDate, isComplete, lastaltid, email",dashboardState:"cacheKey, timestamp, email",userKeys:"email"}).upgrade(async e=>{const t=e.table("salesData"),n=e.table("dashboardState");await t.toCollection().modify(e=>{e.email||(e.email="unknown")}),await n.toCollection().modify(e=>{e.email||(e.email="unknown")})}),await this.db.open(),this.encryption.indexedDB=this.db,this.initialized=!0,console.log("\u2705 IndexedDB backend initialized successfully")}catch(e){throw console.error("\u274c IndexedDB initialization error:",e),e}}sanitizeFilename(e){return e.replace(/[^a-zA-Z0-9_-]/g,"_")}extractBaseKey(e){const t=e.split("_");if(t.length>=2){const e=t[t.length-1],n=t[t.length-2];if(/^\d{4}-\d{2}-\d{2}$/.test(n)&&/^\d{4}-\d{2}-\d{2}$/.test(e))return t.slice(0,-2).join("_")}return e}async setSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{if(!(0,b.E4)()){if(!(0,b.isExternalUser)())return void console.warn("\u26a0\ufe0f Unknown access type - skipping persistent storage");{const e=await(0,b.Go)();if(!(0,b.aN)(e))return void console.warn("\u26a0\ufe0f External user cache disabled - skipping persistent storage")}}await this.init();const o=await this.encryption.encryptData(t),i=Date.now();let s=null;s=r&&a?{startDate:r,endDate:a}:w.parseDateRangeFromCacheKey(e);const l=this.extractBaseKey(e),c=((o.byteLength||o.length||0)/1024).toFixed(2),u="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;await this.db.salesData.put({cacheKey:e,encryptedData:o,timestamp:i,baseKey:l,email:u||"unknown",startDate:s?s.startDate:null,endDate:s?s.endDate:null});if(await this.db.salesData.get(e)){if(console.log("\u2705 Cached sales data in IndexedDB: ".concat(e," (").concat(c," KB)")),e.startsWith("ledgerlist-w-addrs")){const e=JSON.stringify(t),n=t.ledgers?t.ledgers.length:0;console.log("\ud83d\udcca [IndexedDB] Stored ".concat(n," customers (").concat((e.length/1024).toFixed(2)," KB uncompressed)"))}else if(e.startsWith("stockitems")){const e=JSON.stringify(t),n=t.stockItems?t.stockItems.length:0;console.log("\ud83d\udcca [IndexedDB] Stored ".concat(n," items (").concat((e.length/1024).toFixed(2)," KB uncompressed)"))}}else console.warn("\u26a0\ufe0f [IndexedDB] Data stored but verification read failed for: ".concat(e));if(null!==n&&void 0!==n){const e=Date.now()-24*n*60*60*1e3;await this.db.salesData.where("timestamp").below(e).delete()}}catch(o){throw console.error("Error storing sales data in IndexedDB:",o),o}}async getSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();let r=await this.db.salesData.get(e);if(!r){try{const t=e.split("_").slice(0,3).join("_"),n=await this.db.salesData.where("cacheKey").startsWith(t).toArray();if(n.length>0){r=n.sort((e,t)=>t.timestamp-e.timestamp)[0],console.log("\ud83d\udd04 [IndexedDB] Exact key not found, using matching key: ".concat(r.cacheKey," (requested: ").concat(e,")"))}else{const t=(await this.db.salesData.where("cacheKey").startsWith("ledgerlist-w-addrs").toArray()).map(e=>e.cacheKey);t.length>0&&(console.log("\u26a0\ufe0f [IndexedDB] Cache key not found: ".concat(e)),console.log("\ud83d\udccb [IndexedDB] Available customer cache keys:",t))}}catch(n){console.warn("\u26a0\ufe0f [IndexedDB] Error searching for matching cache key:",n.message)}if(!r)return null}if(null!==t&&void 0!==t){const n=Date.now()-r.timestamp;if(n>24*t*60*60*1e3)return await this.db.salesData.delete(e),null}const a=await this.encryption.decryptData(r.encryptedData);return a?(r.startDate&&r.endDate&&(a._cachedDateRange={startDate:r.startDate,endDate:r.endDate}),console.log("\ud83d\udccb Retrieved cached sales data from IndexedDB: ".concat(e)),a):(await this.db.salesData.delete(e),null)}catch(r){return console.error("Error retrieving sales data from IndexedDB:",r),null}}async setDashboardState(e,t){try{await this.init();const n=await this.encryption.encryptData(t),r=Date.now(),a="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;await this.db.dashboardState.put({cacheKey:e,encryptedData:n,timestamp:r,email:a||"unknown"}),console.log("\u2705 Cached dashboard state in IndexedDB: ".concat(e))}catch(n){throw console.error("Error storing dashboard state in IndexedDB:",n),n}}async getDashboardState(e){try{await this.init();const t=await this.db.dashboardState.get(e);if(!t)return null;const n=await this.encryption.decryptData(t.encryptedData);return n||(await this.db.dashboardState.delete(e),null)}catch(t){return console.error("Error retrieving dashboard state from IndexedDB:",t),null}}async deleteDashboardState(e){try{await this.init(),await this.db.dashboardState.delete(e),console.log("\ud83e\uddf9 Deleted dashboard state from IndexedDB: ".concat(e))}catch(t){console.error("Error deleting dashboard state in IndexedDB:",t)}}async deleteCacheKey(e){try{await this.init(),await this.db.salesData.delete(e),console.log("\ud83e\uddf9 Deleted cache key from IndexedDB: ".concat(e))}catch(t){console.error("Error deleting cache key in IndexedDB:",t)}}async clearCompanyCache(e){try{await this.init();const t="".concat(e.tallyloc_id,"_").concat(e.guid,"_"),n=(await this.db.salesData.where("cacheKey").startsWith(t).toArray()).map(e=>e.cacheKey);await this.db.salesData.bulkDelete(n);const r=(await this.db.dashboardState.where("cacheKey").startsWith(t).toArray()).map(e=>e.cacheKey);await this.db.dashboardState.bulkDelete(r),console.log("\ud83e\uddf9 Cleared IndexedDB cache for company: ".concat(e.company))}catch(t){console.error("Error clearing company cache in IndexedDB:",t)}}async findCachedDateRanges(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{await this.init();const i=await this.db.salesData.where("baseKey").equals(e).toArray();let s=i;if(null!==a&&void 0!==a){const e=Date.now()-24*a*60*60*1e3;s=i.filter(t=>t.timestamp>=e)}if(0===s.length)return[];const l={startDate:t,endDate:n},c=[];for(const e of s){if(!e.startDate||!e.endDate)continue;const t={startDate:e.startDate,endDate:e.endDate};if(w.dateRangesOverlap(l,t))try{const n=await this.encryption.decryptData(e.encryptedData);n&&c.push((0,r.A)((0,r.A)({},t),{},{data:n}))}catch(o){console.warn("Failed to decrypt cached entry for ".concat(e.cacheKey,":"),o)}}return c}catch(i){return console.error("Error finding cached date ranges in IndexedDB:",i),[]}}async clearMetadataCache(){await this.init()}async listAllCacheEntries(){try{await this.init();const t="undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null;let n,r;if(t)try{const e=await this.db.salesData.where("email").equals(t).toArray(),r=await this.db.salesData.where("email").equals("unknown").toArray(),a=await this.db.salesData.filter(e=>!e.email).toArray();n=[...e,...r,...a]}catch(e){console.warn("Email index not available, filtering in memory:",e);n=(await this.db.salesData.toArray()).filter(e=>!e.email||"unknown"===e.email||e.email===t)}else n=[];if(t)try{const e=await this.db.dashboardState.where("email").equals(t).toArray(),n=await this.db.dashboardState.where("email").equals("unknown").toArray(),a=await this.db.dashboardState.filter(e=>!e.email).toArray();r=[...e,...n,...a]}catch(e){console.warn("Email index not available, filtering in memory:",e);r=(await this.db.dashboardState.toArray()).filter(e=>!e.email||"unknown"===e.email||e.email===t)}else r=[];const a=n.map(e=>({type:"sales",cacheKey:e.cacheKey,timestamp:e.timestamp,date:new Date(e.timestamp).toLocaleString(),startDate:e.startDate||null,endDate:e.endDate||null,baseKey:e.baseKey||null,age:Date.now()-e.timestamp,ageDays:Math.floor((Date.now()-e.timestamp)/864e5),size:new Blob([e.encryptedData]).size,sizeKB:Math.round(new Blob([e.encryptedData]).size/1024),sizeMB:(new Blob([e.encryptedData]).size/1048576).toFixed(2)})),o=r.map(e=>({type:"dashboard",cacheKey:e.cacheKey,timestamp:e.timestamp,date:new Date(e.timestamp).toLocaleString(),startDate:null,endDate:null,baseKey:null,age:Date.now()-e.timestamp,ageDays:Math.floor((Date.now()-e.timestamp)/864e5),size:new Blob([e.encryptedData]).size,sizeKB:Math.round(new Blob([e.encryptedData]).size/1024),sizeMB:(new Blob([e.encryptedData]).size/1048576).toFixed(2)})),i=[...a,...o],s=i.reduce((e,t)=>e+t.size,0),l=i.length;return{entries:i.sort((e,t)=>t.timestamp-e.timestamp),totalEntries:l,totalSize:s,totalSizeKB:Math.round(s/1024),totalSizeMB:(s/1048576).toFixed(2),salesCount:a.length,dashboardCount:o.length}}catch(e){return console.error("Error listing cache entries:",e),{entries:[],totalEntries:0,totalSize:0,totalSizeKB:0,totalSizeMB:"0.00",salesCount:0,dashboardCount:0}}}getCompleteSalesDataKey(e){const t=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown").replace(/[^a-zA-Z0-9_-]/g,"_");return"".concat(t,"_").concat(e.guid,"_").concat(e.tallyloc_id,"_complete_sales")}async setCompleteSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{await this.init();const a=n.email||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",o=this.getCompleteSalesDataKey(e,a),i=await this.encryption.encryptData(t),s=Date.now(),l=n.booksfrom||null,c=n.lastaltid||null;let u=null,d=null;if(l){if(/^\d{8}$/.test(l))u="".concat(l.slice(0,4),"-").concat(l.slice(4,6),"-").concat(l.slice(6,8));else if(/^\d{4}-\d{2}-\d{2}$/.test(l))u=l;else{const e=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];try{const t=l.split("-");if(3===t.length){const n=parseInt(t[0],10),r=t[1].toLowerCase(),a=parseInt(t[2],10),o=e.findIndex(e=>e===r);if(-1!==o){const e=a<50?2e3+a:a<100?1900+a:a,t=String(o+1).padStart(2,"0"),r=String(n).padStart(2,"0");u="".concat(e,"-").concat(t,"-").concat(r)}}}catch(r){console.warn("Error parsing booksfrom date:",l,r)}}const e=new Date;d="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}await this.db.salesData.put({cacheKey:o,encryptedData:i,timestamp:s,baseKey:o,isComplete:!0,lastaltid:c,booksfrom:l,startDate:u,endDate:d}),console.log("\u2705 Cached complete sales data in IndexedDB: ".concat(o,", lastaltid: ").concat(c))}catch(r){throw console.error("Error storing complete sales data in IndexedDB:",r),r}}async getCompleteSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();const r=t||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",a=this.getCompleteSalesDataKey(e,r),o=await this.db.salesData.get(a);if(!o||!o.isComplete)return null;const i=await this.encryption.decryptData(o.encryptedData);if(!i){console.warn("\u26a0\ufe0f Failed to decrypt complete sales data - cache may be corrupted");try{await this.db.salesData.delete(a),console.log("\ud83d\uddd1\ufe0f Deleted corrupted cache entry from IndexedDB: ".concat(a))}catch(n){console.warn("Could not delete corrupted cache entry:",n)}return null}return console.log("\ud83d\udccb Retrieved complete cached sales data from IndexedDB: ".concat(a)),{data:i,metadata:{lastaltid:o.lastaltid,booksfrom:o.booksfrom,timestamp:o.timestamp}}}catch(r){if(r.message&&r.message.includes("base64")){console.warn("\u26a0\ufe0f Base64 decoding error - attempting to clear corrupted cache");try{const t=this.getCompleteSalesDataKey(e);await this.db.salesData.delete(t),console.log("\ud83d\uddd1\ufe0f Deleted corrupted cache entry due to base64 error: ".concat(t))}catch(n){console.warn("Could not delete corrupted cache entry:",n)}}return console.error("Error retrieving complete sales data from IndexedDB:",r),null}}async getLastAlterId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{await this.init();const n=t||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown",r=this.getCompleteSalesDataKey(e,n),a=await this.db.salesData.get(r);return a&&a.isComplete&&a.lastaltid||null}catch(n){return console.error("Error getting lastaltid:",n),null}}async getCacheFileAsJson(e){try{await this.init();let n=await this.db.salesData.get(e);if(!n)try{const t=e.split("_").slice(0,3).join("_"),r=await this.db.salesData.where("cacheKey").startsWith(t).toArray();if(r.length>0){n=r.sort((e,t)=>t.timestamp-e.timestamp)[0],console.log("\ud83d\udd04 [IndexedDB] Exact key not found for viewing, using matching key: ".concat(n.cacheKey," (requested: ").concat(e,")"))}else if(e.startsWith("ledgerlist-w-addrs")){const t=(await this.db.salesData.where("cacheKey").startsWith("ledgerlist-w-addrs").toArray()).map(e=>e.cacheKey);t.length>0&&(console.log("\u26a0\ufe0f [IndexedDB] Cache key not found for viewing: ".concat(e)),console.log("\ud83d\udccb [IndexedDB] Available customer cache keys:",t))}else if(e.startsWith("stockitems")){const t=(await this.db.salesData.where("cacheKey").startsWith("stockitems").toArray()).map(e=>e.cacheKey);t.length>0&&(console.log("\u26a0\ufe0f [IndexedDB] Cache key not found for viewing: ".concat(e)),console.log("\ud83d\udccb [IndexedDB] Available item cache keys:",t))}}catch(t){console.warn("\u26a0\ufe0f [IndexedDB] Error searching for matching cache key:",t.message)}if(n){const t=await this.encryption.decryptData(n.encryptedData);return t||(console.error("\u274c Failed to decrypt cache entry for viewing: ".concat(e)),null)}const r=await this.db.dashboardState.get(e);if(r){const t=await this.encryption.decryptData(r.encryptedData);return t||(console.error("\u274c Failed to decrypt dashboard cache entry for viewing: ".concat(e)),null)}return null}catch(n){return console.error("Error getting cache file as JSON:",n),null}}}const k=new class{constructor(){this.encryption=null,this.backend=null,this.backendType=null,this.initialized=!1}getCacheExpiryDays(){try{const e=localStorage.getItem("cacheExpiryDays");if(null===e||"null"===e||"never"===e)return null;const t=parseInt(e,10);return isNaN(t)||t<0?null:t}catch(e){return null}}setCacheExpiryDays(e){try{if(null===e||"never"===e||""===e)localStorage.setItem("cacheExpiryDays","never");else{const t=parseInt(e,10);!isNaN(t)&&t>=0&&localStorage.setItem("cacheExpiryDays",t.toString())}}catch(t){console.error("Error setting cache expiry:",t)}}async init(){if(this.initialized)return;const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,n="storage"in navigator,r=n&&"getDirectory"in navigator.storage,a=t&&n&&r;console.log("\ud83d\udd0d Storage Detection:",{isMobile:e,isSecureContext:t,protocol:window.location.protocol,hostname:window.location.hostname,hasStorage:n,hasGetDirectory:r,supportsOPFS:a,userAgent:navigator.userAgent});const o=e;if(o&&console.log("\ud83d\udcf1 Mobile device detected, using IndexedDB for cache storage"),a&&!o)try{console.log("\ud83d\ude80 Initializing OPFS backend...");const t=navigator.storage.getDirectory(),n=new Promise((t,n)=>setTimeout(()=>n(new Error("OPFS initialization timeout")),e?1e4:5e3)),r=await Promise.race([t,n]);if(e&&"estimate"in navigator.storage){const e=await navigator.storage.estimate(),t=e.usage/e.quota*100;console.log("\ud83d\udcca Storage quota: ".concat((e.usage/1048576).toFixed(2)," MB / ").concat((e.quota/1048576).toFixed(2)," MB (").concat(t.toFixed(1),"%)")),t>90?console.warn("\u26a0\ufe0f Storage quota nearly full on mobile (>90%), consider cleanup"):t>75&&console.warn("\u26a0\ufe0f Storage quota getting high on mobile (>75%)")}return this.encryption=new S(r),this.backend=new _(this.encryption),await this.backend.init(),this.backendType="OPFS",console.log("\u2705 OPFS backend initialized successfully"+(e?" (mobile)":"")),void(this.initialized=!0)}catch(i){console.warn("\u26a0\ufe0f OPFS initialization failed, falling back to IndexedDB:",{error:i.message,isMobile:e,browser:navigator.userAgent})}try{console.log("\ud83d\ude80 Initializing IndexedDB backend..."+(e?" (mobile)":"")),this.encryption=new S(null),this.backend=new E(this.encryption),await this.backend.init(),this.backendType="IndexedDB",console.log("\u2705 IndexedDB backend initialized successfully"+(e?" (mobile)":""))}catch(i){throw console.error("\u274c IndexedDB initialization failed:",{error:i.message,isMobile:e,browser:navigator.userAgent}),new Error("Failed to initialize storage backends: ".concat(i.message,". Please ensure your browser supports modern storage APIs."))}this.initialized=!0}async setSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!(0,b.E4)()){if(!(0,b.isExternalUser)())return void console.warn("\u26a0\ufe0f Unknown access type - skipping persistent storage");{const e=await(0,b.Go)();if(!(0,b.aN)(e))return void console.warn("\u26a0\ufe0f External user cache disabled - skipping persistent storage")}}return await this.init(),null!==n&&void 0!==n||(n=this.getCacheExpiryDays()),await this.backend.setSalesData(e,t,n,r,a)}async getSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await this.init(),null!==t&&void 0!==t||(t=this.getCacheExpiryDays()),await this.backend.getSalesData(e,t)}async setDashboardState(e,t){return await this.init(),await this.backend.setDashboardState(e,t)}async getDashboardState(e){return await this.init(),await this.backend.getDashboardState(e)}async setCustomerData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(await this.init(),!e||!e.tallyloc_id||!e.company)throw new Error("Company information is required for customer caching");if(!Array.isArray(t))throw new Error("Customer data must be an array of ledgers");const{tallyloc_id:r,company:a}=e,o="ledgerlist-w-addrs_".concat(r,"_").concat(a);null!==n&&void 0!==n||(n=this.getCacheExpiryDays());try{const e={ledgers:t},r=(JSON.stringify(t).length/1048576).toFixed(2);console.log("\ud83d\udcca Caching ".concat(t.length," customers (").concat(r," MB) with key: ").concat(o)),await this.backend.setSalesData(o,e,n);try{sessionStorage.setItem("".concat(o,"_count"),t.length.toString())}catch(i){console.warn("Could not store customer count in sessionStorage:",i)}console.log("\u2705 Successfully cached customer data: ".concat(o))}catch(s){throw console.error("Error caching customer data:",s),s}}async getCustomerData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(await this.init(),!e||!e.tallyloc_id||!e.company)throw new Error("Company information is required to retrieve customer data");const{tallyloc_id:n,company:r}=e,a="ledgerlist-w-addrs_".concat(n,"_").concat(r);null!==t&&void 0!==t||(t=this.getCacheExpiryDays());try{const e=await this.backend.getSalesData(a,t);return e&&e.ledgers&&Array.isArray(e.ledgers)?(console.log("\ud83d\udccb Retrieved ".concat(e.ledgers.length," customers from cache: ").concat(a)),e.ledgers):(console.log("\u2139\ufe0f No valid customer data found in cache: ".concat(a)),null)}catch(o){return console.error("Error retrieving customer data from cache:",o),null}}async clearCompanyCache(e){await this.init(),await this.backend.clearCompanyCache(e);try{const{tallyloc_id:n,company:r}=e,a="ledgerlist-w-addrs_".concat(n,"_").concat(r);await this.deleteCacheKey(a);try{sessionStorage.removeItem("".concat(a,"_count"))}catch(t){}}catch(t){console.warn("Error clearing customer cache:",t)}try{const{tallyloc_id:n,company:r}=e,a="stockitems_".concat(n,"_").concat(r);await this.deleteCacheKey(a);try{sessionStorage.removeItem("".concat(a,"_count"))}catch(t){}}catch(t){console.warn("Error clearing item cache:",t)}}async deleteCacheKey(e){return await this.init(),await this.backend.deleteCacheKey(e)}async setSessionCacheData(e,t,n){if(await this.init(),(0,b.isExternalUser)()){if(this.backend&&this.backend.setSessionCacheData)return await this.backend.setSessionCacheData(e,t,n);throw new Error("Session cache storage not supported by backend")}console.warn("\u26a0\ufe0f setSessionCacheData is only for external users")}async getSessionCacheData(e){return await this.init(),(0,b.isExternalUser)()&&this.backend&&this.backend.getSessionCacheData?await this.backend.getSessionCacheData(e):null}async clearSessionCache(){if(await this.init(),this.backend&&this.backend.clearSessionCache)return await this.backend.clearSessionCache();console.warn("\u26a0\ufe0f clearSessionCache not supported by backend")}async getCacheStats(){await this.init();const e=window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,t="storage"in navigator,n=t&&"getDirectory"in navigator.storage,r=e&&t&&n;return{backend:this.backendType,supportsOPFS:r,isUsingOPFS:"OPFS"===this.backendType,isUsingIndexedDB:"IndexedDB"===this.backendType}}async clearMetadataCache(){await this.init(),this.backend&&this.backend.clearMetadataCache&&await this.backend.clearMetadataCache()}async clearAllCache(){await this.init(),"IndexedDB"===this.backendType&&this.backend&&this.backend.db?(await this.backend.db.salesData.clear(),await this.backend.db.dashboardState.clear(),console.log("\u2705 Cleared all cache from IndexedDB")):"OPFS"===this.backendType&&this.backend&&this.backend.clearAllCache&&await this.backend.clearAllCache()}async listAllCacheEntries(){return await this.init(),await this.backend.listAllCacheEntries()}extractBaseKey(e){return this.backend.extractBaseKey(e)}async findCachedDateRanges(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return await this.init(),null!==r&&void 0!==r||(r=this.getCacheExpiryDays()),await this.backend.findCachedDateRanges(e,t,n,r)}async setCompleteSalesData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.init(),await this.backend.setCompleteSalesData(e,t,n)}async getCompleteSalesData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await this.init(),await this.backend.getCompleteSalesData(e,t)}async getLastAlterId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await this.init(),await this.backend.getLastAlterId(e,t)}async getCacheFileAsJson(e){return await this.init(),await this.backend.getCacheFileAsJson(e)}}},64467(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(20816);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},75340(e,t,n){"use strict";e.exports=n(31761)},82284(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},87743(e,t,n){"use strict";n.d(t,{$v:()=>k,KD:()=>I,Le:()=>x,checkVersionUpdate:()=>f,d1:()=>u,gU:()=>C,getCustomersFromOPFS:()=>D,getItemsFromOPFS:()=>P,hL:()=>w,j9:()=>S,syncCustomers:()=>A});var r=n(89379),a=n(57005),o=n(34534),i=n(98748),s=n(16243);const l={NODE_ENV:"production",PUBLIC_URL:"/Development",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DEV_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_DEV_API_URL_loc:"http://localhost:3001",REACT_APP_ENCRYPTION_KEY:"TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT",REACT_APP_GOOGLE_API_KEY:"AIzaSyBVhzF9XXvpQ9gRvY5-6gtZRkQgB-q9bRY",REACT_APP_GOOGLE_CLIENT_ID:"643956131359-2bplishr02kk944gi1ooj1q0huapvf9n.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"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",REACT_APP_HOMEPAGE:"/Development",REACT_APP_PRODUCTION_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_PRODUCTION_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL:"https://itcatalystindia.com/Development/CustomerPortal_API",REACT_APP_STAGING_API_URL_ser:"https://itcatalystindia.com/Development/CustomerPortal_API"}.REACT_APP_VERSION||"1.0.0",c="datalynk_",u=e=>{const t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"_t=").concat(Date.now())},d=()=>{try{console.log("\ud83e\uddf9 clearAllCaches called");Object.keys(localStorage).forEach(e=>{e.startsWith(c)&&localStorage.removeItem(e)});const e=["token","email","name","tallyloc_id","company","guid","status","access_type"],t=Object.keys(sessionStorage);let n=0;t.forEach(t=>{const r=t.startsWith(c)||t.startsWith("ledgerlist-w-addrs_")||t.startsWith("stockitem_")||t.endsWith("_chunks")||t.includes("_chunk_");!e.includes(t)&&r&&(t.endsWith("_chunks")||t.includes("_chunk_")?(sessionStorage.removeItem(t),n++):((e=>{try{sessionStorage.removeItem(e);const t=sessionStorage.getItem("".concat(e,"_chunks"));if(t){const n=parseInt(t,10);for(let t=0;t<n;t++)sessionStorage.removeItem("".concat(e,"_chunk_").concat(t));sessionStorage.removeItem("".concat(e,"_chunks"))}}catch(t){}})(t),n++))}),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)})}),console.log("\ud83e\uddf9 All caches cleared successfully (authentication data preserved). Cleared ".concat(n," cache keys"))}catch(e){console.error("Error clearing caches:",e)}},f=()=>{const e=localStorage.getItem("".concat(c,"version"));return e&&e.includes("%")&&e.includes("REACT_APP_VERSION")?(console.log("\u26a0\ufe0f Detected placeholder version, setting to current version without clearing"),localStorage.setItem("".concat(c,"version"),l),!1):e&&e!==l?(console.log("\ud83d\udd04 Version changed from ".concat(e," to ").concat(l," - clearing caches")),d(),localStorage.setItem("".concat(c,"version"),l),!0):(e||(console.log("\ud83d\udd04 No stored version found, setting initial version"),localStorage.setItem("".concat(c,"version"),l)),!1)},h=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=o?45e4:n;for(let c=1;c<=a;c++)try{const n=new AbortController,a=setTimeout(()=>{n.abort()},i);try{const o=await fetch(e,(0,r.A)((0,r.A)({},t),{},{signal:n.signal,cache:"no-cache",mode:"cors",credentials:"omit"}));if(clearTimeout(a),!o.ok){const e=await o.text().catch(()=>"Unable to read error message"),t="HTTP ".concat(o.status,": ").concat(o.statusText,". ").concat(e.substring(0,200));if(500===o.status)throw new Error(t);throw new Error(t)}return o}catch(s){clearTimeout(a);if(s.message.includes("CORS")||s.message.includes("cors")||s.message.includes("Access-Control")||"TypeError"===s.name&&s.message.includes("Failed to fetch"))throw new Error("CORS Error: ".concat(s.message,". Please check server configuration and try again."));throw s}}catch(l){const e=l.message.includes("HTTP 500")||l.message.includes("500"),t=l.message.includes("CORS Error:")||l.message.includes("CORS")||l.message.includes("cors")||l.message.includes("Access-Control");if(e||t)throw l;const n="AbortError"===l.name||l.message.includes("timeout"),r=l.message.includes("Failed to fetch")||l.message.includes("NetworkError")||l.message.includes("Network request failed");if(!n&&!r&&!l.message.includes("504")&&!l.message.includes("408")&&!l.message.includes("502"))throw l;if(c===a)throw new Error("Failed after ".concat(a," attempts. ")+"Last error: ".concat(l.message,". ")+"Device: ".concat(o?"Mobile":"Desktop",". ")+"Online: ".concat(navigator.onLine,". ")+"Please check your internet connection and try again.");const i=Math.min(1e3*Math.pow(2,c-1),5e3);await new Promise(e=>setTimeout(e,i))}},p=e=>{if(!e)return null;if(/^\d{8}$/.test(e))return e;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e.replace(/-/g,"");const t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];try{const n=e.split("-");if(3===n.length){const e=parseInt(n[0],10),r=n[1].toLowerCase(),a=parseInt(n[2],10),o=t.findIndex(e=>e===r);if(-1===o)return null;const i=a<50?2e3+a:a<100?1900+a:a,s=String(o+1).padStart(2,"0"),l=String(e).padStart(2,"0");return"".concat(i).concat(s).concat(l)}}catch(n){console.warn("Error parsing date:",e,n)}return null},g=e=>{const t=p(e);return t||(e.includes("-")?e.replace(/-/g,""):e)},m=e=>{if(!e||!e.vouchers||!Array.isArray(e.vouchers))return null;let t=null;for(const n of e.vouchers){const e=n.alterid||n.ALTERID;if(null!==e&&void 0!==e){const n="string"===typeof e?parseInt(e,10):e;!isNaN(n)&&(null===t||n>t)&&(t=n)}}return t},y=e=>{if(!e||!Array.isArray(e))return e||[];const t=[],n=new Map;e.forEach(e=>{const r=e.mstid||e.MSTID||e.masterid||e.MASTERID,a=e.alterid||e.ALTERID;if(null!==r&&void 0!==r&&null!==a&&void 0!==a){const o=String(r),i="string"===typeof a?parseInt(a,10):a;if(isNaN(i))t.push(e);else{n.has(o)||n.set(o,{vouchers:[],maxAlterId:i,bestVoucher:e});const t=n.get(o);t.vouchers.push(e),i>t.maxAlterId&&(t.maxAlterId=i,t.bestVoucher=e)}}else t.push(e)});const r=[];let a=0;return n.forEach((e,t)=>{r.push(e.bestVoucher),e.vouchers.length>1&&(a+=e.vouchers.length-1)}),r.push(...t),a>0&&console.log("\ud83d\udd04 Deduplicated vouchers by mstid: Removed ".concat(a," duplicate(s) across ").concat(n.size," unique mstid(s). Original: ").concat(e.length,", Deduplicated: ").concat(r.length)),r},v=async(e,t,n,o,i)=>{if(console.log("\ud83d\udd04 Starting incremental merge: ".concat(e.length," existing + ").concat(t.length," new vouchers")),!e||0===e.length){console.log("\ud83d\udcca No existing vouchers, using ".concat(t.length," new vouchers only"));const e=y(t),s={vouchers:e},l=m(s),c={booksfrom:i||null,lastaltid:l};return await a.hybridCache.setCompleteSalesData(n,s,(0,r.A)((0,r.A)({},c),{},{email:o})),console.log("\u2705 Saved ".concat(e.length," vouchers to cache, maxAlterId=").concat(l)),{mergedVouchers:e,maxAlterId:l}}const s=new Map,l=new Set;e.forEach(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID,n=e.alterid||e.ALTERID,r=e.vouchernumber||e.voucher_number||e.VCHNO||e.vchno||e.VCHNO,a=e.cp_date||e.DATE||e.date||e.CP_DATE,o=e.amount||e.AMT||e.amt;if(null!==t&&void 0!==t){const r=String(t),a=null!==n&&void 0!==n?"string"===typeof n?parseInt(n,10):n:null;if(isNaN(a))s.has(r)||s.set(r,{voucher:e,alterid:null});else if(s.has(r)){a>s.get(r).alterid&&s.set(r,{voucher:e,alterid:a})}else s.set(r,{voucher:e,alterid:a})}t&&n&&(l.add("".concat(t,"_").concat(n)),l.add("".concat(String(t),"_").concat(String(n)))),r&&a&&(l.add("".concat(r,"_").concat(a)),l.add("".concat(String(r),"_").concat(String(a)))),r&&a&&o&&l.add(JSON.stringify({vchno:String(r),date:String(a),amount:String(o)}))}),console.log("\ud83d\udcca Cache contains ".concat(s.size," unique masterids (from ").concat(e.length," total vouchers)"));const c=new Map,u=[];let d=0,f=0,h=0;const p=new Set;s.forEach((e,t)=>{c.set(t,e.voucher)}),t.forEach(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID,n=e.alterid||e.ALTERID,r=e.vouchernumber||e.voucher_number||e.VCHNO||e.vchno||e.VCHNO,a=e.cp_date||e.DATE||e.date||e.CP_DATE;let o=null;if(t&&n?o="".concat(t,"_").concat(n):r&&a&&(o="".concat(r,"_").concat(a)),o&&l.has(o))h++;else if(null!==t&&void 0!==t){const r=String(t),a=null!==n&&void 0!==n?"string"===typeof n?parseInt(n,10):n:null;if(isNaN(a))c.has(r)?h++:(c.set(r,e),f++);else if(c.has(r)){const t=s.get(r);if(t&&null!==t.alterid&&void 0!==t.alterid){const n="string"===typeof t.alterid?parseInt(t.alterid,10):t.alterid,o="string"===typeof a?parseInt(a,10):a;isNaN(n)||isNaN(o)||o>n?(c.set(r,e),d++):h++}else c.set(r,e),d++}else c.set(r,e),f++}else if(o)l.has(o)||p.has(o)?h++:(u.push(e),p.add(o),f++);else{const t=JSON.stringify({vchno:r,date:a,amount:e.amount||e.AMT||e.amt});l.has(t)||p.has(t)?h++:(u.push(e),p.add(t),f++)}});let g=[...c.values(),...u];console.log("\u2705 Incremental merge complete: ".concat(d," replaced, ").concat(f," new, ").concat(h," skipped from ").concat(t.length," new vouchers")),console.log("\ud83d\udcca Merge result: ".concat(e.length," existing -> ").concat(g.length," total vouchers"));const v=g.length;g=y(g);const b=g.length;v!==b&&console.log("\ud83d\udd04 Deduplication after merge: ".concat(v," -> ").concat(b," vouchers (removed ").concat(v-b," duplicates)"));const w={vouchers:g},S=m(w),_={booksfrom:i||null,lastaltid:S};return console.log("\ud83d\udcbe Saving ".concat(g.length," merged vouchers to cache (maxAlterId=").concat(S,")...")),await a.hybridCache.setCompleteSalesData(n,w,(0,r.A)((0,r.A)({},_),{},{email:o})),console.log("\u2705 Successfully saved ".concat(g.length," vouchers to cache")),{mergedVouchers:g,maxAlterId:S}},b=(e,t,n)=>"sync_progress_".concat(e,"_").concat(t,"_").concat(n),w=async e=>{if(!e)return null;if(k.isSyncInProgress()&&k.isSameCompany(e))return null;const t=_();if(!t)return null;const n=b(t,e.guid,e.tallyloc_id);try{const t=await a.hybridCache.getDashboardState(n);if(t&&"in_progress"===t.status){const n=Date.now()-(t.lastUpdated||0);if(n>3e5||t.chunksCompleted<t.totalChunks&&t.totalChunks>0)return{current:t.chunksCompleted||0,total:t.totalChunks||0,companyName:e.company,companyGuid:e.guid}}return null}catch(r){return console.warn("Error checking interrupted download:",r),null}},S=async e=>{if(!e)return;const t=_();if(!t)return;const n=b(t,e.guid,e.tallyloc_id);try{a.hybridCache.deleteDashboardState?await a.hybridCache.deleteDashboardState(n):(await a.hybridCache.init(),await a.hybridCache.db.dashboardState.delete(n)),console.log("\u2705 Cleared download progress for",e.company)}catch(r){console.warn("Error clearing download progress:",r)}},_=()=>sessionStorage.getItem("email"),E=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)throw new Error("No company selected");console.log("\ud83d\ude80 Starting syncSalesData for company:",{tallyloc_id:e.tallyloc_id,company:e.company,guid:e.guid,email:t,startFresh:i});const l=b(t,e.guid,e.tallyloc_id);let c=null;try{if(i){console.log("\ud83d\udd04 Starting fresh - clearing existing progress");try{await a.hybridCache.deleteDashboardState(l),console.log("\u2705 Cleared existing progress")}catch(C){console.warn("Could not clear progress:",C)}}else try{c=await a.hybridCache.getDashboardState(l)}catch(C){console.warn("Could not load saved progress:",C)}try{var u,d;await a.hybridCache.setDashboardState(l,{email:t,companyGuid:e.guid,tallylocId:e.tallyloc_id,status:"in_progress",lastUpdated:Date.now(),chunksCompleted:(null===(u=c)||void 0===u?void 0:u.chunksCompleted)||0,totalChunks:(null===(d=c)||void 0===d?void 0:d.totalChunks)||0})}catch(C){console.warn("Could not save progress state:",C)}const b=await(async e=>{try{const t=sessionStorage.getItem("booksfrom");if(t)return t;const n=sessionStorage.getItem("allConnections"),r=JSON.parse(n||"[]");if(e&&Array.isArray(r)){const t=sessionStorage.getItem("selectedCompanyTallylocId"),n=r.find(n=>n.guid===e&&(!t||String(n.tallyloc_id)===String(t)));if(n&&n.booksfrom)return n.booksfrom}const a=await(0,o.Vg)("/api/tally/user-connections?ts=".concat(Date.now()));if(a){let t=[];if(Array.isArray(a))t=a;else if(a.createdByMe&&a.sharedWithMe){const e=Array.isArray(a.createdByMe)?a.createdByMe:[],n=Array.isArray(a.sharedWithMe)?a.sharedWithMe:[];t=[...e,...n]}const n=sessionStorage.getItem("selectedCompanyTallylocId"),r=t.find(t=>t.guid===e&&(!n||String(t.tallyloc_id)===String(n)));if(r&&r.booksfrom)return sessionStorage.setItem("booksfrom",r.booksfrom),r.booksfrom}return null}catch(t){return console.error("Error in fetchBooksFrom:",t),null}})(e.guid);if(!b)throw new Error("Unable to fetch booksfrom date. Please ensure you have access to this company.");let R=null,N=!1;console.log("\ud83d\udd0d Checking for existing cached data to determine update mode...");try{const n=await a.hybridCache.getCompleteSalesData(e,t);var f;if(n&&n.data&&n.data.vouchers&&Array.isArray(n.data.vouchers)&&n.data.vouchers.length>0)console.log("\u2705 Found ".concat(n.data.vouchers.length," existing vouchers in cache")),N=!0,R=m(n.data),!R&&null!==(f=n.metadata)&&void 0!==f&&f.lastaltid&&(R=n.metadata.lastaltid,console.log("\u26a0\ufe0f Using lastaltid from metadata as fallback: ".concat(R))),console.log("\u2705 Calculated largest alterid from cache: ".concat(R));else console.log("\u2705 No existing data found - confirmed as fresh download"),N=!1}catch(x){var w;console.warn("\u26a0\ufe0f Could not check for existing data:",x),R=(null===(w=c)||void 0===w?void 0:w.lastSyncedAlterId)||await a.hybridCache.getLastAlterId(e,t),N=!!R,N&&console.log("\u26a0\ufe0f Fallback: Using lastaltid from saved progress/metadata: ".concat(R))}console.log("\ud83d\udd0d Update detection result: lastaltid=".concat(R,", isUpdate=").concat(N));const L=new Date,F="".concat(L.getFullYear(),"-").concat(String(L.getMonth()+1).padStart(2,"0"),"-").concat(String(L.getDate()).padStart(2,"0")),M=g(F);let j=M;b&&(j=p(b)||g(b));const z={tallyloc_id:e.tallyloc_id,company:e.company,guid:e.guid,fromdate:j,todate:M,serverslice:N?"Yes":"No",vouchertype:"$$isSales, $$IsCreditNote"};N&&R?(z.lastaltid=R,console.log("\ud83d\udce1 API Request Mode: UPDATE (lastaltid=".concat(R,", serverslice=Yes)"))):console.log("\ud83d\udce1 API Request Mode: FRESH DOWNLOAD (serverslice=No)"),n({current:0,total:1,message:N?"Checking for updates...":"Fetching data..."});const B="".concat((0,s.getApiUrl)("/api/reports/salesextract"),"?ts=").concat(Date.now()),K=sessionStorage.getItem("token"),U=(0,r.A)({"Content-Type":"application/json"},K?{Authorization:"Bearer ".concat(K)}:{});let V,H=!1;const W=!N,q=N&&R;if(W||q)H=!0;else try{const e=await h(B,{method:"POST",headers:U,body:JSON.stringify(z)},3e5,5),t=await e.text();if(!t)throw new Error("Empty response from server");var S;if(V=JSON.parse(t),V&&"Yes"===V.frontendslice)H=!0;else H=V&&("slice"===V.message||"Slice"===V.message||(null===(S=V.message)||void 0===S?void 0:S.toLowerCase().includes("slice"))||V.error&&V.error.toLowerCase().includes("slice"))}catch(x){if(!(x.message.includes("timeout")||x.message.includes("504")||x.message.includes("408")||x.message.includes("Failed after")))throw x;H=!0}let G=[],Y={vouchers:[]},$=null,Q=[];if(N){console.log("\ud83d\udd04 Update mode detected (lastaltid=".concat(R,"), loading existing cache..."));try{const n=await a.hybridCache.getCompleteSalesData(e,t);n&&n.data&&n.data.vouchers&&Array.isArray(n.data.vouchers)&&n.data.vouchers.length>0?(Q=n.data.vouchers,console.log("\u2705 Pre-loaded ".concat(Q.length," existing vouchers for update merge")),console.log("\ud83d\udccb Sample existing voucher IDs:",Q.slice(0,3).map(e=>({mstid:e.mstid||e.MSTID||e.masterid||e.MASTERID,alterid:e.alterid||e.ALTERID,vchno:e.voucher_number||e.VCHNO||e.vchno||e.VCHNO})))):(console.warn("\u26a0\ufe0f Update mode but no existing vouchers found in cache"),console.warn("\u26a0\ufe0f existingData:",n?n.data?"data exists but no vouchers array":"no data property":"null/undefined"))}catch(x){console.error("\u274c Could not pre-load existing cache for update:",x),console.error("\u274c Error details:",x.message);try{await new Promise(e=>setTimeout(e,100));const n=await a.hybridCache.getCompleteSalesData(e,t);n&&n.data&&n.data.vouchers&&Array.isArray(n.data.vouchers)&&n.data.vouchers.length>0?(Q=n.data.vouchers,console.log("\u2705 Retry successful: Loaded ".concat(Q.length," existing vouchers for update merge"))):console.error("\u274c Retry also found no existing vouchers")}catch(D){console.error("\u274c Retry also failed to load existing cache:",D),console.error("\u274c Retry error details:",D.message)}}0===Q.length&&(console.warn("\u26a0\ufe0f Update mode detected (lastaltid=".concat(R,") but no existing vouchers found in cache.")),console.warn("\u26a0\ufe0f This may happen if cache was cleared or corrupted. Proceeding as fresh download."),console.warn("\u26a0\ufe0f The API will still use lastaltid=".concat(R," to fetch only new records.")))}if(N&&R){console.log("\ud83d\udd04 Update mode: Using voucherextract_sync API with incremental cache updates");const i="".concat((0,s.getApiUrl)("/api/reports/voucherextract_sync"),"?ts=").concat(Date.now()),l=sessionStorage.getItem("token"),c=(0,r.A)({"Content-Type":"application/json"},l?{Authorization:"Bearer ".concat(l)}:{});let u=R,d=0,f=0,p=Q.length>0?Q:[];for(n({current:0,total:1,message:"Updating ".concat(e.company,": Fetching new vouchers..."),companyGuid:e.guid,companyName:e.company});;){d++,console.log("\ud83d\udd04 Update loop iteration ".concat(d,": Fetching vouchers with lastaltid=").concat(u));const r={tallyloc_id:e.tallyloc_id,company:e.company,guid:e.guid,lastaltid:u,vouchertype:"$$isSales, $$IsCreditNote"};try{n({current:d,total:d+1,message:"Updating ".concat(e.company,": Iteration ").concat(d," (lastaltid=").concat(u,")..."),companyGuid:e.guid,companyName:e.company});const a=await h(i,{method:"POST",headers:c,body:JSON.stringify(r)},3e5,5),o=await a.text();if(!o){console.warn("\u26a0\ufe0f Empty response from voucherextract_sync API");break}const s=JSON.parse(o);if(!s.vouchers||!Array.isArray(s.vouchers)||0===s.vouchers.length){console.log("\u2705 Update loop complete: Received empty vouchers array after ".concat(d," iteration(s)"));break}const l=s.vouchers;console.log("\ud83d\udce5 Iteration ".concat(d,": Fetched ").concat(l.length," vouchers")),f+=l.length;try{const{mergedVouchers:r,maxAlterId:a}=await v(p,l,e,t,b);if(p=r,null===a||void 0===a){console.warn("\u26a0\ufe0f Could not calculate max alterid from merged data, stopping loop");break}if(a<=u){console.warn("\u26a0\ufe0f Max alterid (".concat(a,") is not greater than current (").concat(u,"), stopping loop"));break}console.log("\ud83d\udcca Updating lastaltid: ".concat(u," -> ").concat(a)),u=a,n({current:d,total:d+1,message:"Updating ".concat(e.company,": Iteration ").concat(d," - ").concat(f," vouchers fetched, ").concat(r.length," total in cache (maxAlterId=").concat(a,")"),companyGuid:e.guid,companyName:e.company})}catch(P){if(console.error("\u274c Error merging/saving in iteration ".concat(d,":"),P),1===d&&0===p.length)throw new Error("Failed to merge and save vouchers in update mode: ".concat(P.message));{console.warn("\u26a0\ufe0f Merge failed but continuing (previous iterations saved successfully)");const e=m(s);if(!(e&&e>u))break;u=e}}}catch(x){if(console.error("\u274c Error in update loop iteration ".concat(d,":"),x),1===d)throw new Error("Failed to fetch vouchers in update mode: ".concat(x.message));console.warn("\u26a0\ufe0f Error occurred but data from previous ".concat(d-1," iteration(s) was saved successfully"));break}}console.log("\u2705 Update loop completed: ".concat(d," iteration(s), ").concat(f," total vouchers fetched")),Y={vouchers:p};try{console.log("\ud83d\udd0d Checking for deleted vouchers...");const n="/api/reports/deletedvouchers?ts=".concat(Date.now()),i={tallyloc_id:e.tallyloc_id,company:e.company,guid:e.guid},s=await(0,o.apiPost)(n,i);if(s&&s.deletedVoucherIds&&Array.isArray(s.deletedVoucherIds)&&s.deletedVoucherIds.length>0){console.log("\ud83d\uddd1\ufe0f Found ".concat(s.deletedVoucherIds.length," deleted voucher IDs to remove from cache"));const n=await(async(e,t,n)=>{if(!t||!Array.isArray(t)||0===t.length)return console.log("\u2139\ufe0f No deleted master IDs provided, skipping cleanup"),{removed:0,remaining:0};try{console.log("\ud83e\uddf9 Starting cleanup: Removing ".concat(t.length," master IDs from cache"));const o=await a.hybridCache.getCompleteSalesData(e,n);if(!o||!o.data||!o.data.vouchers||!Array.isArray(o.data.vouchers))return console.log("\u2139\ufe0f No cached vouchers found, nothing to clean"),{removed:0,remaining:0};const i=o.data.vouchers.length;console.log("\ud83d\udccb Cache contains ".concat(i," vouchers before cleanup"));const s=new Set(t.map(e=>String(e).trim())),l=new Set(t.map(e=>{const t=parseInt(String(e).trim(),10);return isNaN(t)?null:t}).filter(e=>null!==e)),c=o.data.vouchers.filter(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID;if(null===t||void 0===t||""===t)return!((!e.ledgerentries||!Array.isArray(e.ledgerentries)||0===e.ledgerentries.length)&&(!e.allinventoryentries||!Array.isArray(e.allinventoryentries)||0===e.allinventoryentries.length))||(console.log("\ud83d\uddd1\ufe0f Removing voucher with no master ID and empty entries:",{alterid:e.alterid||e.ALTERID,vouchertypename:e.vouchertypename||e.VOUCHERTYPENAME}),!1);const n=String(t).trim();if(s.has(n))return console.log("\ud83d\uddd1\ufe0f Removing voucher with master ID: ".concat(n)),!1;const r=parseInt(n,10);return!isNaN(r)&&l.has(r)?(console.log("\ud83d\uddd1\ufe0f Removing voucher with master ID (numeric match): ".concat(r)),!1):!((!e.ledgerentries||!Array.isArray(e.ledgerentries)||0===e.ledgerentries.length)&&(!e.allinventoryentries||!Array.isArray(e.allinventoryentries)||0===e.allinventoryentries.length))||(console.log("\ud83d\uddd1\ufe0f Removing voucher with empty entries (master ID: ".concat(n,"):"),{masterid:n,alterid:e.alterid||e.ALTERID,vouchertypename:e.vouchertypename||e.VOUCHERTYPENAME}),!1)}),u=i-c.length,d=c.length;if(console.log("\ud83e\uddf9 Cleanup complete: Removed ".concat(u," vouchers, ").concat(d," remaining")),u>0){const t=o.metadata||{};await a.hybridCache.setCompleteSalesData(e,{vouchers:c},(0,r.A)((0,r.A)({},t),{},{email:n||("undefined"!==typeof sessionStorage?sessionStorage.getItem("email"):null)||"unknown"})),console.log("\u2705 Cache updated: Removed ".concat(u," vouchers with deleted master IDs"))}else console.log("\u2139\ufe0f No matching vouchers found to remove (checked ".concat(t.length," deleted IDs)"));return{removed:u,remaining:d}}catch(x){return console.error("\u274c Error removing vouchers by master ID:",x),{removed:0,remaining:0,error:x.message}}})(e,s.deletedVoucherIds,t);if(n.removed>0){console.log("\u2705 Successfully removed ".concat(n.removed," vouchers from cache"));const r=await a.hybridCache.getCompleteSalesData(e,t);r&&r.data&&r.data.vouchers&&(Y={vouchers:r.data.vouchers},console.log("\ud83d\udccb Cache updated: ".concat(Y.vouchers.length," vouchers remaining after cleanup")))}else console.log("\u2139\ufe0f No matching vouchers found to remove (checked ".concat(s.deletedVoucherIds.length," deleted IDs)"))}else console.log("\u2139\ufe0f No deleted vouchers found or empty response from deletedvouchers API")}catch(x){console.warn("\u26a0\ufe0f Error checking for deleted vouchers (non-critical, update continues):",x.message)}H=!1}if(!H&&!W||q)if(V&&V.vouchers&&Array.isArray(V.vouchers))if(G=V.vouchers,console.log("\ud83d\udce5 API returned ".concat(G.length," vouchers (non-chunked path)")),N){let n=Q;if(0===n.length){console.warn("\u26a0\ufe0f Pre-loaded existing vouchers is empty, attempting to load from cache...");try{const r=await a.hybridCache.getCompleteSalesData(e,t);r&&r.data&&r.data.vouchers&&r.data.vouchers.length>0?(n=r.data.vouchers,console.log("\ud83d\udcca Loaded ".concat(n.length," existing vouchers for merge (fallback, non-chunked)"))):console.warn("\u26a0\ufe0f No existing vouchers found in cache during fallback load")}catch(x){console.error("\u274c Could not load existing cache for merge (non-chunked):",x)}}if(n.length>0){if(console.log("\ud83d\udd04 Starting merge: ".concat(n.length," existing vouchers + ").concat(G.length," API vouchers")),G.length>0){const e=new Map,t=new Set;n.forEach(n=>{const r=n.mstid||n.MSTID||n.masterid||n.MASTERID,a=n.alterid||n.ALTERID,o=n.vouchernumber||n.voucher_number||n.VCHNO||n.vchno||n.VCHNO,i=n.cp_date||n.DATE||n.date||n.CP_DATE,s=n.amount||n.AMT||n.amt;if(null!==r&&void 0!==r){const t=String(r),o=null!==a&&void 0!==a?"string"===typeof a?parseInt(a,10):a:null;if(isNaN(o))e.has(t)||e.set(t,{voucher:n,alterid:null});else if(e.has(t)){o>e.get(t).alterid&&e.set(t,{voucher:n,alterid:o})}else e.set(t,{voucher:n,alterid:o})}r&&a&&(t.add("".concat(r,"_").concat(a)),t.add("".concat(String(r),"_").concat(String(a)))),o&&i&&(t.add("".concat(o,"_").concat(i)),t.add("".concat(String(o),"_").concat(String(i)))),o&&i&&s&&t.add(JSON.stringify({vchno:String(o),date:String(i),amount:String(s)}))});const r=new Map,a=[];let o=0,i=0;const s=new Set;e.forEach((e,t)=>{r.set(t,e.voucher)}),G.forEach(n=>{const l=n.mstid||n.MSTID||n.masterid||n.MASTERID,c=n.alterid||n.ALTERID,u=n.vouchernumber||n.voucher_number||n.VCHNO||n.vchno||n.VCHNO,d=n.cp_date||n.DATE||n.date||n.CP_DATE;let f=null;if(l&&c?f="".concat(l,"_").concat(c):u&&d&&(f="".concat(u,"_").concat(d)),!f||!t.has(f))if(null!==l&&void 0!==l){const t=String(l),a=null!==c&&void 0!==c?"string"===typeof c?parseInt(c,10):c:null;if(isNaN(a))r.has(t)||(r.set(t,n),i++);else if(r.has(t)){const i=e.get(t);i&&null!==i.alterid&&a>i.alterid&&(r.set(t,n),o++,console.log("\ud83d\udd04 Replacing voucher with masterid ".concat(t,": alterid ").concat(i.alterid," -> ").concat(a)))}else r.set(t,n),i++}else if(f)t.has(f)||s.has(f)||(a.push(n),s.add(f),i++);else{const e=JSON.stringify({vchno:u,date:d,amount:n.amount||n.AMT||n.amt});t.has(e)||s.has(e)||(a.push(n),s.add(e),i++)}}),G=[...r.values(),...a],console.log("\u2705 Merge complete: ".concat(o," replaced, ").concat(i," new vouchers from ").concat(G.length," API vouchers")),console.log("\ud83d\udcca Final merge: ".concat(n.length," existing -> ").concat(G.length," total vouchers (").concat(o," replaced, ").concat(i," new)"))}else console.log("\ud83d\udcca No new vouchers from API, preserving ALL ".concat(n.length," existing vouchers")),G=n;G=y(G),Y={vouchers:G},console.log("\u2705 Merge validation: ".concat(Y.vouchers.length," vouchers in merged data"))}else console.warn("\u26a0\ufe0f Update mode but no existing data found (non-chunked). This might be a first-time download. Using API vouchers only."),console.warn("\u26a0\ufe0f If this is not a first-time download, existing cache may have been lost!"),G=y(G),Y={vouchers:G}}else G=y(G),Y={vouchers:G};else if(N)try{const n=await a.hybridCache.getCompleteSalesData(e,t);if(n&&n.data&&n.data.vouchers&&n.data.vouchers.length>0){console.log("\ud83d\udcca No new data from API, preserving ".concat(n.data.vouchers.length," existing vouchers"));Y={vouchers:y(n.data.vouchers)}}else Y={vouchers:[]}}catch(x){console.error("Error loading existing cache:",x),Y={vouchers:[]}}else Y={vouchers:[]};else{var _,E;let o=F;if(b){const e=p(b);e&&8===e.length&&(o="".concat(e.slice(0,4),"-").concat(e.slice(4,6),"-").concat(e.slice(6,8)))}$=((e,t)=>{const n=[],r=new Date(e),a=new Date(t);let o=new Date(r);for(;o<=a;){let e=new Date(o);e.setDate(e.getDate()+1),e>a&&(e=new Date(a)),n.push({start:o.toISOString().split("T")[0],end:e.toISOString().split("T")[0]}),o.setDate(o.getDate()+2)}return n})(o,F);const i=(null===(_=c)||void 0===_?void 0:_.chunksCompleted)||0;n({current:i,total:$.length,message:"Syncing ".concat(e.company,": Resuming from chunk ").concat(i+1," of ").concat($.length,"..."),companyGuid:e.guid,companyName:e.company});try{await a.hybridCache.setDashboardState(l,{email:t,companyGuid:e.guid,tallylocId:e.tallyloc_id,status:"in_progress",lastUpdated:Date.now(),chunksCompleted:i,totalChunks:$.length})}catch(C){console.warn("Could not save progress state:",C)}for(let c=i;c<$.length;c++){const o=$[c];n({current:c+1,total:$.length,message:"Syncing ".concat(e.company,": ").concat(c+1," / ").concat($.length," chunks"),companyGuid:e.guid,companyName:e.company});const i=(0,r.A)((0,r.A)({},z),{},{fromdate:g(o.start),todate:g(o.end),serverslice:"No"});try{const r=await h(B,{method:"POST",headers:U,body:JSON.stringify(i)},3e5,10),o=await r.text();if(o){const e=JSON.parse(o);e&&e.vouchers&&Array.isArray(e.vouchers)&&G.push(...e.vouchers)}try{const n={email:t,companyGuid:e.guid,tallylocId:e.tallyloc_id,status:"in_progress",lastUpdated:Date.now(),chunksCompleted:c+1,totalChunks:$.length};await a.hybridCache.setDashboardState(l,n),console.log("\ud83d\udcca Progress updated: ".concat(c+1,"/").concat($.length," chunks for ").concat(e.company))}catch(C){console.warn("Could not save chunk progress:",C)}n&&n({current:c+1,total:$.length,message:"Syncing ".concat(e.company,": ").concat(c+1," / ").concat($.length," chunks"),companyGuid:e.guid,companyName:e.company})}catch(A){const t=A.message.includes("HTTP 500")||A.message.includes("500")||A.message.includes("Internal Server Error"),r=A.message.includes("CORS")||A.message.includes("cors")||A.message.includes("Access-Control")||"TypeError"===A.name&&A.message.includes("Failed to fetch");if(t||r){console.error("\u274c Critical error fetching chunk ".concat(c+1,"/").concat($.length," for ").concat(e.company,":"),A);throw new Error("Download stopped due to ".concat(t?"500 Internal Server Error":"CORS Error"," at chunk ").concat(c+1,"/").concat($.length," for ").concat(e.company,". ")+"Please retry the download. Error: ".concat(A.message))}console.error("\u274c Error fetching chunk ".concat(c+1,"/").concat($.length," for ").concat(e.company,":"),A),console.warn("\u26a0\ufe0f Continuing with next chunk despite error in chunk ".concat(c+1)),n&&n({current:c+1,total:$.length,message:"Syncing ".concat(e.company,": ").concat(c+1," / ").concat($.length," chunks (chunk ").concat(c+1," failed, continuing...)"),companyGuid:e.guid,companyName:e.company});continue}}let s=null;try{s=await a.hybridCache.getDashboardState(l)}catch(C){}const u=(null===(E=s)||void 0===E?void 0:E.failedChunks)||[];if(u.length>0){console.log("\ud83d\udd04 Retrying ".concat(u.length," failed chunks..."));for(const t of u){if(t>=$.length)continue;const a=$[t],o=(0,r.A)((0,r.A)({},z),{},{fromdate:g(a.start),todate:g(a.end),serverslice:"No"});try{console.log("\ud83d\udd04 Retrying chunk ".concat(t+1,"/").concat($.length,"..."));const r=await h(B,{method:"POST",headers:U,body:JSON.stringify(o)},3e5,5),a=await r.text();if(a){const e=JSON.parse(a);e&&e.vouchers&&Array.isArray(e.vouchers)&&(G.push(...e.vouchers),console.log("\u2705 Successfully retried chunk ".concat(t+1)))}n&&n({current:$.length,total:$.length,message:"Syncing ".concat(e.company,": Retrying failed chunks... (").concat(u.length-(u.indexOf(t)+1)," remaining)"),companyGuid:e.guid,companyName:e.company})}catch(D){console.error("\u274c Retry failed for chunk ".concat(t+1,":"),D);const n=D.message.includes("HTTP 500")||D.message.includes("500")||D.message.includes("Internal Server Error"),r=D.message.includes("CORS")||D.message.includes("cors")||D.message.includes("Access-Control")||"TypeError"===D.name&&D.message.includes("Failed to fetch");if(n||r){throw new Error("Download stopped due to ".concat(n?"500 Internal Server Error":"CORS Error"," while retrying chunk ").concat(t+1," for ").concat(e.company,". ")+"Please retry the download. Error: ".concat(D.message))}}}}if(N){console.log("\ud83d\udd04 Chunked path: Processing update merge with ".concat(G.length," vouchers from chunks"));let n=Q;if(0===n.length){console.warn("\u26a0\ufe0f Pre-loaded existing vouchers is empty in chunked path, attempting to load from cache...");try{const r=await a.hybridCache.getCompleteSalesData(e,t);r&&r.data&&r.data.vouchers&&r.data.vouchers.length>0?(n=r.data.vouchers,console.log("\ud83d\udcca Loaded ".concat(n.length," existing vouchers for merge (fallback, chunked)"))):console.warn("\u26a0\ufe0f No existing vouchers found in cache during fallback load (chunked)")}catch(x){console.error("\u274c Could not load existing cache for merge (chunked):",x)}}if(n.length>0){if(console.log("\ud83d\udd04 Starting merge: ".concat(n.length," existing vouchers + ").concat(G.length," chunk vouchers")),G.length>0){const e=new Map,t=new Set;n.forEach(n=>{const r=n.mstid||n.MSTID||n.masterid||n.MASTERID,a=n.alterid||n.ALTERID,o=n.vouchernumber||n.voucher_number||n.VCHNO||n.vchno||n.VCHNO,i=n.cp_date||n.DATE||n.date||n.CP_DATE,s=n.amount||n.AMT||n.amt;if(null!==r&&void 0!==r){const t=String(r),o=null!==a&&void 0!==a?"string"===typeof a?parseInt(a,10):a:null;if(isNaN(o))e.has(t)||e.set(t,{voucher:n,alterid:null});else if(e.has(t)){o>e.get(t).alterid&&e.set(t,{voucher:n,alterid:o})}else e.set(t,{voucher:n,alterid:o})}r&&a&&(t.add("".concat(r,"_").concat(a)),t.add("".concat(String(r),"_").concat(String(a)))),o&&i&&(t.add("".concat(o,"_").concat(i)),t.add("".concat(String(o),"_").concat(String(i)))),o&&i&&s&&t.add(JSON.stringify({vchno:String(o),date:String(i),amount:String(s)}))});const r=new Map,a=[];let o=0,i=0;const s=new Set;e.forEach((e,t)=>{r.set(t,e.voucher)}),G.forEach(n=>{const l=n.mstid||n.MSTID||n.masterid||n.MASTERID,c=n.alterid||n.ALTERID,u=n.vouchernumber||n.voucher_number||n.VCHNO||n.vchno||n.VCHNO,d=n.cp_date||n.DATE||n.date||n.CP_DATE;let f=null;if(l&&c?f="".concat(l,"_").concat(c):u&&d&&(f="".concat(u,"_").concat(d)),!f||!t.has(f))if(null!==l&&void 0!==l){const t=String(l),a=null!==c&&void 0!==c?"string"===typeof c?parseInt(c,10):c:null;if(isNaN(a))r.has(t)||(r.set(t,n),i++);else if(r.has(t)){const i=e.get(t);i&&null!==i.alterid&&a>i.alterid&&(r.set(t,n),o++,console.log("\ud83d\udd04 Replacing voucher with masterid ".concat(t,": alterid ").concat(i.alterid," -> ").concat(a)))}else r.set(t,n),i++}else if(f)t.has(f)||s.has(f)||(a.push(n),s.add(f),i++);else{const e=JSON.stringify({vchno:u,date:d,amount:n.amount||n.AMT||n.amt});t.has(e)||s.has(e)||(a.push(n),s.add(e),i++)}}),G=[...r.values(),...a],console.log("\u2705 Merge complete: ".concat(o," replaced, ").concat(i," new vouchers from ").concat(G.length," chunk vouchers")),console.log("\ud83d\udcca Final merge: ".concat(n.length," existing -> ").concat(G.length," total vouchers (").concat(o," replaced, ").concat(i," new)"))}else console.log("\ud83d\udcca No new vouchers from chunks, preserving ALL ".concat(n.length," existing vouchers")),G=n;G=y(G),Y={vouchers:G},console.log("\u2705 Merge validation: ".concat(Y.vouchers.length," vouchers in merged data"))}else console.warn("\u26a0\ufe0f Update mode but no existing data found (chunked), using new vouchers only"),console.warn("\u26a0\ufe0f If this is not a first-time download, existing cache may have been lost!"),G=y(G),Y={vouchers:G}}else G=y(G),Y={vouchers:G}}if(N&&(!Y.vouchers||!Array.isArray(Y.vouchers)||0===Y.vouchers.length)){console.warn("\u26a0\ufe0f Update resulted in empty merged data, attempting to preserve existing cache...");try{const n=await a.hybridCache.getCompleteSalesData(e,t);if(n&&n.data&&n.data.vouchers&&n.data.vouchers.length>0){const e=y(n.data.vouchers);Y={vouchers:e},console.log("\u2705 Preserved ".concat(e.length," existing vouchers from cache (no new data from update, after deduplication)"))}else console.warn("\u26a0\ufe0f Update resulted in empty data and no existing cache found, but continuing..."),Y={vouchers:[]}}catch(x){console.error("\u274c Could not load existing cache for final validation:",x),Y={vouchers:[]}}}if(Y&&Y.vouchers&&Array.isArray(Y.vouchers)||(console.warn("\u26a0\ufe0f Invalid data structure, initializing empty vouchers array"),Y={vouchers:[]}),N&&Q.length>0){const e=Y.vouchers.length,t=Q.length;if(e<t){console.error("\u274c CRITICAL VALIDATION FAILED: Final voucher count (".concat(e,") is less than original (").concat(t,")!")),console.error("\u274c This indicates data loss during merge. Attempting emergency recovery...");try{const e=[...Q];G&&G.length>0&&e.push(...G);Y={vouchers:y(e)},console.log("\u2705 Emergency recovery complete: ".concat(Y.vouchers.length," vouchers preserved"))}catch(I){console.error("\u274c Emergency recovery failed:",I);Y={vouchers:y(Q)},console.log("\u26a0\ufe0f Using existing vouchers only as last resort: ".concat(Y.vouchers.length," vouchers"))}}else console.log("\u2705 Validation passed: Final count (".concat(e,") >= original count (").concat(t,")"))}if(N&&Q.length>0){const n=Y.vouchers.length,r=Q.length;if(console.log("\ud83d\udd0d Pre-save validation: Original=".concat(r,", Final=").concat(n)),n<r){console.error("\u274c CRITICAL: About to save ".concat(n," vouchers but we had ").concat(r," originally!")),console.error("\u274c This would result in data loss. Attempting emergency recovery...");try{const o=await a.hybridCache.getCompleteSalesData(e,t);if(!(o&&o.data&&o.data.vouchers&&o.data.vouchers.length>0))throw console.error("\u274c Emergency recovery failed: Could not load existing data"),new Error("Cannot save: Would lose ".concat(r-n," vouchers. Aborting save to prevent data loss."));{const e=o.data.vouchers;console.log("\ud83d\udea8 Emergency: Loaded ".concat(e.length," existing vouchers"));const t=new Set;e.forEach(e=>{const n=e.mstid||e.MSTID||e.masterid||e.MASTERID,r=e.alterid||e.ALTERID;n&&r&&(t.add("".concat(n,"_").concat(r)),t.add("".concat(String(n),"_").concat(String(r))))});const n=Y.vouchers.filter(e=>{const n=e.mstid||e.MSTID||e.masterid||e.MASTERID,r=e.alterid||e.ALTERID;return!n||!r||!t.has("".concat(n,"_").concat(r))&&!t.has("".concat(String(n),"_").concat(String(r)))}),r=[...e,...n];Y={vouchers:y(r)},console.log("\u2705 Emergency recovery: ".concat(e.length," existing + ").concat(n.length," new = ").concat(Y.vouchers.length," total (after deduplication)"))}}catch(T){throw console.error("\u274c Emergency recovery error:",T),new Error("Cannot save merged data: Would result in data loss. Original: ".concat(r,", Final: ").concat(n,". Error: ").concat(T.message))}}else console.log("\u2705 Pre-save validation passed: Final count (".concat(n,") >= Original count (").concat(r,")"))}Y&&Y.vouchers&&Array.isArray(Y.vouchers)&&(Y.vouchers=y(Y.vouchers));const J=m(Y),X=N?R:null,Z={booksfrom:b||g(F),lastaltid:J};if(console.log("\ud83d\udcca LastAltId calculation: Previous=".concat(X,", New=").concat(J,", Vouchers=").concat(Y.vouchers.length)),N&&null!==X&&null!==J&&(J>X?console.log("\u2705 LastAltId updated: ".concat(X," -> ").concat(J," (+").concat(J-X,")")):J===X?console.log("\u2139\ufe0f LastAltId unchanged: ".concat(J)):console.warn("\u26a0\ufe0f LastAltId decreased: ".concat(X," -> ").concat(J," (this might indicate an issue)"))),N&&Q.length>0){const e=Y.vouchers.length,t=Q.length,n=new Set,r=[];Q.forEach(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID;null!==t&&void 0!==t?n.add(String(t)):r.push(e)});const a=new Set,o=[];Y.vouchers.forEach(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID;null!==t&&void 0!==t?a.add(String(t)):o.push(e)});const i=[];n.forEach(e=>{a.has(e)||i.push(e)});const s=t-e,l=Math.max(100,.1*t);if(i.length>0){console.error("\u274c FINAL VALIDATION FAILED: Missing masterids: ".concat(i.length),i.slice(0,10)),console.error("\u274c This indicates data loss. Attempting emergency recovery..."),console.log("\ud83d\udea8 EMERGENCY: Forcing merge with ALL existing vouchers...");const e=[...Q,...Y.vouchers],r=y(e);Y={vouchers:r},console.log("\u2705 Emergency merge complete: ".concat(r.length," vouchers (").concat(t," existing + ").concat(r.length-t," new, after deduplication)"));const a=new Set;Y.vouchers.forEach(e=>{const t=e.mstid||e.MSTID||e.masterid||e.MASTERID;null!==t&&void 0!==t&&a.add(String(t))});const o=[];if(n.forEach(e=>{a.has(e)||o.push(e)}),o.length>0)throw new Error("EMERGENCY MERGE FAILED: Still missing ".concat(o.length," masterids after emergency merge. Aborting."))}else if(s>l)if(console.warn("\u26a0\ufe0f Large count difference: ".concat(s," vouchers (").concat(t," -> ").concat(e,")")),console.warn("\u26a0\ufe0f This might be due to deduplication. Checking masterid coverage..."),a.size>=.95*n.size)console.log("\u2705 Masterid coverage is good (".concat(a.size,"/").concat(n.size,"), allowing save"));else{console.error("\u274c Masterid coverage is poor (".concat(a.size,"/").concat(n.size,"), attempting recovery..."));const e=[...Q,...Y.vouchers];Y={vouchers:y(e)}}else console.log("\u2705 Final validation passed: All ".concat(n.size," masterids are covered (").concat(t," -> ").concat(e," vouchers, ").concat(s," removed via deduplication/replacement)"))}if(console.log("\ud83d\udcbe About to save ".concat(Y.vouchers.length," vouchers to cache (isUpdate=").concat(N,", useNewUpdateApi=").concat(q,")")),N&&Q.length>0&&console.log("\ud83d\udcbe Update save: ".concat(Q.length," original vouchers should be preserved in the ").concat(Y.vouchers.length," total vouchers")),N&&Y.vouchers.length>0){const e=Y.vouchers.slice(0,3).map(e=>({mstid:e.mstid||e.MSTID||e.masterid||e.MASTERID,alterid:e.alterid||e.ALTERID,vchno:e.voucher_number||e.VCHNO||e.vchno||e.VCHNO}));console.log("\ud83d\udccb Sample merged vouchers:",e)}if(console.log("\ud83d\udcbe Calling hybridCache.setCompleteSalesData..."),await a.hybridCache.setCompleteSalesData(e,Y,(0,r.A)((0,r.A)({},Z),{},{email:t})),console.log("\u2705 hybridCache.setCompleteSalesData completed"),N&&Q.length>0)try{const n=await a.hybridCache.getCompleteSalesData(e,t);if(n&&n.data&&n.data.vouchers){var k;const e=n.data.vouchers.length,t=(null===(k=n.metadata)||void 0===k?void 0:k.lastaltid)||m(n.data);console.log("\u2705 Post-save verification: ".concat(e," vouchers in cache, lastaltid=").concat(t)),e<Q.length?console.error("\u274c POST-SAVE VERIFICATION FAILED: Only ".concat(e," vouchers saved, expected at least ").concat(Q.length)):console.log("\u2705 Post-save verification passed: ".concat(e," >= ").concat(Q.length)),t!==J?console.warn("\u26a0\ufe0f LastAltId mismatch: Expected ".concat(J,", Got ").concat(t)):console.log("\u2705 LastAltId saved correctly: ".concat(t))}}catch(O){console.warn("\u26a0\ufe0f Could not verify saved data:",O)}try{await a.hybridCache.setDashboardState(l,{email:t,companyGuid:e.guid,tallylocId:e.tallyloc_id,status:"completed",lastSyncedAlterId:J,lastSyncedDate:F,lastUpdated:Date.now(),chunksCompleted:$?$.length:0,totalChunks:$?$.length:0})}catch(C){console.warn("Could not mark progress as completed:",C)}return console.log("\u2705 Successfully stored ".concat(Y.vouchers.length," vouchers in cache")),{success:!0,count:Y.vouchers.length,lastAlterId:J}}catch(x){try{await a.hybridCache.setDashboardState(l,{email:t,companyGuid:e.guid,tallylocId:e.tallyloc_id,status:"failed",lastUpdated:Date.now(),error:x.message})}catch(C){console.error("Failed to save error state:",C)}throw console.error("Error syncing sales data:",x),x}};const k=new class{constructor(){this.isSyncing=!1,this.progress={current:0,total:0,message:""},this.companyInfo=null,this.syncPromise=null,this.subscribers=new Set,this.syncStartTime=null,this.autoSyncQueue=[],this.autoSyncInProgress=!1,this.initialized=!1}async init(){if(this.initialized)return;const e=_();if(!e)return console.log("No user email found, skipping sync initialization"),void(this.initialized=!0);try{await this.resumeIncompleteSyncs(e)}catch(t){console.error("Error initializing sync manager:",t)}this.initialized=!0;window.addEventListener("connectionsUpdated",()=>{this.handleConnectionsUpdate()});window.addEventListener("storage",e=>{"allConnections"===e.key&&this.handleConnectionsUpdate()});try{sessionStorage.getItem("allConnections")&&setTimeout(()=>{this.handleConnectionsUpdate()},1e3)}catch(n){}}async resumeIncompleteSyncs(e){try{const n=sessionStorage.getItem("allConnections");if(!n)return;const r=JSON.parse(n).filter(e=>"Connected"===e.status&&("Internal"===e.access_type||"Full Access"===e.access_type));for(const o of r){const n=b(e,o.guid,o.tallyloc_id);try{const e=await a.hybridCache.getDashboardState(n);e&&"in_progress"===e.status&&(console.log("\ud83d\udccb Found incomplete sync for ".concat(o.company,", resuming...")),this.queueCompanyForSync(o))}catch(t){}}this.autoSyncQueue.length>0&&this.processAutoSyncQueue()}catch(n){console.error("Error resuming incomplete syncs:",n)}}async handleConnectionsUpdate(){const e=_();if(e)try{const n=sessionStorage.getItem("allConnections");if(!n)return;const r=JSON.parse(n).filter(e=>"Connected"===e.status&&("Internal"===e.access_type||"Full Access"===e.access_type));for(const o of r){if(this.autoSyncQueue.find(e=>e.guid===o.guid&&e.tallyloc_id===o.tallyloc_id))continue;if(this.isSyncing&&this.companyInfo&&this.companyInfo.guid===o.guid&&this.companyInfo.tallyloc_id===o.tallyloc_id)continue;const n=b(e,o.guid,o.tallyloc_id);try{const e=await a.hybridCache.getDashboardState(n);(!e||"completed"!==e.status&&"in_progress"!==e.status)&&this.queueCompanyForSync(o)}catch(t){this.queueCompanyForSync(o)}}this.autoSyncQueue.length>0&&!this.autoSyncInProgress&&this.processAutoSyncQueue()}catch(n){console.error("Error handling connections update:",n)}}async startAutoSyncForCompanies(e){if(!e||0===e.length)return;const t=_();if(!t)return void console.warn("Cannot start auto-sync: no user email found");const n=e.filter(e=>"Connected"===e.status&&("Internal"===e.access_type||"Full Access"===e.access_type));console.log("\ud83d\ude80 Starting auto-sync for ".concat(n.length," companies"));for(const o of n){const e=b(t,o.guid,o.tallyloc_id);try{const t=await a.hybridCache.getDashboardState(e);t&&"completed"===t.status||this.queueCompanyForSync(o)}catch(r){this.queueCompanyForSync(o)}}this.processAutoSyncQueue()}queueCompanyForSync(e){this.autoSyncQueue.find(t=>t.guid===e.guid&&t.tallyloc_id===e.tallyloc_id)||this.autoSyncQueue.push(e)}async processAutoSyncQueue(){if(this.autoSyncInProgress||0===this.autoSyncQueue.length)return;this.autoSyncInProgress=!0;const e=_();for(;this.autoSyncQueue.length>0;){const n=this.autoSyncQueue.shift();try{console.log("\ud83d\udd04 Auto-syncing company: ".concat(n.company)),await this.startSync(n,async(t,n)=>await E(t,e,n))}catch(t){console.error("\u274c Auto-sync failed for ".concat(n.company,":"),t)}}this.autoSyncInProgress=!1}subscribe(e){return this.subscribers.add(e),this.isSyncing&&e(this.progress),()=>{this.subscribers.delete(e)}}notifySubscribers(e){this.progress=e,this.subscribers.forEach(t=>{try{t(e)}catch(n){console.error("Error in sync progress subscriber:",n)}})}isSyncInProgress(){return this.isSyncing}getProgress(){return(0,r.A)({},this.progress)}async getCompanyProgress(e){const t=_();if(!t||!e)return null;if(this.isSyncing&&this.companyInfo&&this.companyInfo.guid===e.guid&&this.companyInfo.tallyloc_id===e.tallyloc_id)return(0,r.A)((0,r.A)({},this.progress),{},{companyGuid:e.guid,companyName:e.company});const n=b(t,e.guid,e.tallyloc_id);try{const t=await a.hybridCache.getDashboardState(n);if(t&&"in_progress"===t.status){const n=t.chunksCompleted||0,r=t.totalChunks||0;return{current:n,total:r,message:r>0?"Syncing ".concat(e.company,": ").concat(n," / ").concat(r," chunks"):"Syncing ".concat(e.company,"..."),companyGuid:e.guid,companyName:e.company}}return null}catch(o){return console.error("Error getting company progress:",o),null}}getCompanyInfo(){return this.companyInfo}isSameCompany(e){return!(!this.companyInfo||!e)&&(this.companyInfo.tallyloc_id===e.tallyloc_id&&this.companyInfo.guid===e.guid)}async startSync(e,t){if(this.isSyncing&&this.isSameCompany(e))return this.syncPromise;if(this.isSyncing&&!this.isSameCompany(e))try{await this.syncPromise}catch(n){}this.isSyncing=!0,this.companyInfo=e,this.syncStartTime=Date.now(),this.notifySubscribers({current:0,total:0,message:"Starting sync..."});return this.syncPromise=t(e,e=>{this.notifySubscribers(e)}).then(e=>(console.log("\u2705 Sync completed successfully"),e)).catch(e=>{throw console.error("\u274c Sync failed:",e),e}).finally(()=>{this.isSyncing=!1,this.companyInfo=null,this.syncPromise=null,this.syncStartTime=null,setTimeout(()=>{this.isSyncing||this.notifySubscribers({current:0,total:0,message:""})},1e3)}),this.syncPromise}cancelSync(){this.isSyncing&&(console.log("\ud83d\uded1 Cancelling sync..."),this.isSyncing=!1,this.companyInfo=null,this.syncPromise=null,this.syncStartTime=null,this.notifySubscribers({current:0,total:0,message:"Cancelled"}))}},C=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("No company selected");const r=_();if(!r)throw new Error("No user email found");const a=k.subscribe(t);try{const t=await k.startSync(e,async(e,t)=>await E(e,r,t,n));return t}finally{a()}},x=e=>{try{const t=sessionStorage.getItem("".concat(e,"_chunks"));if(t){const n=parseInt(t,10);let r="";for(let t=0;t<n;t++){const n=sessionStorage.getItem("".concat(e,"_chunk_").concat(t));if(null===n)throw new Error("Missing chunk ".concat(t," for key ").concat(e));r+=n}return r}return sessionStorage.getItem(e)}catch(t){return console.error("Error retrieving data from sessionStorage:",t),null}},D=async e=>{try{const n=await a.hybridCache.getSalesData(e);if(n&&n.ledgers&&Array.isArray(n.ledgers))return n.ledgers;const r=x(e);if(r)try{const e=JSON.parse(r);return Array.isArray(e)?e:e.ledgers||null}catch(t){console.warn("Error parsing cached customers:",t)}return null}catch(n){console.error("Error getting customers from OPFS:",n);try{const t=x(e);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:e.ledgers||null}}catch(t){}return null}},P=async e=>{try{const n=await a.hybridCache.getSalesData(e);if(n&&n.stockItems&&Array.isArray(n.stockItems))return n.stockItems;const r=x(e);if(r)try{const e=JSON.parse(r);return Array.isArray(e)?e:e.stockItems||null}catch(t){console.warn("Error parsing cached items:",t)}return null}catch(n){console.error("Error getting items from OPFS:",n);try{const t=x(e);if(t){const e=JSON.parse(t);return Array.isArray(e)?e:e.stockItems||null}}catch(t){}return null}},A=async e=>{if(!e)throw new Error("No company selected");const{tallyloc_id:t,company:n,guid:r}=e,i="ledgerlist-w-addrs_".concat(t,"_").concat(n);try{const e=await(0,o.apiPost)("/api/tally/ledgerlist-w-addrs?ts=".concat(Date.now()),{tallyloc_id:t,company:n,guid:r});if(e&&e.ledgers&&Array.isArray(e.ledgers)){const t=(JSON.stringify(e.ledgers).length/1048576).toFixed(2);console.log("\ud83d\udcca Customer data size: ".concat(t," MB (").concat(e.ledgers.length," customers)"));try{console.log("\ud83e\uddf9 Clearing old cache data for key: ".concat(i)),await a.hybridCache.deleteCacheKey(i),console.log("\u2705 Old cache cleared")}catch(s){console.warn("Could not clear old cache (might not exist):",s.message)}console.log("\ud83d\udd04 Storing ".concat(e.ledgers.length," customers in OPFS with key: ").concat(i)),await a.hybridCache.setSalesData(i,{ledgers:e.ledgers},null),console.log("\u2705 Successfully stored in OPFS");try{sessionStorage.setItem("".concat(i,"_count"),e.ledgers.length.toString())}catch(l){console.warn("Could not store customer count in sessionStorage:",l)}return console.log("\u2705 Stored ".concat(e.ledgers.length," customers in OPFS/IndexedDB")),{success:!0,count:e.ledgers.length}}throw new Error((null===e||void 0===e?void 0:e.error)||"Failed to fetch customers")}catch(c){throw console.error("Error syncing customers:",c),c}},I=async e=>{if(!e)throw new Error("No company selected");const{tallyloc_id:t,company:n,guid:r}=e,s="stockitems_".concat(t,"_").concat(n);try{const e=await(0,o.apiPost)("/api/tally/stockitem?ts=".concat(Date.now()),{tallyloc_id:t,company:n,guid:r});if(e&&e.stockItems&&Array.isArray(e.stockItems)){const t=(0,i.qb)(e.stockItems),n=(JSON.stringify(t).length/1048576).toFixed(2);console.log("\ud83d\udcca Item data size: ".concat(n," MB (").concat(t.length," items)"));try{console.log("\ud83e\uddf9 Clearing old cache data for key: ".concat(s)),await a.hybridCache.deleteCacheKey(s),console.log("\u2705 Old cache cleared")}catch(l){console.warn("Could not clear old cache (might not exist):",l.message)}await a.hybridCache.setSalesData(s,{stockItems:t},null);try{sessionStorage.setItem("".concat(s,"_count"),t.length.toString())}catch(c){console.warn("Could not store item count in sessionStorage:",c)}return console.log("\u2705 Stored ".concat(t.length," items in OPFS/IndexedDB")),{success:!0,count:t.length}}throw new Error((null===e||void 0===e?void 0:e.error)||"Failed to fetch stock items")}catch(u){throw console.error("Error syncing items:",u),u}}},89379(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(64467);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},98748(e,t,n){"use strict";n.d(t,{qb:()=>c,vI:()=>s});var r=n(89379);e=n.hmd(e);const a="TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT";function o(e){if(!e||"string"!==typeof e)return e;console.log("Attempting to deobfuscate:",e);try{if(e.length<4||!/^[A-Za-z0-9+/=]+$/.test(e))return console.log("Value not obfuscated (not base64):",e),e;if("ZA=="===e)return console.log('Detected base64 "0", returning 0'),0;const t=function(e){try{const t=atob(e);return console.log("Base64 decoded:",e,"\u2192",t),t}catch(t){return console.error("Base64 decode error for:",e,t),e}}(e);if(t===e)return console.log("Base64 decode failed, returning original:",e),e;console.log("XOR key:",a),console.log("XOR key length:",a.length);let n="";for(let e=0;e<t.length;e++){const r=t.charCodeAt(e),o=a.charCodeAt(e%a.length),i=r^o;n+=String.fromCharCode(i),e<5&&console.log("Char ".concat(e,": ").concat(r," ^ ").concat(o," = ").concat(i," \u2192 '").concat(String.fromCharCode(i),"'"))}console.log("Deobfuscated result:",n);const r=parseFloat(n);return isNaN(r)?n:(console.log("Converted to number:",r),r)}catch(t){return console.error("Deobfuscation error for:",e,t),e}}function i(e){if(!e||"string"!==typeof e)return e;if(console.log("Trying alternative deobfuscation for:",e),"ZA=="===e)return console.log('Alternative method: Detected base64 "0", returning 0'),0;try{const n=["TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT"];for(const r of n)try{const t=atob(e);let n="";for(let e=0;e<t.length;e++){const a=t.charCodeAt(e),o=r.charCodeAt(e%r.length);n+=String.fromCharCode(a^o)}const a=parseFloat(n);if(!isNaN(a)&&a>=0&&a<1e4)return console.log("Alternative deobfuscation succeeded with key:",r,"Result:",a),a}catch(t){}return console.log("Alternative deobfuscation failed for:",e),e}catch(n){return console.error("Alternative deobfuscation error:",n),e}}function s(e){if(!e||"string"!==typeof e)return e;console.log("Enhanced deobfuscation for:",e);const t=function(e){const t={"ZA==":0,"MA==":0,"":0,0:0,"N/A":"N/A",null:null,undefined:void 0};return t.hasOwnProperty(e)?(console.log("Common base64 value detected:",e,"\u2192",t[e]),t[e]):null}(e);if(null!==t)return console.log("Enhanced: Returning common value:",t),t;const n=o(e);if(n!==e)return console.log("Enhanced: Main method succeeded:",n),n;const r=i(e);return r!==e?(console.log("Enhanced: Alternative method succeeded:",r),r):(console.log("Enhanced: All deobfuscation methods failed for:",e),e)}function l(e){if(!e)return e;console.log("Deobfuscating stock item:",e.NAME),console.log("STDPRICE before:",e.STDPRICE),console.log("LASTPRICE before:",e.LASTPRICE);const t=(0,r.A)((0,r.A)({},e),{},{STDPRICE:s(e.STDPRICE),LASTPRICE:s(e.LASTPRICE),PRICELEVELS:e.PRICELEVELS?e.PRICELEVELS.map(e=>(0,r.A)((0,r.A)({},e),{},{RATE:s(e.RATE)})):[]});return console.log("STDPRICE after:",t.STDPRICE),console.log("LASTPRICE after:",t.LASTPRICE),t}function c(e){if(!Array.isArray(e))return e;console.log("Deobfuscating stock items:",e.length);const t=e.map(e=>l(e));return console.log("Deobfuscation complete:",t),t}console.log("Deobfuscation key loaded:",a),console.log("Environment variable REACT_APP_ENCRYPTION_KEY:","TYGpnfpnVrGSBfv7yEdIzRO4ug7Q6YoT"),e.exports&&(e.exports={deobfuscateValue:o,deobfuscateValueAlternative:i,deobfuscateStockItem:l,deobfuscateStockItems:c,enhancedDeobfuscateValue:s,isObfuscated:function(e){return"string"===typeof e&&e.length>=4&&/^[A-Za-z0-9+/=]+$/.test(e)&&e!==e.toString()}})}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{52:"8ba4b7d1",85:"c8cab7c2",113:"036818b2",146:"498d6ea8",153:"70ca4a25",206:"89326c3c",239:"8d480e11",242:"c7d5accf",253:"a4fc45d5",285:"42b56f55",287:"ceac22d0",491:"cb370617",532:"386a8d9e",669:"c570af9d",753:"914e8aad",760:"5b31bd1f",819:"52ee4c76",852:"c89ac70d",877:"5c00e77e",946:"9ea61ae8"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{85:"8b25674f",113:"8f9f273e",287:"8f9f273e",877:"110f43aa"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="DataLynkr:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/Development/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,r)=>{var a=n.miniCssF(e),o=n.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var i;if((a=(i=o[r]).getAttribute("data-href"))===e||a===t)return i}})(a,o))return t();((e,t,r,a,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",n.nc&&(i.nonce=n.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)a();else{var r=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,i.parentNode&&i.parentNode.removeChild(i),o(l)}},i.href=t,r?r.parentNode.insertBefore(i,r.nextSibling):document.head.appendChild(i)})(e,o,null,t,r)}),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{85:1,113:1,287:1,877:1}[n]&&r.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=o);var i=n.p+n.u(t),s=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,o,[i,s,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkDataLynkr=self.webpackChunkDataLynkr||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(9950),t=n(1352),r=n(28429),a=n(42074),o=n(1049),i=(n(16243),n(34534)),s=n(28357),l=n(44414);const c=function(t){let{onLogin:n}=t;const[c,u]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[h,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(!1),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)(!1),S=(0,r.Zp)(),_=async e=>{e.preventDefault(),e.stopPropagation(),v(""),w(!0);const t=c.trim(),r=d.trim();try{console.log("Sending login request...");const e=await(0,i.apiPost)("/api/login",{email:t,password:r});console.log("Login response:",e),e&&e.error?(console.log("Setting error:",e.error),v(e.error),setTimeout(()=>{v("")},3e3)):e&&e.token?(console.log("Login successful, navigating..."),sessionStorage.setItem("name",e.name),sessionStorage.setItem("email",e.email),sessionStorage.setItem("token",e.token),e.user_type&&sessionStorage.setItem("user_type",e.user_type),n({name:e.name,email:e.email,token:e.token,is_first_login:e.is_first_login,user_type:e.user_type}),1===e.is_first_login?S("/change-password"):S("/admin-dashboard")):(console.log("Invalid response from server"),v("Invalid response from server"),setTimeout(()=>{v("")},3e3))}catch(a){console.log("Login error:",a.message),v(a.message),setTimeout(()=>{v("")},3e3)}finally{w(!1)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.N_,{to:"/home",style:{position:"fixed",top:"20px",left:"20px",zIndex:1e3,padding:"12px 24px",background:"rgba(255, 255, 255, 0.95)",color:"#1e40af",textDecoration:"none",borderRadius:"8px",fontWeight:600,fontSize:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.currentTarget.style.background="#fff",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.95)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",e.currentTarget.style.transform="translateY(0)"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"20px"},children:"home"}),"Home"]}),(0,l.jsxs)("div",{style:{minHeight:"100vh",width:"100vw",position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #e6f4ea 0%, #dbeafe 100%)"},children:[(0,l.jsxs)("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:0},children:[(0,l.jsx)("defs",{children:(0,l.jsx)("pattern",{id:"smallGrid",width:"32",height:"32",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("path",{d:"M 32 0 L 0 0 0 32",fill:"none",stroke:"#b6e0c6",strokeWidth:"0.5"})})}),(0,l.jsx)("rect",{width:"100%",height:"100%",fill:"url(#smallGrid)"})]}),(0,l.jsxs)("svg",{width:"180",height:"180",viewBox:"0 0 64 64",fill:"none",style:{position:"absolute",left:60,bottom:60,opacity:.08,zIndex:1},children:[(0,l.jsx)("rect",{x:"8",y:"12",width:"48",height:"40",rx:"6",fill:"#22c55e"}),(0,l.jsx)("rect",{x:"16",y:"20",width:"32",height:"4",rx:"2",fill:"#fff"}),(0,l.jsx)("rect",{x:"16",y:"28",width:"32",height:"4",rx:"2",fill:"#fff"}),(0,l.jsx)("rect",{x:"16",y:"36",width:"20",height:"4",rx:"2",fill:"#fff"})]}),window.innerWidth<=768?(0,l.jsxs)("div",{style:{width:"95vw",maxWidth:360,background:"#fff",borderRadius:18,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",padding:16,margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",zIndex:2},children:[(0,l.jsx)("div",{style:{fontSize:22,fontWeight:800,color:"#1e40af",marginBottom:12,textAlign:"center"},children:"DataLynkr"}),(0,l.jsx)("img",{src:o,alt:"Tally Logo",style:{width:72,height:72,objectFit:"contain",marginBottom:24,marginTop:0}}),(0,l.jsxs)("form",{onSubmit:_,style:{width:"100%",maxWidth:300},children:[(0,l.jsxs)("div",{style:{marginBottom:12,position:"relative"},children:[(0,l.jsx)("input",{id:"email",type:"email",value:c,onChange:e=>u(e.target.value),required:!0,onFocus:()=>p(!0),onBlur:()=>p(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,l.jsx)("label",{htmlFor:"email",style:{position:"absolute",left:12,top:h||c?"-12px":"10px",fontSize:h||c?12:15,zIndex:10,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Email ID"})]}),(0,l.jsxs)("div",{style:{marginBottom:16,position:"relative"},children:[(0,l.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>f(e.target.value),required:!0,onFocus:()=>m(!0),onBlur:()=>m(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,l.jsx)("label",{htmlFor:"password",style:{position:"absolute",left:12,top:g||d?"-12px":"10px",fontSize:g||d?12:15,zIndex:10,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Password"})]}),y&&(0,l.jsx)("div",{style:{color:"red",fontSize:14,marginBottom:12},children:y}),(0,l.jsx)("button",{type:"submit",disabled:b,style:{width:"100%",padding:"12px 0",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:b?"not-allowed":"pointer",boxShadow:"0 2px 8px 0 rgba(59, 130, 246, 0.10)",marginBottom:12,transition:"background 0.2s",opacity:b?.7:1},children:b?"Logging in...":"Login"}),(0,l.jsx)("div",{style:{textAlign:"right",marginBottom:8},children:(0,l.jsx)(a.N_,{to:"/forgot-password",style:{color:"#3b82f6",fontSize:14,textDecoration:"none",fontWeight:500},children:"Forgot Password?"})}),(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:8},children:(0,l.jsxs)("span",{style:{fontSize:14,color:"#64748b"},children:["Don't have an account? ",(0,l.jsx)(a.N_,{to:"/signup",style:{color:"#1e40af",fontWeight:600,textDecoration:"none"},children:"Sign up"})]})})]})]}):(0,l.jsxs)("div",{style:{display:"flex",width:"90%",maxWidth:800,minHeight:480,background:"#fff",borderRadius:18,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",overflow:"hidden",zIndex:2},children:[(0,l.jsxs)("div",{style:{flex:1.1,background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:"0 36px 48px 0"},children:[(0,l.jsx)("div",{style:{fontSize:32,fontWeight:800,margin:0,marginTop:24,marginLeft:24,letterSpacing:1},children:"DataLynkr"}),(0,l.jsxs)("ul",{style:{fontSize:16,lineHeight:2,margin:"24px 0 0 0",marginLeft:28,color:"#e0e7ef",fontWeight:500,listStyle:"none",paddingLeft:0},children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"dashboard"})," Dashboard"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"menu_book"})," Ledger vouchers"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"receipt_long"})," Bills wise Outstanding"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"inventory_2"})," Stock availability check"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"assignment_turned_in"})," Sales order entry"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"material-icons",style:{verticalAlign:"middle",marginRight:8},children:"more_horiz"})," Many more"]})]})]}),(0,l.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"8px 32px"},children:[(0,l.jsx)("img",{src:o,alt:"Tally Logo",style:{width:160,height:160,objectFit:"contain",marginBottom:20,marginTop:0}}),(0,l.jsxs)("form",{onSubmit:_,style:{width:"100%",maxWidth:300},children:[(0,l.jsxs)("div",{style:{marginBottom:18,position:"relative"},children:[(0,l.jsx)("input",{id:"email",type:"email",value:c,onChange:e=>u(e.target.value),required:!0,onFocus:()=>p(!0),onBlur:()=>p(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,l.jsx)("label",{htmlFor:"email",style:{position:"absolute",left:12,top:h||c?"-12px":"10px",fontSize:h||c?12:15,zIndex:10,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Email ID"})]}),(0,l.jsxs)("div",{style:{marginBottom:40,position:"relative"},children:[(0,l.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>f(e.target.value),required:!0,onFocus:()=>m(!0),onBlur:()=>m(!1),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:15,outline:"none",transition:"border 0.2s",marginBottom:2}}),(0,l.jsx)("label",{htmlFor:"password",style:{position:"absolute",left:12,top:g||d?"-12px":"10px",fontSize:g||d?12:15,zIndex:10,fontWeight:600,color:"#60a5fa",backgroundColor:"#fff",padding:"0 6px",transition:"all 0.25s cubic-bezier(.4,0,.2,1)",pointerEvents:"none",letterSpacing:.5,fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:"Password"})]}),y&&(0,l.jsx)("div",{style:{color:"red",fontSize:14,marginBottom:20},children:y}),(0,l.jsx)("button",{type:"submit",disabled:b,style:{width:"100%",padding:"12px 0",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:b?"not-allowed":"pointer",boxShadow:"0 2px 8px 0 rgba(59, 130, 246, 0.10)",marginBottom:25,transition:"background 0.2s",opacity:b?.7:1},children:b?"Logging in...":"Login"}),(0,l.jsx)("div",{style:{textAlign:"right",marginBottom:10},children:(0,l.jsx)(a.N_,{to:"/forgot-password",style:{color:"#3b82f6",fontSize:14,textDecoration:"none",fontWeight:500},children:"Forgot Password?"})}),(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:10},children:(0,l.jsxs)("span",{style:{fontSize:14,color:"#64748b"},children:["Don't have an account? ",(0,l.jsx)(a.N_,{to:"/signup",style:{color:"#1e40af",fontWeight:600,textDecoration:"none"},children:"Sign up"})]})})]})]})]}),(0,l.jsxs)("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",textAlign:"center",padding:"12px 0",background:"transparent",zIndex:10},children:[(0,l.jsxs)("div",{style:{fontSize:"16px",color:"#64748b",fontFamily:"Segoe UI, Roboto, Arial, sans-serif",fontWeight:"500",marginBottom:"8px"},children:["\xa9 ",(0,l.jsx)("span",{style:{color:s.v.ORANGE_COLOR,fontWeight:"700"},children:s.v.ORANGE_PART})," ",s.v.COMPANY_NAME.replace(s.v.ORANGE_PART,"").trim()]}),(0,l.jsxs)("div",{style:{fontSize:"13px",color:"#64748b",fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:[(0,l.jsx)(a.N_,{to:"/privacy-policy",style:{color:"#3b82f6",textDecoration:"none",margin:"0 12px"},children:"Privacy Policy"}),(0,l.jsx)("span",{style:{color:"#cbd5e1"},children:"|"}),(0,l.jsx)(a.N_,{to:"/terms-of-service",style:{color:"#3b82f6",textDecoration:"none",margin:"0 12px"},children:"Terms of Service"})]})]})]})]})},u=(0,e.lazy)(()=>n.e(491).then(n.bind(n,13491))),d=(0,e.lazy)(()=>n.e(285).then(n.bind(n,57285))),f=(0,e.lazy)(()=>n.e(753).then(n.bind(n,37753))),h=(0,e.lazy)(()=>n.e(287).then(n.bind(n,60287))),p=(0,e.lazy)(()=>Promise.all([n.e(253),n.e(852),n.e(113)]).then(n.bind(n,93113))),g=(0,e.lazy)(()=>Promise.all([n.e(946),n.e(669),n.e(85)]).then(n.bind(n,65442))),m=(0,e.lazy)(()=>n.e(146).then(n.bind(n,52146))),y=(0,e.lazy)(()=>Promise.all([n.e(253),n.e(242),n.e(946),n.e(877)]).then(n.bind(n,47203))),v=(0,e.lazy)(()=>n.e(669).then(n.bind(n,61669))),b=(0,e.lazy)(()=>n.e(153).then(n.bind(n,82153))),w=(0,e.lazy)(()=>n.e(819).then(n.bind(n,12819))),S=(0,e.lazy)(()=>n.e(532).then(n.bind(n,58532)));function _(e){var t,n;let{children:a}=e;const o=sessionStorage.getItem("token"),i=sessionStorage.getItem("email"),s=sessionStorage.getItem("name"),c=1===(null===(t=performance.navigation)||void 0===t?void 0:t.type)||"reload"===(null===(n=performance.getEntriesByType("navigation")[0])||void 0===n?void 0:n.type);return console.log("\ud83d\udd10 ProtectedRoute check:",{isRefresh:c,token:!!o,email:!!i,name:!!s,tokenLength:o?o.length:0,path:window.location.pathname,sessionKeys:Object.keys(sessionStorage),sessionSize:Object.keys(sessionStorage).length}),o&&i?(console.log("\u2705 ProtectedRoute: Auth passed"),a):(console.error("\u274c ProtectedRoute: Auth failed - redirecting to login",{missingToken:!o,missingEmail:!i,isRefresh:c}),(0,l.jsx)(r.C5,{to:"/",replace:!0}))}const E=function(){const[t,o]=(0,e.useState)(null),[i,s]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(!t)return;let e;const n=()=>{e&&clearTimeout(e),e=setTimeout(()=>{E()},36e5)};return window.addEventListener("mousemove",n),window.addEventListener("keydown",n),window.addEventListener("click",n),n(),()=>{clearTimeout(e),window.removeEventListener("mousemove",n),window.removeEventListener("keydown",n),window.removeEventListener("click",n)}},[t]),(0,e.useEffect)(()=>{const e=()=>{localStorage.removeItem("user");const e=JSON.parse(localStorage.getItem("user"));e&&e.username&&(localStorage.removeItem("tallyCompaniesCache_".concat(e.username)),Object.keys(localStorage).forEach(t=>{t.startsWith("tallyLedgersCache_".concat(e.username,"_"))&&localStorage.removeItem(t)}))};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,e.useEffect)(()=>{const e=localStorage.getItem("user");e&&o(JSON.parse(e))},[]);const E=async()=>{try{const e=sessionStorage.getItem("access_type")||"",{isExternalUser:t,clearAllCacheForExternalUser:r}=await Promise.resolve().then(n.bind(n,54996));("external"===e.toLowerCase()||t())&&(console.log("\ud83e\uddf9 Clearing cache for external user on logout..."),await r())}catch(t){console.error("Error clearing cache on logout:",t)}const e=JSON.parse(localStorage.getItem("user"));e&&e.username&&(localStorage.removeItem("tallyCompaniesCache_".concat(e.username)),Object.keys(localStorage).forEach(t=>{t.startsWith("tallyLedgersCache_".concat(e.username,"_"))&&localStorage.removeItem(t)})),o(null),localStorage.removeItem("user")};return(0,l.jsx)(a.Kd,{basename:"/Development",children:(0,l.jsx)(e.Suspense,{fallback:null,children:(0,l.jsxs)(r.BV,{children:[(0,l.jsx)(r.qh,{path:"/",element:(0,l.jsx)(c,{onLogin:e=>{o(e),localStorage.setItem("user",JSON.stringify(e))}})}),(0,l.jsx)(r.qh,{path:"/home",element:(0,l.jsx)(f,{})}),(0,l.jsx)(r.qh,{path:"/signup",element:(0,l.jsx)(u,{})}),(0,l.jsx)(r.qh,{path:"/forgot-password",element:(0,l.jsx)(d,{})}),(0,l.jsx)(r.qh,{path:"/master-form/:token",element:(0,l.jsx)(b,{})}),(0,l.jsx)(r.qh,{path:"/privacy-policy",element:(0,l.jsx)(w,{})}),(0,l.jsx)(r.qh,{path:"/terms-of-service",element:(0,l.jsx)(S,{})}),(0,l.jsx)(r.qh,{path:"/admin-dashboard",element:(0,l.jsx)(_,{children:(0,l.jsx)(g,{})})}),(0,l.jsx)(r.qh,{path:"/change-password",element:(0,l.jsx)(_,{children:(0,l.jsx)(m,{})})}),(0,l.jsx)(r.qh,{path:"/tally-dashboard",element:(0,l.jsx)(_,{children:(0,l.jsx)(y,{})})}),(0,l.jsx)(r.qh,{path:"/subscription",element:(0,l.jsx)(_,{children:(0,l.jsx)(v,{})})}),t&&"admin"===t.role&&(0,l.jsx)(r.qh,{path:"/admin",element:(0,l.jsx)(h,{onLogout:E,onShowTallyConfig:e=>{s(e)}})}),t&&"user"===t.role&&(0,l.jsx)(r.qh,{path:"/user",element:(0,l.jsx)(p,{onLogout:E})})]})})})},k=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,88206)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)})};console.log("\ud83d\ude80\ud83d\ude80\ud83d\ude80 APP STARTING - INITIAL SESSION CHECK \ud83d\ude80\ud83d\ude80\ud83d\ude80"),console.log("\ud83d\ude80 sessionStorage at startup:",{token:!!sessionStorage.getItem("token"),email:!!sessionStorage.getItem("email"),name:!!sessionStorage.getItem("name"),allKeys:Object.keys(sessionStorage),allValues:Object.keys(sessionStorage).reduce((e,t)=>{var n;return e[t]=(null===(n=sessionStorage.getItem(t))||void 0===n?void 0:n.substring(0,30))||null,e},{})}),setTimeout(()=>{Promise.resolve().then(n.bind(n,87743)).then(e=>{let{checkVersionUpdate:t}=e;t()}).catch(e=>{console.warn("Failed to load version check:",e)})},0),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});t.createRoot(document.getElementById("root")).render((0,l.jsx)(E,{})),k()})()})();