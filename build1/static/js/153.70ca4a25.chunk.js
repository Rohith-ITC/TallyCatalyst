"use strict";(self.webpackChunkDataLynkr=self.webpackChunkDataLynkr||[]).push([[153],{82153(e,t,n){n.r(t),n.d(t,{default:()=>u});var o=n(89379),s=n(9950),a=n(42074),i=n(28429),r=n(16243),l=n(44414);const c={FORM_LABELS:{PAN_NUMBER:"PAN Number",MASTER_NAME:"Master Name",ADDRESS:"Address",COUNTRY:"Country",STATE:"State",PINCODE:"Pincode",GST_TYPE:"GST Type",GST_NUMBER:"GST Number",CONTACT_PERSON:"Contact Person",EMAIL_ID:"Email ID",PHONE_NUMBER:"Phone Number",MOBILE_NUMBER:"Mobile Number",ACCOUNT_NUMBER:"Account Number",IFSC_CODE:"IFSC Code",BANK_NAME:"Bank Name"},PLACEHOLDERS:{ACCOUNT_NUMBER:"Enter account number",IFSC:"Enter IFSC code"},COUNTRIES:["India","United States","United Kingdom","Canada","Australia","Germany","France","Japan","China","Brazil","Italy","Spain","Netherlands","Sweden","Norway","Denmark","Finland","Switzerland","Austria","Belgium","Portugal","Ireland","New Zealand","South Korea","Singapore","Hong Kong","Thailand","Malaysia","Indonesia","Philippines","Vietnam","Taiwan","Israel","South Africa","Egypt","Nigeria","Kenya","Morocco","Tunisia","Ghana","Mexico","Argentina","Chile","Colombia","Peru","Venezuela","Uruguay","Paraguay","Bolivia","Ecuador","Russia","Ukraine","Poland","Czech Republic","Hungary","Romania","Bulgaria","Croatia","Slovenia","Slovakia","Turkey","Greece","Cyprus","Malta","Luxembourg","Iceland","Estonia","Latvia","Lithuania","Belarus","Moldova","Serbia","Montenegro","Bosnia and Herzegovina","North Macedonia","Albania","Kosovo","Georgia","Armenia","Azerbaijan","Kazakhstan","Uzbekistan","Kyrgyzstan","Tajikistan","Turkmenistan","Mongolia","Afghanistan","Pakistan","Bangladesh","Sri Lanka","Nepal","Bhutan","Myanmar","Laos","Cambodia","Brunei","Papua New Guinea","Fiji","Samoa","Tonga"],INDIAN_STATES:["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],GST_TYPES:["Registered","Unregistered","Composition","SEZ","Deemed Export"]},p=e=>{let{options:t,value:n,onChange:a,placeholder:i="Type to search...",style:r={},error:c=!1}=e;const[p,d]=(0,s.useState)(!1),[g,m]=(0,s.useState)(""),[x,f]=(0,s.useState)(t),u=(0,s.useRef)(null),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(""===g.trim())f([]);else{const e=g.toLowerCase(),n=t.filter(t=>t.toLowerCase().includes(e)).sort((t,n)=>{const o=t.toLowerCase(),s=n.toLowerCase();if(o===e)return-1;if(s===e)return 1;const a=o.startsWith(e),i=s.startsWith(e);if(a&&!i)return-1;if(!a&&i)return 1;if(a&&i)return t.localeCompare(n);const r=o.indexOf(e),l=s.indexOf(e);return r!==l?r-l:t.localeCompare(n)});f(n)}},[g,t]),(0,s.useEffect)(()=>{n&&!p&&m(n)},[n,p]),(0,s.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&(d(!1),m(n||""))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);const h=e=>{m(e),a(e),d(!1)};return(0,l.jsxs)("div",{ref:u,style:{position:"relative",width:"100%",zIndex:1},children:[(0,l.jsx)("input",{ref:y,type:"text",value:g,onChange:e=>{const t=e.target.value;m(t),t.trim().length>0?d(!0):d(!1),""===t&&a("")},onFocus:()=>{m("")},onKeyDown:e=>{"Escape"===e.key?(d(!1),m(n||"")):"Enter"===e.key&&x.length>0&&(e.preventDefault(),h(x[0]))},placeholder:i,style:(0,o.A)((0,o.A)({},r),{},{border:"1px solid ".concat(c?"#ef4444":p?"#3b82f6":"#d1d5db"),boxShadow:p?"0 0 0 3px rgba(59, 130, 246, 0.1)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)",cursor:"text"}),autoComplete:"off"}),p&&(0,l.jsx)("div",{style:{position:"fixed",top:y.current?y.current.getBoundingClientRect().bottom+window.scrollY:"100%",left:y.current?y.current.getBoundingClientRect().left+window.scrollX:0,width:y.current?y.current.getBoundingClientRect().width:"100%",backgroundColor:"#fff",border:"2px solid #3b82f6",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",zIndex:99999,maxHeight:"200px",overflowY:"auto",minHeight:"50px",display:"block"},children:x.length>0?x.map((e,t)=>(0,l.jsx)("div",{onClick:()=>h(e),style:{padding:"12px 16px",cursor:"pointer",fontSize:"14px",color:"#374151",borderBottom:t<x.length-1?"1px solid #f3f4f6":"none",backgroundColor:"transparent",transition:"background-color 0.2s",fontFamily:"system-ui, -apple-system, sans-serif"},onMouseEnter:e=>{e.target.style.backgroundColor="#f3f4f6"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:((e,t)=>{if(!t.trim())return e;const n=new RegExp("(".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi");return e.split(n).map((e,t)=>n.test(e)?(0,l.jsx)("span",{style:{backgroundColor:"#fef3c7",fontWeight:"600"},children:e},t):e)})(e,g)},e)):(0,l.jsx)("div",{style:{padding:"12px 16px",fontSize:"14px",color:"#6b7280",fontStyle:"italic",fontFamily:"system-ui, -apple-system, sans-serif"},children:"No matches found"})})]})},d=e=>{const t=e.replace(/\s/g,"");return/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(t)},g=e=>f(e,"PAN").substring(0,10),m=(e,t)=>t<5?/[A-Z]/i.test(e):t<9?/[0-9]/.test(e):9===t&&/[A-Z]/i.test(e),x=(e,t)=>t<2?/[0-9]/.test(e):t<7?/[A-Z]/i.test(e):t<11?/[0-9]/.test(e):11===t?/[A-Z]/i.test(e):12===t?/[A-Z0-9]/i.test(e):13===t?"Z"===e||"z"===e:14===t&&/[A-Z0-9]/i.test(e),f=(e,t)=>{let n="";for(let o=0;o<e.length;o++){const s=e[o];("PAN"===t&&m(s,o)||"GST"===t&&x(s,o))&&(n+=s.toUpperCase())}return n},u=()=>{const{token:e}=(0,i.g)(),[t]=(0,a.ok)(),n=(0,i.Zp)(),[m,x]=(0,s.useState)(null),[u,y]=(0,s.useState)(!0),[h,b]=(0,s.useState)(null),[S,v]=(0,s.useState)(!1),[k,A]=(0,s.useState)(null),[C,j]=(0,s.useState)("basic"),[w,E]=(0,s.useState)(!1),[N,T]=(0,s.useState)({}),[_,D]=(0,s.useState)({}),[I,F]=(0,s.useState)(null),[P,L]=(0,s.useState)({pan:!1,gst:!1}),[R,G]=(0,s.useState)(null),z=(0,r.isGoogleDriveFullyConfigured)().configured,[O,B]=(0,s.useState)({gstinno:{isChecking:!1,isDuplicate:!1,message:""},panno:{isChecking:!1,isDuplicate:!1,message:""},name:{isChecking:!1,isDuplicate:!1,message:""}}),M={width:"100%",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"#fff",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",minHeight:"44px",boxSizing:"border-box",maxWidth:"100%"},W=(0,o.A)((0,o.A)({},M),{},{cursor:"pointer",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"16px",paddingRight:"40px"}),[U,Z]=(0,s.useState)({tax_type:"",panno:"",name:"",address1:"",country:"India",state:"",pincode:"",gsttype:"",gstinno:"",contactperson:"",emailid:"",phoneno:"",mobileno:"",accountno:"",ifsccode:"",bankname:"",panDocumentLink:"",gstDocumentLink:""});(0,s.useEffect)(()=>{Y()},[e]),(0,s.useEffect)(()=>{(()=>{if(window.google&&window.google.accounts&&window.google.picker)console.log("Google APIs already loaded");else{if(!window.google||!window.google.accounts){const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{console.log("Google Identity Services loaded")},e.onerror=()=>{console.error("Failed to load Google Identity Services")},document.head.appendChild(e)}if(!window.google||!window.google.picker){const e=document.createElement("script");e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=()=>{console.log("Google API script loaded"),window.gapi&&window.gapi.load("picker",()=>{console.log("Google Picker API loaded")})},e.onerror=()=>{console.error("Failed to load Google API script")},document.head.appendChild(e)}}})()},[]);const Y=()=>{try{const s=t.get("data");if(s)try{const t=JSON.parse(atob(s));return t.company&&t.email?(x({token:e,company:t.company,email:t.email,tallyloc_id:t.tallyloc_id,company_session:t.company_session,guid:t.guid}),Z(e=>(0,o.A)((0,o.A)({},e),{},{name:t.company||"",emailid:t.email||""})),void y(!1)):(b("Invalid invitation data"),void y(!1))}catch(n){console.error("Error decoding invitation data:",n)}const a=localStorage.getItem("master_invitations");if(!a)return b("Invalid or expired invitation link"),void y(!1);const i=JSON.parse(a).find(t=>t.token===e);if(!i)return b("Invalid or expired invitation link"),void y(!1);x(i),Z(e=>(0,o.A)((0,o.A)({},e),{},{name:i.company||"",emailid:i.email||""})),y(!1)}catch(s){console.error("Error loading invitation:",s),b("Failed to load invitation"),y(!1)}},H=(()=>{let e;return(t,n)=>{clearTimeout(e),e=setTimeout(()=>{(async(e,t)=>{if(t&&""!==t.trim()&&m)try{B(t=>(0,o.A)((0,o.A)({},t),{},{[e]:{isChecking:!0,isDuplicate:!1,message:""}}));const s={gstinno:"gstin",panno:"pan",name:"name"}[e];if(!s)throw new Error("Invalid field type: ".concat(e,". Must be gstinno, panno, or name"));const a={tallyloc_id:parseInt(m.tallyloc_id),company:m.company_session,guid:m.guid,type:s,value:t.trim()},i=await fetch((0,r.getApiUrl)("/api/tally/ledger-check"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){let e;try{e=await i.json()}catch(n){console.error("Failed to parse error response as JSON:",n),e={message:"HTTP ".concat(i.status,": ").concat(i.statusText)}}throw console.error("API Error Response:",{status:i.status,statusText:i.statusText,errorData:e,requestData:a}),new Error(e.message||"Failed to check for duplicates: ".concat(i.status," ").concat(i.statusText))}const l=await i.json();console.log("Duplicate check result for",e,":",l);const c=!0===l.exists&&"approved"===l.status||!1===l.canProceed;return B(t=>(0,o.A)((0,o.A)({},t),{},{[e]:{isChecking:!1,isDuplicate:c,message:c?l.message||"".concat(e," already exists and is approved"):""}})),l}catch(s){console.error("Error checking for duplicates:",s),B(t=>(0,o.A)((0,o.A)({},t),{},{[e]:{isChecking:!1,isDuplicate:!1,message:""}}))}})(t,n).catch(e=>{console.error("Duplicate check failed:",e)})},500)}})(),K=async e=>{try{if(L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!0})),!r.GOOGLE_DRIVE_CONFIG.CLIENT_ID||!r.GOOGLE_DRIVE_CONFIG.API_KEY)return L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),void F({type:"error",title:"Service Unavailable",message:"Google Drive is not available. Please try again later."});if(!window.gapi||!window.google||!window.google.accounts||!window.google.picker)return console.error("Google APIs not loaded yet"),L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),void F({type:"error",title:"Loading",message:"Please wait while Google services load."});let n;try{n=await new Promise((e,t)=>{try{if(!r.GOOGLE_DRIVE_CONFIG.CLIENT_ID||!r.GOOGLE_DRIVE_CONFIG.API_KEY)return void t(new Error("Google API credentials not configured. Please add REACT_APP_GOOGLE_CLIENT_ID and REACT_APP_GOOGLE_API_KEY to your .env file."));if(!window.google||!window.google.accounts)return void t(new Error("Google Identity Services not loaded yet. Please wait and try again."));const n=window.google.accounts.oauth2.initTokenClient({client_id:r.GOOGLE_DRIVE_CONFIG.CLIENT_ID,scope:r.GOOGLE_DRIVE_CONFIG.SCOPES,callback:n=>{if(console.log("Token client callback received:",n),n.error)if(console.error("Token error:",n),"access_denied"===n.error){const e=n.error_description||"";e.includes("scope")||e.includes("permission")?(F({type:"error",title:"Permission Required",message:"Please allow permissions to upload documents."}),t(new Error("Google Drive permissions not configured"))):(F({type:"error",title:"Access Denied",message:"Please grant Google Drive permissions to upload documents."}),t(new Error("Google Drive access denied by user")))}else"popup_closed_by_user"===n.error?t(new Error("Sign-in popup was closed. Please try again.")):t(n);else n.access_token?(console.log("Access token obtained successfully"),G(n.access_token),e(n.access_token)):(console.error("No access token in response:",n),t(new Error("Failed to get access token. Response: "+JSON.stringify(n))))}});console.log("Requesting access token..."),n.requestAccessToken()}catch(h){console.error("Google authentication failed:",h),t(h)}})}catch(t){return console.error("Authentication error:",t),L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),void(t.message&&t.message.includes("not configured")?F({type:"error",title:"Service Unavailable",message:"Google Drive is not available. Please try again later."}):t.message&&t.message.includes("not loaded yet")?F({type:"error",title:"Loading",message:"Please wait while Google services load."}):t.message&&t.message.includes("access denied")?F({type:"error",title:"Access Denied",message:"Please grant Google Drive permissions to upload documents."}):F({type:"error",title:"Connection Failed",message:"Unable to connect to Google Drive. Please try again."}))}if(!window.google.picker)return console.error("Google Picker not loaded"),L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),void F({type:"error",title:"Service Unavailable",message:"Google Drive is temporarily unavailable. Please refresh and try again."});(new window.google.picker.PickerBuilder).addView(new window.google.picker.DocsUploadView).addView(window.google.picker.ViewId.PDFS).addView(new window.google.picker.DocsView(window.google.picker.ViewId.DOCS).setIncludeFolders(!1).setSelectFolderEnabled(!1)).setOAuthToken(n).setDeveloperKey(r.GOOGLE_DRIVE_CONFIG.API_KEY).setCallback(t=>{if(L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),t[window.google.picker.Response.ACTION]===window.google.picker.Action.PICKED){const n=t[window.google.picker.Response.DOCUMENTS][0],o=n.id,s="https://drive.google.com/file/d/".concat(o,"/view");V("pan"===e?"panDocumentLink":"gstDocumentLink",s),console.log("Document selected:",n,"Link:",s)}else t[window.google.picker.Response.ACTION]===window.google.picker.Action.CANCEL&&console.log("Picker cancelled")}).build().setVisible(!0)}catch(h){console.error("Error opening Google Picker:",h),L(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!1})),F({type:"error",title:"Upload Failed",message:"Unable to access Google Drive. Please try again."})}},V=(e,t)=>{Z(n=>(0,o.A)((0,o.A)({},n),{},{[e]:t})),N[e]&&T(t=>(0,o.A)((0,o.A)({},t),{},{[e]:""})),"gstinno"===e&&t&&t.length>=15?H("gstinno",t):"panno"===e&&t&&t.length>=10?H("panno",t):"name"===e&&t&&t.trim().length>=3&&H("name",t)};return u&&!m?(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f3f4f6",flexDirection:"column",gap:"16px"},children:[(0,l.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,l.jsx)("p",{style:{color:"#6b7280",fontSize:"14px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Loading invitation..."}),(0,l.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):h?(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f3f4f6"},children:(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:"12px",padding:"48px 32px",maxWidth:"500px",width:"90%",textAlign:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"64px",color:"#ef4444",marginBottom:"16px"},children:"error"}),(0,l.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#1f2937",marginBottom:"12px",fontFamily:"system-ui, -apple-system, sans-serif"},children:h}),(0,l.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"The invitation link you clicked is invalid or has expired."}),(0,l.jsx)("button",{onClick:()=>n("/"),style:{padding:"12px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Go to Home"})]})}):S?(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#f3f4f6",padding:"20px"},children:(0,l.jsxs)("div",{style:{background:"#fff",borderRadius:"12px",padding:"48px 32px",maxWidth:"500px",width:"100%",textAlign:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"64px",color:"#10b981",marginBottom:"16px"},children:"check_circle"}),(0,l.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#1f2937",marginBottom:"12px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Registration Successful!"}),(0,l.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",fontFamily:"system-ui, -apple-system, sans-serif",lineHeight:"1.6"},children:"Your master registration has been submitted successfully and sent for authorization. You will be notified once your registration is approved."}),(0,l.jsx)("button",{onClick:()=>n("/"),style:{padding:"12px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Close"})]})}):(0,l.jsxs)("div",{style:{background:"#f3f4f6",minHeight:"100vh",padding:"40px 20px"},children:[(0,l.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        .master-form-grid > div {\n          min-width: 0;\n          overflow: hidden;\n        }\n        .master-form-grid input,\n        .master-form-grid select,\n        .master-form-grid textarea {\n          max-width: 100%;\n          box-sizing: border-box;\n        }\n        @media (max-width: 1200px) {\n          .master-form-grid {\n            grid-template-columns: repeat(2, 1fr) !important;\n            gap: 20px !important;\n          }\n        }\n        @media (max-width: 900px) {\n          .master-form-grid {\n            grid-template-columns: 1fr !important;\n            gap: 20px !important;\n          }\n        }\n      "}),(0,l.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",background:"#fff",borderRadius:"16px",padding:"32px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb"},children:[(0,l.jsxs)("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#1f2937",marginBottom:"8px",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",alignItems:"center",gap:"12px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"28px",color:"#3b82f6"},children:"person_add"}),"Master Registration Form"]}),(0,l.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"32px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Please fill in your details to complete master registration"}),(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};var t,n,o,s;return U.name.trim()||(e.name="Master Name is required"),"PAN"===U.tax_type?U.panno.trim()&&!d(U.panno)&&(e.panno="Invalid PAN format"):"GST"===U.tax_type&&U.gstinno.trim()&&(U.gstinno.length<15?e.gstinno="GST Number must be 15 characters long":(e=>{const t=e.replace(/\s/g,"");return/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/.test(t)})(U.gstinno)||(e.gstinno="Invalid GST format")),O.name.isDuplicate&&(e.name=O.name.message||"Master name already exists"),O.panno.isDuplicate&&(e.panno=O.panno.message||"PAN number already exists"),O.gstinno.isDuplicate&&(e.gstinno=O.gstinno.message||"GST number already exists"),U.emailid&&(t=U.emailid,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))&&(e.emailid="Invalid email format"),U.mobileno&&(n=U.mobileno,!/^[6-9][0-9]{9}$/.test(n))&&(e.mobileno="Invalid mobile number format"),U.pincode&&(o=U.pincode,!/^[1-9][0-9]{5}$/.test(o))&&(e.pincode="Invalid pincode format"),U.ifsccode&&(s=U.ifsccode,!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(s))&&(e.ifsccode="Invalid IFSC format"),T(e),0===Object.keys(e).length})())try{y(!0),await(async e=>{try{if(A(null),!m)throw new Error("Missing invitation data");const n={tallyloc_id:parseInt(m.tallyloc_id),company:m.company_session,guid:m.guid,ledgerData:{name:e.name.trim(),address:(e.address1||"").replace(/\n/g,"|"),pincode:e.pincode||"",stateName:e.state||"",countryName:e.country||"India",contactPerson:e.contactperson||"",phoneNo:e.phoneno||"",mobileNo:e.mobileno||"",email:e.emailid||"",emailCC:"",panNo:e.panno||"",gstinNo:e.gstinno||"",bankName:e.bankname||"",accountNo:e.accountno||"",ifscCode:e.ifsccode||"",panDocumentLink:e.panDocumentLink||"",gstDocumentLink:e.gstDocumentLink||""}};if(!n.ledgerData.name)throw new Error("Master Name is mandatory");if(n.ledgerData.name.length<2)throw new Error("Master name must be at least 2 characters long");if(n.ledgerData.mobileNo&&!/^[6-9][0-9]{9}$/.test(n.ledgerData.mobileNo))throw new Error("Invalid mobile number format");if(n.ledgerData.panNo&&n.ledgerData.panNo.length>0&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(n.ledgerData.panNo))throw new Error("Invalid PAN format: ".concat(n.ledgerData.panNo,". Correct format: ABCDE1234F"));if(n.ledgerData.gstinNo&&n.ledgerData.gstinNo.length>0&&!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/.test(n.ledgerData.gstinNo))throw new Error("Invalid GST format: ".concat(n.ledgerData.gstinNo,". Correct format: 12ABCDE1234F1Z5"));const o=await fetch((0,r.getApiUrl)("/api/tally/ledger-create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!o.ok){let e="Failed to create master";try{const t=await o.json();console.error("API Error Response:",t),e=t.message||t.error||"HTTP ".concat(o.status,": ").concat(o.statusText)}catch(t){console.error("Failed to parse error response:",t),e="HTTP ".concat(o.status,": ").concat(o.statusText)}throw new Error(e)}const s=await o.json();if(console.log("Master creation API response:",s),!1===s.success){let e=s.message||"Failed to create ledger";throw new Error(e)}return s}catch(n){throw console.error("Error creating master:",n),A(n.message),n}})(U),v(!0)}catch(h){console.error("Master creation failed:",h),y(!1)}},style:{display:"flex",flexDirection:"column",gap:"24px"},children:[k&&(0,l.jsx)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",padding:"12px 16px",marginBottom:"20px"},children:(0,l.jsxs)("p",{style:{color:"#dc2626",fontSize:"14px",fontWeight:"500",fontFamily:"system-ui, -apple-system, sans-serif",margin:"0",display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"error"}),k]})}),I&&(0,l.jsx)("div",{style:{background:"error"===I.type?"#fef2f2":"#f0f9ff",border:"error"===I.type?"1px solid #fecaca":"1px solid #bae6fd",borderRadius:"6px",padding:"16px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"24px",color:"error"===I.type?"#dc2626":"#0ea5e9",flexShrink:0,marginTop:"2px"},children:"error"===I.type?"error":"info"}),(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("p",{style:{color:"error"===I.type?"#dc2626":"#0c4a6e",fontSize:"14px",fontWeight:"500",fontFamily:"system-ui, -apple-system, sans-serif",margin:"0 0 8px 0",lineHeight:"1.5"},children:I.title}),(0,l.jsx)("p",{style:{color:"error"===I.type?"#991b1b":"#075985",fontSize:"13px",fontFamily:"system-ui, -apple-system, sans-serif",margin:"0",lineHeight:"1.5"},children:I.message})]}),(0,l.jsx)("button",{onClick:()=>F(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:"error"===I.type?"#991b1b":"#075985",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="error"===I.type?"#fecaca":"#bae6fd"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"close"})})]})}),(0,l.jsx)("div",{style:{display:"flex",borderBottom:"2px solid #e5e7eb",marginBottom:"24px",backgroundColor:"#f9fafb",borderRadius:"8px 8px 0 0",overflow:"hidden"},children:[{id:"basic",label:"Basic Information",icon:"person"},{id:"contact",label:"Contact Details",icon:"contact_phone"},{id:"bank",label:"Bank Details",icon:"account_balance"}].map(e=>(0,l.jsxs)("button",{type:"button",onClick:()=>j(e.id),style:{flex:1,padding:"16px 24px",border:"none",backgroundColor:C===e.id?"#3b82f6":"transparent",color:C===e.id?"#fff":"#6b7280",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRight:"bank"!==e.id?"1px solid #e5e7eb":"none"},onMouseEnter:t=>{C!==e.id&&(t.target.style.backgroundColor="#f3f4f6",t.target.style.color="#374151")},onMouseLeave:t=>{C!==e.id&&(t.target.style.backgroundColor="transparent",t.target.style.color="#6b7280")},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:e.icon}),e.label]},e.id))}),(0,l.jsxs)("div",{style:{minHeight:"400px"},children:["basic"===C&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"master-form-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Tax Identification Type"}),(0,l.jsxs)("select",{value:U.tax_type,onChange:e=>{V("tax_type",e.target.value),"PAN"===e.target.value?(V("gstinno",""),V("gsttype",""),E(!1)):"GST"===e.target.value&&(V("panno",""),E(!1))},style:(0,o.A)((0,o.A)({},W),{},{border:"1px solid ".concat(N.tax_type?"#ef4444":"#d1d5db")}),children:[(0,l.jsx)("option",{value:"",children:"Select Tax Type"}),(0,l.jsx)("option",{value:"PAN",children:"PAN Number"}),(0,l.jsx)("option",{value:"GST",children:"GST Number"})]}),N.tax_type&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.tax_type})]}),"GST"===U.tax_type&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.GST_NUMBER}),(0,l.jsxs)("div",{style:{position:"relative",display:"flex",gap:"8px",alignItems:"stretch",width:"100%",overflow:"visible"},children:[(0,l.jsx)("input",{type:"text",value:U.gstinno,onChange:e=>{const t=(n=e.target.value,f(n,"GST").substring(0,15));var n;if(V("gstinno",t),t.length>=12){const e=(e=>{if(!e)return"";const t=e.replace(/\s/g,"");return t.length<10?"":t.length>=12?t.substring(2,12):""})(t);if(e&&d(e)){const t=g(e);V("panno",t),E(!0)}}else w&&(V("panno",""),E(!1))},onBlur:()=>{return e="gstinno",D(t=>(0,o.A)((0,o.A)({},t),{},{[e]:!0})),void("gstinno"===e&&"GST"===U.tax_type&&U.gstinno&&U.gstinno.length>0&&U.gstinno.length<15&&T(t=>(0,o.A)((0,o.A)({},t),{},{[e]:"GST Number must be 15 characters long"})));var e},maxLength:30,style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.gstinno||O.gstinno.isDuplicate||_.gstinno&&U.gstinno&&U.gstinno.length>0&&U.gstinno.length<15?"#ef4444":"#d1d5db"),fontFamily:"monospace",letterSpacing:"1px",paddingRight:O.gstinno.isChecking?"40px":"16px",flex:1}),placeholder:"22ABCDE1234F1Z5"}),O.gstinno.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center"},children:(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #3b82f6",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),O.gstinno.isDuplicate&&!O.gstinno.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#ef4444"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"error"})}),(()=>{const e=!1===O.gstinno.isChecking&&(!0===O.gstinno.isDuplicate||!1===O.gstinno.isDuplicate);return!O.gstinno.isDuplicate&&!O.gstinno.isChecking&&15===U.gstinno.length&&!N.gstinno&&e})()&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#10b981"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"check_circle"})}),(0,l.jsx)("button",{type:"button",onClick:()=>{z?K("gst"):F({type:"error",title:"Google Drive Not Configured",message:"Please add REACT_APP_GOOGLE_API_KEY to your .env file and restart the server to enable document uploads."})},disabled:P.gst||!z,style:{padding:"10px 16px",backgroundColor:!z||P.gst?"#9ca3af":"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",cursor:!z||P.gst?"not-allowed":"pointer",opacity:!z||P.gst?.6:1,display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",transition:"background-color 0.2s",position:"relative"},onMouseEnter:e=>{z&&!P.gst&&(e.target.style.backgroundColor="#2563eb")},onMouseLeave:e=>{z&&!P.gst&&(e.target.style.backgroundColor="#3b82f6")},title:z?"Upload GST Document":"Google Drive not configured. Add REACT_APP_GOOGLE_API_KEY to .env file.",children:P.gst?(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"upload_file"}),U.gstDocumentLink&&(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"16px",color:"#10b981"},children:"check_circle"})]})}),U.gstDocumentLink&&!P.gst&&(0,l.jsxs)("a",{href:U.gstDocumentLink,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:"#10b981",color:"#fff",textDecoration:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",transition:"background-color 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#059669"},onMouseLeave:e=>{e.target.style.backgroundColor="#10b981"},title:"View GST Document",children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"visibility"}),"View Doc"]})]}),N.gstinno&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.gstinno}),O.gstinno.isDuplicate&&!N.gstinno&&(0,l.jsxs)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"14px"},children:"warning"}),O.gstinno.message||"GST number already exists"]}),!N.gstinno&&!O.gstinno.isDuplicate&&U.gstinno.length>0&&U.gstinno.length<15&&!_.gstinno&&(0,l.jsx)("p",{style:{color:"#6b7280",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:"Enter complete 15-character GST number"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.GST_TYPE}),(0,l.jsxs)("select",{value:U.gsttype,onChange:e=>V("gsttype",e.target.value),style:W,children:[(0,l.jsx)("option",{value:"",children:"Select GST Type"}),c.GST_TYPES.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})]}),("PAN"===U.tax_type||"GST"===U.tax_type)&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:[c.FORM_LABELS.PAN_NUMBER,(0,l.jsx)("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"400"},children:" (Format: ABCDE1234F)"}),"GST"===U.tax_type&&(0,l.jsx)("span",{style:{fontSize:"12px",color:"#059669",fontWeight:"400",marginLeft:"8px"},children:"Auto-filled from GST"})]}),(0,l.jsxs)("div",{style:{position:"relative",display:"flex",gap:"8px",alignItems:"stretch",width:"100%",overflow:"visible"},children:[(0,l.jsx)("input",{type:"text",value:U.panno,onChange:e=>{if("PAN"===U.tax_type){const t=g(e.target.value);V("panno",t)}},maxLength:10,readOnly:"GST"===U.tax_type,style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.panno||O.panno.isDuplicate?"#ef4444":"#d1d5db"),fontFamily:"monospace",letterSpacing:"1px",backgroundColor:"GST"===U.tax_type?"#f0f9ff":"#fff",cursor:"GST"===U.tax_type?"not-allowed":"text",paddingRight:O.panno.isChecking?"40px":"16px",flex:1}),placeholder:"GST"===U.tax_type?"Will be auto-filled from GST":"ABCDE1234F"}),O.panno.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center"},children:(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #3b82f6",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),O.panno.isDuplicate&&!O.panno.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#ef4444"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"error"})}),(()=>{const e=!1===O.panno.isChecking&&(!0===O.panno.isDuplicate||!1===O.panno.isDuplicate);return!O.panno.isDuplicate&&!O.panno.isChecking&&10===U.panno.length&&!N.panno&&e})()&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#10b981"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"check_circle"})}),(0,l.jsx)("button",{type:"button",onClick:()=>{z?K("pan"):F({type:"error",title:"Google Drive Not Configured",message:"Please add REACT_APP_GOOGLE_API_KEY to your .env file and restart the server to enable document uploads."})},disabled:P.pan||!z,style:{padding:"10px 16px",backgroundColor:!z||P.pan?"#9ca3af":"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",cursor:!z||P.pan?"not-allowed":"pointer",opacity:!z||P.pan?.6:1,display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",transition:"background-color 0.2s",position:"relative"},onMouseEnter:e=>{z&&!P.pan&&(e.target.style.backgroundColor="#2563eb")},onMouseLeave:e=>{z&&!P.pan&&(e.target.style.backgroundColor="#3b82f6")},title:z?"Upload PAN Document":"Google Drive not configured. Add REACT_APP_GOOGLE_API_KEY to .env file.",children:P.pan?(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"upload_file"}),U.panDocumentLink&&(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"16px",color:"#10b981"},children:"check_circle"})]})}),U.panDocumentLink&&!P.pan&&(0,l.jsxs)("a",{href:U.panDocumentLink,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 16px",backgroundColor:"#10b981",color:"#fff",textDecoration:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",transition:"background-color 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#059669"},onMouseLeave:e=>{e.target.style.backgroundColor="#10b981"},title:"View PAN Document",children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"visibility"}),"View Doc"]})]}),N.panno&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.panno}),O.panno.isDuplicate&&!N.panno&&(0,l.jsxs)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"14px"},children:"warning"}),O.panno.message||"PAN number already exists"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:[c.FORM_LABELS.MASTER_NAME," *"]}),(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)("input",{type:"text",value:U.name,onChange:e=>V("name",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.name||O.name.isDuplicate?"#ef4444":"#d1d5db"),paddingRight:O.name.isChecking?"40px":"16px"}),placeholder:"Enter master name"}),O.name.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center"},children:(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #3b82f6",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),O.name.isDuplicate&&!O.name.isChecking&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#ef4444"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"error"})}),(()=>{const e=!1===O.name.isChecking&&(!0===O.name.isDuplicate||!1===O.name.isDuplicate);return!O.name.isDuplicate&&!O.name.isChecking&&U.name.length>=3&&!N.name&&e})()&&(0,l.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#10b981"},children:(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"check_circle"})})]}),N.name&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.name}),O.name.isDuplicate&&!N.name&&(0,l.jsxs)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",alignItems:"center",gap:"4px"},children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"14px"},children:"warning"}),O.name.message||"Master name already exists"]})]}),(0,l.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.ADDRESS}),(0,l.jsx)("textarea",{value:U.address1,onChange:e=>V("address1",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{minHeight:"80px",resize:"vertical",fontFamily:"system-ui, -apple-system, sans-serif"}),placeholder:"Enter complete address",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.COUNTRY}),(0,l.jsx)(p,{options:c.COUNTRIES,value:U.country,onChange:e=>V("country",e),placeholder:"Start typing to search countries...",style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.country?"#ef4444":"#d1d5db")}),error:!!N.country}),N.country&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.country})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.STATE}),(0,l.jsx)(p,{options:c.INDIAN_STATES,value:U.state,onChange:e=>V("state",e),placeholder:"Start typing to search states...",style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.state?"#ef4444":"#d1d5db")}),error:!!N.state}),N.state&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.state})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.PINCODE}),(0,l.jsx)("input",{type:"text",value:U.pincode,onChange:e=>V("pincode",e.target.value),maxLength:6,style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.pincode?"#ef4444":"#d1d5db")}),placeholder:"Enter 6-digit pincode"}),N.pincode&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.pincode})]})]})}),"contact"===C&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"master-form-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px",alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.CONTACT_PERSON}),(0,l.jsx)("input",{type:"text",value:U.contactperson,onChange:e=>V("contactperson",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.contactperson?"#ef4444":"#d1d5db")}),placeholder:"Enter contact person name"}),N.contactperson&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.contactperson})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.EMAIL_ID}),(0,l.jsx)("input",{type:"email",value:U.emailid,onChange:e=>V("emailid",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.emailid?"#ef4444":"#d1d5db")}),placeholder:"Enter email address"}),N.emailid&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.emailid})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.PHONE_NUMBER}),(0,l.jsx)("input",{type:"tel",value:U.phoneno,onChange:e=>V("phoneno",e.target.value),style:M,placeholder:"Enter phone number"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.MOBILE_NUMBER}),(0,l.jsx)("input",{type:"tel",value:U.mobileno,onChange:e=>V("mobileno",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.mobileno?"#ef4444":"#d1d5db")}),placeholder:"Enter mobile number"}),N.mobileno&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.mobileno})]})]})}),"bank"===C&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"master-form-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px",alignItems:"start"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.ACCOUNT_NUMBER}),(0,l.jsx)("input",{type:"text",value:U.accountno,onChange:e=>V("accountno",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.accountno?"#ef4444":"#d1d5db")}),placeholder:c.PLACEHOLDERS.ACCOUNT_NUMBER}),N.accountno&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.accountno})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.IFSC_CODE}),(0,l.jsx)("input",{type:"text",value:U.ifsccode,onChange:e=>V("ifsccode",e.target.value.toUpperCase()),maxLength:11,style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.ifsccode?"#ef4444":"#d1d5db")}),placeholder:c.PLACEHOLDERS.IFSC}),N.ifsccode&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.ifsccode})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"system-ui, -apple-system, sans-serif"},children:c.FORM_LABELS.BANK_NAME}),(0,l.jsx)("input",{type:"text",value:U.bankname,onChange:e=>V("bankname",e.target.value),style:(0,o.A)((0,o.A)({},M),{},{border:"1px solid ".concat(N.bankname?"#ef4444":"#d1d5db")}),placeholder:"Enter bank name"}),N.bankname&&(0,l.jsx)("p",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.bankname})]})]})})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px",paddingTop:"24px",marginTop:"24px",borderTop:"1px solid #e5e7eb"},children:[(0,l.jsx)("button",{type:"button",onClick:()=>{n("/")},style:{padding:"12px 32px",border:"1px solid #d1d5db",color:"#374151",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",fontFamily:"system-ui, -apple-system, sans-serif",backgroundColor:"#fff",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",minWidth:"120px"},onMouseEnter:e=>{e.target.style.backgroundColor="#f9fafb",e.target.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.target.style.backgroundColor="#fff",e.target.style.borderColor="#d1d5db"},children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:u,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 32px",background:u?"#9ca3af":"#3b82f6",color:"#fff",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:u?"not-allowed":"pointer",transition:"all 0.2s",border:"none",fontFamily:"system-ui, -apple-system, sans-serif",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",minWidth:"180px",opacity:u?.7:1},onMouseEnter:e=>{u||(e.target.style.background="#2563eb")},onMouseLeave:e=>{u||(e.target.style.background="#3b82f6")},children:u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #fff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),"Submitting..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"material-icons",style:{fontSize:"18px"},children:"check"}),"Submit Registration"]})})]})]})]})]})}}}]);