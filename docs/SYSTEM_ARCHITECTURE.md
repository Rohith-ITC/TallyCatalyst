# SaaS Platform Architecture & Flow Documentation
## TallyCatalyst - Multi-Portal Subscription Management System

---

## ğŸ“‹ Table of Contents
1. [Executive Summary](#executive-summary)
2. [System Architecture Overview](#system-architecture-overview)
3. [Portal Structure](#portal-structure)
4. [User Types & Access Control](#user-types--access-control)
5. [Subscription Management Flow](#subscription-management-flow)
6. [Partner Commission System](#partner-commission-system)
7. [Module Management System](#module-management-system)
8. [Data Flow Diagrams](#data-flow-diagrams)
9. [Technical Architecture](#technical-architecture)

---

## ğŸ¯ Executive Summary

This document outlines the architecture for a multi-tenant SaaS platform with three distinct portals:
- **Super Admin Portal**: Platform management and configuration
- **Partner Portal**: Sales tracking and commission management
- **Customer Portal**: End-user application access

The system supports flexible subscription models, granular module access control, and automated partner commission tracking.

---

## ğŸ—ï¸ System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SAAS PLATFORM ARCHITECTURE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SUPER ADMIN     â”‚      â”‚   PARTNER        â”‚      â”‚   CUSTOMER       â”‚
â”‚     PORTAL       â”‚      â”‚    PORTAL        â”‚      â”‚    PORTAL        â”‚
â”‚                  â”‚      â”‚                  â”‚      â”‚                  â”‚
â”‚ â€¢ Module Mgmt    â”‚      â”‚ â€¢ Sales Tracking â”‚      â”‚ â€¢ Tally Access   â”‚
â”‚ â€¢ Subscription   â”‚      â”‚ â€¢ Commission     â”‚      â”‚ â€¢ Reports        â”‚
â”‚   Plans          â”‚      â”‚   Dashboard      â”‚      â”‚ â€¢ Order Mgmt     â”‚
â”‚ â€¢ Customer Mgmt  â”‚      â”‚ â€¢ Customer List  â”‚      â”‚ â€¢ Ledger View    â”‚
â”‚ â€¢ Partner Mgmt   â”‚      â”‚ â€¢ Earnings       â”‚      â”‚ â€¢ Bill Reports   â”‚
â”‚ â€¢ Analytics      â”‚      â”‚ â€¢ Payouts        â”‚      â”‚ â€¢ (Role-based)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   BACKEND API LAYER         â”‚
                    â”‚                             â”‚
                    â”‚ â€¢ Authentication Service    â”‚
                    â”‚ â€¢ Subscription Service      â”‚
                    â”‚ â€¢ Module Access Service     â”‚
                    â”‚ â€¢ Partner Commission Serviceâ”‚
                    â”‚ â€¢ Billing Service           â”‚
                    â”‚ â€¢ User Management Service   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      DATABASE LAYER         â”‚
                    â”‚                             â”‚
                    â”‚ â€¢ Users & Roles             â”‚
                    â”‚ â€¢ Subscriptions & Plans     â”‚
                    â”‚ â€¢ Modules & Permissions     â”‚
                    â”‚ â€¢ Partners & Commissions    â”‚
                    â”‚ â€¢ Billing & Transactions    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸšª Portal Structure

### Portal Access Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Feature       â”‚ Super Admin  â”‚   Partner    â”‚   Customer   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Module Mgmt     â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â”‚ Subscription    â”‚      âœ“       â”‚      âœ—       â”‚      âœ“*      â”‚
â”‚ Plans           â”‚              â”‚              â”‚              â”‚
â”‚ User Management â”‚      âœ“       â”‚      âœ—       â”‚      âœ“*      â”‚
â”‚ Partner Mgmt    â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â”‚ Commission View â”‚      âœ“       â”‚      âœ“       â”‚      âœ—       â”‚
â”‚ Sales Tracking  â”‚      âœ“       â”‚      âœ“       â”‚      âœ—       â”‚
â”‚ Customer Portal â”‚      âœ“       â”‚      âœ“       â”‚      âœ“       â”‚
â”‚ Analytics       â”‚      âœ“       â”‚      âœ“       â”‚      âœ“*      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Limited to own account
```

---

## ğŸ‘¥ User Types & Access Control

### User Hierarchy

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SUPER ADMIN       â”‚
                    â”‚  (Platform Owner)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚              â”‚              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   PARTNER    â”‚  â”‚ CUSTOMER â”‚  â”‚   CUSTOMER   â”‚
        â”‚              â”‚  â”‚  (Full   â”‚  â”‚  (Internal/  â”‚
        â”‚ â€¢ Sales      â”‚  â”‚  Access) â”‚  â”‚  External)   â”‚
        â”‚ â€¢ Commission â”‚  â”‚          â”‚  â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      CUSTOMER ORGANIZATION            â”‚
                    â”‚                                       â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚   INTERNAL   â”‚  â”‚   EXTERNAL   â”‚  â”‚
                    â”‚  â”‚    USERS     â”‚  â”‚    USERS     â”‚  â”‚
                    â”‚  â”‚              â”‚  â”‚              â”‚  â”‚
                    â”‚  â”‚ â€¢ Employees  â”‚  â”‚ â€¢ Customers  â”‚  â”‚
                    â”‚  â”‚ â€¢ Full Accessâ”‚  â”‚ â€¢ Vendors     â”‚  â”‚
                    â”‚  â”‚ â€¢ Paid/User  â”‚  â”‚ â€¢ Free Tier  â”‚  â”‚
                    â”‚  â”‚              â”‚  â”‚ â€¢ Premium    â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### User Type Characteristics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER TYPE COMPARISON                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ FULL ACCESS USER:                                               â”‚
â”‚ â”œâ”€ Quantity: 1 per subscription                                 â”‚
â”‚ â”œâ”€ Cost: Included in base plan                                 â”‚
â”‚ â”œâ”€ Access: All modules (subscription-based)                    â”‚
â”‚ â”œâ”€ Permissions: Full admin rights                               â”‚
â”‚ â””â”€ Can: Manage users, subscription, billing                     â”‚
â”‚                                                                 â”‚
â”‚ INTERNAL USER:                                                  â”‚
â”‚ â”œâ”€ Quantity: Unlimited (paid per user)                          â”‚
â”‚ â”œâ”€ Cost: $X per user/month                                     â”‚
â”‚ â”œâ”€ Access: All modules (subscription-based)                    â”‚
â”‚ â”œâ”€ Permissions: Role-based                                     â”‚
â”‚ â””â”€ Cannot: Manage subscription                                 â”‚
â”‚                                                                 â”‚
â”‚ EXTERNAL USER:                                                  â”‚
â”‚ â”œâ”€ Quantity: 10 free + additional paid                         â”‚
â”‚ â”œâ”€ Cost: Free (first 10) or $Y/user/month (additional)        â”‚
â”‚ â”œâ”€ Access:                                                      â”‚
â”‚ â”‚  â”œâ”€ Free Tier: Ledger Statement, Bill Wise Report            â”‚
â”‚ â”‚  â””â”€ Premium: All modules (if paid)                          â”‚
â”‚ â””â”€ Permissions: View-only (typically)                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’³ Subscription Management Flow

### Subscription Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUBSCRIPTION LIFECYCLE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [Customer Sign Up]
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Select Plan  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Configure Users:    â”‚
    â”‚ â€¢ Full Access (1)   â”‚
    â”‚ â€¢ Internal Users    â”‚
    â”‚ â€¢ External Users    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Select Features:    â”‚
    â”‚ â€¢ Base Modules      â”‚
    â”‚ â€¢ Premium Modules   â”‚
    â”‚ â€¢ Custom Solutions  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate Cost:     â”‚
    â”‚ â€¢ Base Plan         â”‚
    â”‚ â€¢ User Costs        â”‚
    â”‚ â€¢ Feature Add-ons   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Payment Processing  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Account Activation  â”‚
    â”‚ â€¢ Module Access     â”‚
    â”‚ â€¢ User Creation     â”‚
    â”‚ â€¢ Feature Enable    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Active Subscription â”‚
    â”‚ â€¢ Monthly Billing   â”‚
    â”‚ â€¢ Usage Tracking    â”‚
    â”‚ â€¢ Renewal Reminder  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Renewal Process    â”‚
    â”‚ (30 days before)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Subscription Plan Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUBSCRIPTION PLAN TEMPLATE                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ PLAN NAME: [Enterprise/Professional/Starter]                    â”‚
â”‚                                                                 â”‚
â”‚ PRICING STRUCTURE:                                              â”‚
â”‚ â”œâ”€ Base Cost: $XXX/month                                        â”‚
â”‚ â”‚  â””â”€ Includes: 1 Full Access User                             â”‚
â”‚ â”‚                                                                 â”‚
â”‚ â”œâ”€ Internal Users: $XX/user/month                              â”‚
â”‚ â”‚  â””â”€ Unlimited quantity                                        â”‚
â”‚ â”‚                                                                 â”‚
â”‚ â””â”€ External Users:                                              â”‚
â”‚    â”œâ”€ Free Tier: 10 users                                       â”‚
â”‚    â”‚  â””â”€ Features: Ledger Statement, Bill Wise Report          â”‚
â”‚    â”‚                                                                 â”‚
â”‚    â””â”€ Premium Tier: $XX/user/month                              â”‚
â”‚       â””â”€ Features: All modules (or selected)                    â”‚
â”‚                                                                 â”‚
â”‚ MODULE ACCESS:                                                  â”‚
â”‚ â”œâ”€ Universal Modules: [Always Available]                       â”‚
â”‚ â”œâ”€ Subscription Modules: [Based on Plan]                       â”‚
â”‚ â””â”€ Custom Modules: [Customer-Specific]                         â”‚
â”‚                                                                 â”‚
â”‚ ADDITIONAL FEATURES:                                            â”‚
â”‚ â”œâ”€ API Access: [Included/Add-on]                               â”‚
â”‚ â”œâ”€ Storage: [XX GB included]                                   â”‚
â”‚ â””â”€ Support: [Level included]                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Billing Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BILLING CALCULATION                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Monthly Billing = 
    
    Base Plan Cost
    +
    (Internal User Count Ã— Internal User Cost)
    +
    (External Users Beyond Free Tier Ã— External User Cost)
    +
    (Premium Feature Add-ons Ã— Feature Cost)
    +
    (Custom Module Fees)
    +
    (Usage-Based Charges)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    = Total Monthly Charge
```

---

## ğŸ¤ Partner Commission System

### Partner Commission Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PARTNER COMMISSION FLOW                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [Customer Enrolls via Partner]
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Link Customer to    â”‚
    â”‚ Partner             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Customer Makes      â”‚
    â”‚ First Payment       â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate Initial   â”‚
    â”‚ Sale Commission     â”‚
    â”‚ (First Payment Ã— %) â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Record Commission   â”‚
    â”‚ Status: Pending     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Payment Clears      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Commission Status:  â”‚
    â”‚ Paid                â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Annual Renewal      â”‚
    â”‚ (Every Year)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate Recurring  â”‚
    â”‚ Commission          â”‚
    â”‚ (Annual Ã— %)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Add to Partner      â”‚
    â”‚ Earnings            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Partner Commission Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PARTNER COMMISSION TYPES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ 1. INITIAL SALE COMMISSION                                      â”‚
â”‚    â”œâ”€ Trigger: Customer's first payment                         â”‚
â”‚    â”œâ”€ Calculation: First Payment Ã— Commission %                 â”‚
â”‚    â”œâ”€ Example: $1000 Ã— 20% = $200                               â”‚
â”‚    â””â”€ Frequency: One-time                                       â”‚
â”‚                                                                 â”‚
â”‚ 2. RECURRING COMMISSION                                         â”‚
â”‚    â”œâ”€ Trigger: Customer's annual renewal                        â”‚
â”‚    â”œâ”€ Calculation: Annual Subscription Ã— Commission %            â”‚
â”‚    â”œâ”€ Example: $12,000/year Ã— 10% = $1,200/year                 â”‚
â”‚    â””â”€ Frequency: Annually on renewal date                       â”‚
â”‚                                                                 â”‚
â”‚ 3. PERFORMANCE BONUS                                            â”‚
â”‚    â”œâ”€ Trigger: Exceeding sales targets                           â”‚
â”‚    â”œâ”€ Calculation: Additional % based on tier                    â”‚
â”‚    â”œâ”€ Example: 5% bonus for 50+ customers                       â”‚
â”‚    â””â”€ Frequency: Quarterly/Annually                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Partner Portal Dashboard Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PARTNER PORTAL DASHBOARD                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ METRICS CARDS:                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ Total        â”‚  â”‚ Active       â”‚  â”‚ Total        â”‚         â”‚
â”‚ â”‚ Customers    â”‚  â”‚ Customers    â”‚  â”‚ Earnings     â”‚         â”‚
â”‚ â”‚   125        â”‚  â”‚    98        â”‚  â”‚  $45,230     â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â”‚ EARNINGS BREAKDOWN:                                             â”‚
â”‚ â”œâ”€ Initial Sales: $15,000                                       â”‚
â”‚ â”œâ”€ Recurring (This Year): $28,500                               â”‚
â”‚ â”œâ”€ Performance Bonus: $1,730                                    â”‚
â”‚ â””â”€ Pending Payout: $3,200                                      â”‚
â”‚                                                                 â”‚
â”‚ CUSTOMER LIST:                                                  â”‚
â”‚ â”œâ”€ Customer A | Enrolled: Jan 2024 | Status: Active            â”‚
â”‚ â”‚  â””â”€ Commission: $200 (Initial) + $120/year (Recurring)      â”‚
â”‚ â”œâ”€ Customer B | Enrolled: Feb 2024 | Status: Active            â”‚
â”‚ â”‚  â””â”€ Commission: $300 (Initial) + $180/year (Recurring)      â”‚
â”‚ â””â”€ ...                                                          â”‚
â”‚                                                                 â”‚
â”‚ UPCOMING RENEWALS:                                              â”‚
â”‚ â”œâ”€ Customer X | Renewal: Mar 15, 2025                          â”‚
â”‚ â”œâ”€ Customer Y | Renewal: Apr 2, 2025                           â”‚
â”‚ â””â”€ ...                                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Module Management System

### Module Classification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MODULE CLASSIFICATION                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ 1. UNIVERSAL MODULES                                             â”‚
â”‚    â”œâ”€ Available to: All customers                             â”‚
â”‚    â”œâ”€ Examples: Basic Ledger, Login, Profile                   â”‚
â”‚    â””â”€ Access: No subscription check                            â”‚
â”‚                                                                 â”‚
â”‚ 2. SUBSCRIPTION-BASED MODULES                                   â”‚
â”‚    â”œâ”€ Available to: Customers with specific plan               â”‚
â”‚    â”œâ”€ Examples: Advanced Reports, API Access, Analytics        â”‚
â”‚    â””â”€ Access: Check subscription plan                           â”‚
â”‚                                                                 â”‚
â”‚ 3. CUSTOM SOLUTION MODULES                                      â”‚
â”‚    â”œâ”€ Available to: Specific customer only                     â”‚
â”‚    â”œâ”€ Examples: Custom Integration, White-label, Special Featureâ”‚
â”‚    â””â”€ Access: Check customer assignment                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Module Access Control Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MODULE ACCESS CONTROL FLOW                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [User Login]
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Get User Details:   â”‚
    â”‚ â€¢ User Type         â”‚
    â”‚ â€¢ Subscription Plan â”‚
    â”‚ â€¢ Customer ID       â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Fetch All Modules  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Filter Modules:    â”‚
    â”‚                     â”‚
    â”‚ 1. Universal        â”‚
    â”‚    â””â”€ Always Show   â”‚
    â”‚                     â”‚
    â”‚ 2. Subscription     â”‚
    â”‚    â””â”€ Check if plan â”‚
    â”‚       includes      â”‚
    â”‚                     â”‚
    â”‚ 3. Custom           â”‚
    â”‚    â””â”€ Check if      â”‚
    â”‚       assigned to   â”‚
    â”‚       customer      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Apply User Type    â”‚
    â”‚ Restrictions:      â”‚
    â”‚ â€¢ External Users   â”‚
    â”‚   (limited features)â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Apply Role-Based   â”‚
    â”‚ Permissions        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Display Module     â”‚
    â”‚ List to User       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### Customer Onboarding Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Customer â”‚â”€â”€â”€â”€â–¶â”‚ Frontend â”‚â”€â”€â”€â”€â–¶â”‚   API   â”‚â”€â”€â”€â”€â–¶â”‚Database  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚                 â”‚                â”‚
     â”‚ 1. Sign Up      â”‚                 â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚                â”‚
     â”‚                 â”‚ 2. Create User  â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                 â”‚                 â”‚ 3. Store User  â”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚ 4. Select Plan  â”‚                 â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚                â”‚
     â”‚                 â”‚ 5. Get Plans    â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                 â”‚                 â”‚ 6. Fetch Plans â”‚
     â”‚                 â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                 â”‚ 7. Plans List   â”‚                â”‚
     â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚ 8. Plans        â”‚                 â”‚                â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚ 9. Configure     â”‚                 â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚                â”‚
     â”‚                 â”‚ 10. Calculate   â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                 â”‚                 â”‚ 11. Get Pricingâ”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚                 â”‚                 â”‚ 12. Pricing    â”‚
     â”‚                 â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                 â”‚ 13. Total Cost  â”‚                â”‚
     â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚ 14. Cost        â”‚                 â”‚                â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚ 15. Payment     â”‚                 â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚                â”‚
     â”‚                 â”‚ 16. Process     â”‚                â”‚
     â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                 â”‚                 â”‚ 17. Payment    â”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚                 â”‚                 â”‚ 18. Create     â”‚
     â”‚                 â”‚                 â”‚    Subscriptionâ”‚
     â”‚                 â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                 â”‚                 â”‚                â”‚
     â”‚                 â”‚ 19. Activated   â”‚                â”‚
     â”‚                 â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚ 20. Success     â”‚                 â”‚                â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                â”‚
```

### Partner Commission Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Customer â”‚     â”‚   API    â”‚     â”‚Database  â”‚     â”‚ Partner  â”‚
â”‚  Payment â”‚     â”‚  Service â”‚     â”‚          â”‚     â”‚  Portal  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚                â”‚                â”‚
     â”‚ 1. Payment     â”‚                â”‚                â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚ 2. Check if    â”‚                â”‚
     â”‚                â”‚    via Partner â”‚                â”‚
     â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚ 3. Partner ID  â”‚                â”‚
     â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚ 4. Calculate   â”‚                â”‚
     â”‚                â”‚    Commission  â”‚                â”‚
     â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚ 5. Store       â”‚                â”‚
     â”‚                â”‚    Commission  â”‚                â”‚
     â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚ 6. Update      â”‚                â”‚
     â”‚                â”‚    Partner     â”‚                â”‚
     â”‚                â”‚    Earnings    â”‚                â”‚
     â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚                â”‚ 7. Notify      â”‚
     â”‚                â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                â”‚                â”‚                â”‚
     â”‚                â”‚                â”‚ 8. Update     â”‚
     â”‚                â”‚                â”‚    Dashboard   â”‚
     â”‚                â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

---

## ğŸ›ï¸ Technical Architecture

### System Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TECHNICAL ARCHITECTURE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ FRONTEND LAYER:                                                 â”‚
â”‚ â”œâ”€ React Application (Customer Portal)                          â”‚
â”‚ â”œâ”€ React Admin Dashboard (Super Admin Portal)                  â”‚
â”‚ â””â”€ React Partner Dashboard (Partner Portal)                    â”‚
â”‚                                                                 â”‚
â”‚ API GATEWAY:                                                    â”‚
â”‚ â”œâ”€ Authentication & Authorization                               â”‚
â”‚ â”œâ”€ Rate Limiting                                                â”‚
â”‚ â””â”€ Request Routing                                              â”‚
â”‚                                                                 â”‚
â”‚ BACKEND SERVICES:                                               â”‚
â”‚ â”œâ”€ User Management Service                                      â”‚
â”‚ â”œâ”€ Subscription Service                                         â”‚
â”‚ â”œâ”€ Module Access Service                                        â”‚
â”‚ â”œâ”€ Partner Commission Service                                   â”‚
â”‚ â”œâ”€ Billing Service                                              â”‚
â”‚ â””â”€ Notification Service                                          â”‚
â”‚                                                                 â”‚
â”‚ DATABASE LAYER:                                                 â”‚
â”‚ â”œâ”€ Users & Authentication DB                                    â”‚
â”‚ â”œâ”€ Subscriptions & Plans DB                                     â”‚
â”‚ â”œâ”€ Modules & Permissions DB                                     â”‚
â”‚ â”œâ”€ Partners & Commissions DB                                    â”‚
â”‚ â””â”€ Billing & Transactions DB                                    â”‚
â”‚                                                                 â”‚
â”‚ EXTERNAL INTEGRATIONS:                                          â”‚
â”‚ â”œâ”€ Payment Gateway (Stripe/PayPal)                              â”‚
â”‚ â”œâ”€ Email Service (SendGrid/AWS SES)                            â”‚
â”‚ â””â”€ Analytics (Optional)                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Schema Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KEY DATABASE ENTITIES                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ USERS                                                           â”‚
â”‚ â”œâ”€ id, email, name, password_hash                              â”‚
â”‚ â”œâ”€ user_type (super_admin, partner, full_access, internal,      â”‚
â”‚ â”‚   external)                                                   â”‚
â”‚ â”œâ”€ customer_id (FK)                                            â”‚
â”‚ â””â”€ partner_id (FK, if via partner)                            â”‚
â”‚                                                                 â”‚
â”‚ CUSTOMERS                                                       â”‚
â”‚ â”œâ”€ id, name, email, company_name                               â”‚
â”‚ â”œâ”€ subscription_id (FK)                                         â”‚
â”‚ â”œâ”€ partner_id (FK, nullable)                                   â”‚
â”‚ â””â”€ enrollment_date                                              â”‚
â”‚                                                                 â”‚
â”‚ SUBSCRIPTIONS                                                   â”‚
â”‚ â”œâ”€ id, customer_id (FK)                                         â”‚
â”‚ â”œâ”€ plan_id (FK)                                                 â”‚
â”‚ â”œâ”€ status (active, trial, suspended, cancelled)                â”‚
â”‚ â”œâ”€ start_date, end_date                                         â”‚
â”‚ â””â”€ billing_cycle (monthly, annual)                             â”‚
â”‚                                                                 â”‚
â”‚ SUBSCRIPTION_PLANS                                              â”‚
â”‚ â”œâ”€ id, name, description                                        â”‚
â”‚ â”œâ”€ base_cost                                                    â”‚
â”‚ â”œâ”€ internal_user_cost                                           â”‚
â”‚ â”œâ”€ external_user_cost                                           â”‚
â”‚ â”œâ”€ free_external_users_count                                    â”‚
â”‚ â””â”€ features_json                                                â”‚
â”‚                                                                 â”‚
â”‚ MODULES                                                         â”‚
â”‚ â”œâ”€ id, name, display_name, route_path                          â”‚
â”‚ â”œâ”€ module_type (universal, subscription, custom)                â”‚
â”‚ â”œâ”€ is_active                                                    â”‚
â”‚ â””â”€ plan_requirements                                            â”‚
â”‚                                                                 â”‚
â”‚ PARTNERS                                                        â”‚
â”‚ â”œâ”€ id, name, email, company                                     â”‚
â”‚ â”œâ”€ initial_commission_rate                                      â”‚
â”‚ â”œâ”€ recurring_commission_rate                                    â”‚
â”‚ â””â”€ total_earnings                                               â”‚
â”‚                                                                 â”‚
â”‚ COMMISSIONS                                                     â”‚
â”‚ â”œâ”€ id, partner_id (FK), customer_id (FK)                       â”‚
â”‚ â”œâ”€ commission_type (initial, recurring, bonus)                 â”‚
â”‚ â”œâ”€ amount, status (pending, paid, cancelled)                   â”‚
â”‚ â”œâ”€ earned_date, paid_date                                       â”‚
â”‚ â””â”€ subscription_period                                           â”‚
â”‚                                                                 â”‚
â”‚ BILLING                                                         â”‚
â”‚ â”œâ”€ id, subscription_id (FK)                                     â”‚
â”‚ â”œâ”€ amount, status                                               â”‚
â”‚ â”œâ”€ billing_date, due_date                                       â”‚
â”‚ â””â”€ payment_transaction_id                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Key Metrics & KPIs

### Super Admin Metrics
- Total Customers
- Active Subscriptions
- Monthly Recurring Revenue (MRR)
- Customer Churn Rate
- Average Revenue Per User (ARPU)
- Module Usage Statistics
- Partner Performance

### Partner Metrics
- Total Customers Enrolled
- Active Customers
- Total Earnings (Lifetime & Current Year)
- Commission Breakdown
- Renewal Rate
- Average Customer Value

### Customer Metrics
- Active Users (by type)
- Module Usage
- Feature Adoption
- Support Tickets
- Billing History

---

## ğŸ” Security & Compliance

### Security Measures
- Role-Based Access Control (RBAC)
- JWT Authentication
- API Rate Limiting
- Data Encryption (at rest & in transit)
- Audit Logging
- Multi-Factor Authentication (for admin portals)
- Payment Data Security (PCI Compliance)

### Access Control Matrix
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Resource      â”‚ Super   â”‚ Partner  â”‚ Full     â”‚ Internal â”‚
â”‚                 â”‚ Admin   â”‚          â”‚ Access   â”‚ /Externalâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View Customers  â”‚    âœ“     â”‚    âœ“*    â”‚    âœ—     â”‚    âœ—     â”‚
â”‚ Manage Plans    â”‚    âœ“     â”‚    âœ—     â”‚    âœ—     â”‚    âœ—     â”‚
â”‚ View Commissionsâ”‚    âœ“     â”‚    âœ“*    â”‚    âœ—     â”‚    âœ—     â”‚
â”‚ Manage Users    â”‚    âœ“     â”‚    âœ—     â”‚    âœ“*    â”‚    âœ—     â”‚
â”‚ View Modules    â”‚    âœ“     â”‚    âœ—     â”‚    âœ“*    â”‚    âœ“*    â”‚
â”‚ Manage Billing  â”‚    âœ“     â”‚    âœ—     â”‚    âœ“*    â”‚    âœ—     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Limited to own scope
```

---

## ğŸš€ Implementation Phases

### Phase 1: Foundation (Weeks 1-4)
- Database schema design
- Authentication system
- Basic user management
- Super Admin Portal (basic)

### Phase 2: Subscription System (Weeks 5-8)
- Subscription plan management
- Billing integration
- Customer portal enhancements
- User type implementation

### Phase 3: Module Management (Weeks 9-12)
- Module classification system
- Access control implementation
- Role-based permissions
- Module assignment logic

### Phase 4: Partner System (Weeks 13-16)
- Partner portal development
- Commission calculation engine
- Partner dashboard
- Commission payout system

### Phase 5: Integration & Testing (Weeks 17-20)
- End-to-end testing
- Performance optimization
- Security audit
- User acceptance testing

### Phase 6: Launch & Support (Week 21+)
- Production deployment
- Monitoring setup
- Documentation
- Training & support

---

## ğŸ“ˆ Success Criteria

### Business Metrics
- [ ] 100+ active subscriptions within 6 months
- [ ] 10+ active partners within 3 months
- [ ] <5% monthly churn rate
- [ ] 95%+ customer satisfaction score

### Technical Metrics
- [ ] 99.9% uptime
- [ ] <2 second page load time
- [ ] Zero security breaches
- [ ] 100% audit trail coverage

---

## ğŸ“ Conclusion

This architecture provides a scalable, secure, and flexible foundation for a multi-tenant SaaS platform with comprehensive subscription management, partner commission tracking, and granular access control. The three-portal structure ensures clear separation of concerns while maintaining efficient data flow and user experience.

**Key Benefits:**
- âœ… Flexible subscription models
- âœ… Automated partner commission tracking
- âœ… Granular module access control
- âœ… Scalable architecture
- âœ… Clear separation of portals
- âœ… Comprehensive audit trails

---

*Document Version: 1.0*  
*Last Updated: [Current Date]*  
*Prepared for: Management Review*

